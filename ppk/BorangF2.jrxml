<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="BorangF2" pageWidth="595" pageHeight="842" whenNoDataType="NoDataSection" columnWidth="535" leftMargin="30" rightMargin="30" topMargin="20" bottomMargin="20" uuid="cb54be2d-7932-46fd-b242-1adfaedcd7f9">
	<property name="ireport.zoom" value="1.2100000000000037"/>
	<property name="ireport.x" value="25"/>
	<property name="ireport.y" value="52"/>
	<property name="ireport.scriptlethandling" value="0"/>
	<property name="ireport.encoding" value="UTF-8"/>
	<import value="net.sf.jasperreports.engine.*"/>
	<import value="java.util.*"/>
	<import value="net.sf.jasperreports.engine.data.*"/>
	<parameter name="idfail" class="java.lang.String"/>
	<parameter name="namaPegawai" class="java.lang.String"/>
	<parameter name="jawatan" class="java.lang.String"/>
	<parameter name="daerahMohon" class="java.lang.String" isForPrompting="false"/>
	<parameter name="idOB" class="java.lang.String" isForPrompting="false"/>
	<parameter name="ReportDir" class="java.lang.String"/>
	<parameter name="idPermohonan" class="java.lang.String" isForPrompting="false"/>
	<parameter name="namaPentadbir" class="java.lang.String"/>
	<parameter name="flagLampiran" class="java.lang.Boolean"/>
	<parameter name="statusFail" class="java.lang.String"/>
	<parameter name="flag_keb_kemaskini" class="java.lang.String"/>
	<parameter name="NILAI_BERSIH_1" class="java.lang.String"/>
	<parameter name="NILAI_BERSIH_2" class="java.lang.String"/>
	<parameter name="namaPemohon" class="java.lang.String" isForPrompting="false"/>
	<parameter name="kpPemohon" class="java.lang.String" isForPrompting="false"/>
	<parameter name="alamatPemohon" class="java.lang.String" isForPrompting="false"/>
	<parameter name="noFailremoveslash" class="java.lang.String"/>
	<queryString>
		<![CDATA[SELECT UTAMA.*,
CASE
                WHEN (UTAMA.NBARU_MATI IS NOT NULL OR UTAMA.NLAMA_MATI  IS NOT NULL) THEN ', No. KP : '
                WHEN (UTAMA.NBARU_MATI IS NULL AND UTAMA.NLAMA_MATI  IS NULL AND UTAMA.NLAIN_MATI IS NOT NULL AND UTAMA.JENIS_KP <> 4) THEN ', No. KP : '
                WHEN UTAMA.JENIS_KP=4 AND (UTAMA.NBARU_MATI IS NULL OR UTAMA.NLAMA_MATI  IS NULL) THEN ', No. PASPORT : '
                ELSE ''
            END AS JENIS_KP_SIMATI,
CASE
                WHEN UTAMA.NBARU_MATI IS NOT NULL AND UTAMA.NLAMA_MATI IS NULL and UTAMA.NLAIN_MATI IS NULL THEN SUBSTR(UTAMA.NBARU_MATI,1,6) || '-' || SUBSTR(UTAMA.NBARU_MATI,7,2) || '-' || SUBSTR(UTAMA.NBARU_MATI,9,4)
                WHEN UTAMA.NBARU_MATI IS NOT NULL AND UTAMA.NLAMA_MATI IS NOT NULL AND UTAMA.NLAIN_MATI IS NULL THEN SUBSTR(UTAMA.NBARU_MATI,1,6) || '-' || SUBSTR(UTAMA.NBARU_MATI,7,2) || '-' || SUBSTR(UTAMA.NBARU_MATI,9,4) || ' ('||UTAMA.NLAMA_MATI ||')'
                WHEN UTAMA.NBARU_MATI IS NOT NULL AND UTAMA.NLAMA_MATI IS NOT NULL AND UTAMA.NLAIN_MATI IS NOT NULL AND UTAMA.JENIS_KP <> 4 THEN SUBSTR(UTAMA.NBARU_MATI,1,6) || '-' || SUBSTR(UTAMA.NBARU_MATI,7,2) || '-' || SUBSTR(UTAMA.NBARU_MATI,9,4) || ' ('||UTAMA.NLAMA_MATI ||' / '||UTAMA.NLAIN_MATI ||')'
                WHEN UTAMA.NBARU_MATI IS NOT NULL AND UTAMA.NLAMA_MATI IS NOT NULL AND UTAMA.NLAIN_MATI IS NOT NULL AND UTAMA.JENIS_KP = 4 THEN SUBSTR(UTAMA.NBARU_MATI,1,6) || '-' || SUBSTR(UTAMA.NBARU_MATI,7,2) || '-' || SUBSTR(UTAMA.NBARU_MATI,9,4) || ' ('||UTAMA.NLAMA_MATI ||' ) No. PASPORT : '||UTAMA.NLAIN_MATI ||''
                WHEN UTAMA.NBARU_MATI IS NOT NULL AND UTAMA.NLAMA_MATI IS NULL AND UTAMA.NLAIN_MATI IS NOT NULL AND UTAMA.JENIS_KP = 4 THEN SUBSTR(UTAMA.NBARU_MATI,1,6) || '-' || SUBSTR(UTAMA.NBARU_MATI,7,2) || '-' || SUBSTR(UTAMA.NBARU_MATI,9,4) || ' No. PASPORT : '||UTAMA.NLAIN_MATI ||''
                WHEN UTAMA.NBARU_MATI IS NOT NULL AND UTAMA.NLAMA_MATI IS NULL and UTAMA.NLAIN_MATI IS NOT NULL AND UTAMA.JENIS_KP <> 4 THEN SUBSTR(UTAMA.NBARU_MATI,1,6) || '-' || SUBSTR(UTAMA.NBARU_MATI,7,2) || '-' || SUBSTR(UTAMA.NBARU_MATI,9,4)  || ' ('||UTAMA.NLAIN_MATI ||')'
                WHEN UTAMA.NBARU_MATI IS NULL AND UTAMA.NLAMA_MATI IS NOT NULL and UTAMA.NLAIN_MATI IS NULL THEN REPLACE(UTAMA.NLAMA_MATI,'&','&#38;')
                WHEN UTAMA.NBARU_MATI IS NULL AND UTAMA.NLAMA_MATI IS NOT NULL and UTAMA.NLAIN_MATI IS NOT NULL AND UTAMA.JENIS_KP = 4 THEN REPLACE(UTAMA.NLAMA_MATI,'&','&#38;') || ' No. PASPORT : '||UTAMA.NLAIN_MATI ||''
                WHEN UTAMA.NBARU_MATI IS NULL AND UTAMA.NLAMA_MATI IS NOT NULL and UTAMA.NLAIN_MATI IS NOT NULL AND UTAMA.JENIS_KP <> 4 THEN REPLACE(UTAMA.NLAMA_MATI,'&','&#38;') || ' ('||UTAMA.NLAIN_MATI ||')'
                WHEN UTAMA.NBARU_MATI IS NULL AND UTAMA.NLAMA_MATI IS NULL and UTAMA.NLAIN_MATI IS NOT NULL THEN REPLACE(UTAMA.NLAIN_MATI,'&','&#38;')
                ELSE ''
            END AS kp_simati,
CASE
    WHEN LENGTH(UTAMA.NBARU_MOHON) != 12 THEN  ''||RTRIM(UTAMA.NBARU_MOHON)||''
    WHEN LENGTH(RTRIM(UTAMA.NBARU_MOHON))=12 THEN SUBSTR(UTAMA.NBARU_MOHON,1,6) || '-' || SUBSTR(UTAMA.NBARU_MOHON,7,2) || '-' || SUBSTR(UTAMA.NBARU_MOHON,9,4)
    ELSE ''
END
||
CASE WHEN UTAMA.NBARU_MOHON IS NOT NULL THEN

CASE WHEN UTAMA.NLAMA_MOHON IS NOT NULL AND UTAMA.NLAIN_MOHON IS NOT NULL THEN ' (' || UTAMA.NLAMA_MOHON || '/' || UTAMA.NLAIN_MOHON || ')'
WHEN UTAMA.NLAMA_MOHON IS NOT NULL AND UTAMA.NLAIN_MOHON IS NULL THEN ' (' || UTAMA.NLAMA_MOHON || ')'
WHEN UTAMA.NLAMA_MOHON IS NULL AND UTAMA.NLAIN_MOHON IS NOT NULL THEN ' (' || UTAMA.NLAIN_MOHON || ')'
ELSE '' END
ELSE CASE WHEN UTAMA.NLAMA_MOHON IS NOT NULL AND UTAMA.NLAIN_MOHON IS NOT NULL THEN UTAMA.NLAMA_MOHON || '/' || UTAMA.NLAIN_MOHON
WHEN UTAMA.NLAMA_MOHON IS NOT NULL AND UTAMA.NLAIN_MOHON IS NULL THEN UTAMA.NLAMA_MOHON
WHEN UTAMA.NLAMA_MOHON IS NULL AND UTAMA.NLAIN_MOHON IS NOT NULL THEN UTAMA.NLAIN_MOHON
ELSE '' END
 END
AS KP_PEMOHON
FROM (
SELECT B.ID_FAIL,F.ID_PERMOHONAN,K.ID_PERBICARAAN,K.ID_KEPUTUSANPERMOHONAN,N.ID_PERINTAH,
CASE
               WHEN LENGTH(B.NO_FAIL)>=30 THEN ''||substr(B.NO_FAIL,1,24)||''
         WHEN LENGTH(B.NO_FAIL)=29 THEN ''||substr(B.NO_FAIL,1,23)||''
         WHEN LENGTH(B.NO_FAIL)=28 THEN ''||substr(B.NO_FAIL,1,22)||''
         WHEN LENGTH(B.NO_FAIL)=17 THEN ''||substr(B.NO_FAIL,1,11)||''
        WHEN LENGTH(B.NO_FAIL)<=27 THEN ''||rtrim(B.NO_FAIL)||''
END AS NO_FAIL,

                        CASE
                WHEN h.jenis_kp in (0) and h.id_tarafkptg in (1) and H.NAMA_PEMOHON like ('%MAJLIS%AGAMA%ISLAM%') THEN ', No. DAFTAR: '
                WHEN h.id_tarafkptg in (6,10) and H.NAMA_PEMOHON like ('%AMANAH%') THEN ', No. DAFTAR: '
                WHEN h.id_tarafkptg in (8) and H.NAMA_PEMOHON like ('%MAJLIS%AGAMA%ISLAM%') THEN ', No. DAFTAR: '
                WHEN h.id_tarafkptg in (6,8) THEN ', No. DAFTAR: '
                WHEN h.jenis_kp in (0) and h.id_tarafkptg=1 THEN ', No. KP: '
                WHEN h.jenis_kp in (0,5,6) THEN ', No. KP: '
                WHEN h.jenis_kp in (7) and h.id_tarafkptg in (1) THEN ', No. KP: '
                WHEN h.jenis_kp=4 THEN ', No. PASPORT: '
                WHEN h.id_tarafkptg=1 THEN ', No. KP: '
            -- null,6,0,5,7,4,
                Else ''
            END AS Jenis_kp_pemohon,
REPLACE(C.NAMA_DAERAH,'&','&#38;') AS DAERAH_MOHON, D.NAMA_NEGERI AS NEGERI_MOHON,
       TO_CHAR(A.TARIKH_MOHON,'yyyy') AS TAHUN, E.NAMA_SIMATI,E.NAMA_LAIN,
       E.NO_KP_BARU AS NBARU_MATI, E.JENIS_KP AS JENIS_KP, E.NO_KP_LAMA AS NLAMA_MATI, E.NO_KP_LAIN AS NLAIN_MATI, H.NO_KP_BARU AS NBARU_MOHON, H.NO_KP_LAMA AS NLAMA_MOHON, H.NO_KP_LAIN AS NLAIN_MOHON,
      CASE
        WHEN E.ALAMAT_1 IS NULL THEN '-'
        WHEN E.ALAMAT_1 IS NOT NULL THEN Upper(REPLACE(e.ALAMAT_1,'&','&#38;')) || ', ' || Upper(REPLACE(e.ALAMAT_2,'&','&#38;')) || ', ' || Upper(REPLACE(e.ALAMAT_3,'&','&#38;'))||',' ||REPLACE(e.poskod,'&','&#38;') || ' ' || REPLACE(REPLACE(UPPER(T.KETERANGAN),','),'&','&#38;') ||', '|| REPLACE(REPLACE(UPPER(G.NAMA_NEGERI),','),'&','&#38;')
    WHEN E.ALAMAT_2 IS NULL AND E.ALAMAT_3 IS NULL THEN  REPLACE(UPPER(E.ALAMAT_1),',') || ', ' || REPLACE(REPLACE(UPPER(E.POSKOD),','),'&','&#38;') || ' ' || REPLACE(REPLACE(UPPER(T.KETERANGAN),','),'&','&#38;') ||', '|| REPLACE(REPLACE(UPPER(G.NAMA_NEGERI),','),'&','&#38;')
        WHEN E.ALAMAT_2 IS NULL THEN REPLACE(UPPER(E.ALAMAT_1),',') ||', ' || REPLACE(REPLACE(UPPER(E.ALAMAT_3),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(E.POSKOD),','),'&','&#38;') || ' ' ||REPLACE(REPLACE(UPPER(T.KETERANGAN),','),'&','&#38;') ||', '|| REPLACE(REPLACE(UPPER(G.NAMA_NEGERI),','),'&','&#38;')
        WHEN E.ALAMAT_3 IS NULL THEN REPLACE(UPPER(E.ALAMAT_1),',') ||', ' || REPLACE(REPLACE(UPPER(E.ALAMAT_2),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(E.POSKOD),','),'&','&#38;') || ' ' ||REPLACE(REPLACE(UPPER(T.KETERANGAN),','),'&','&#38;') ||', '|| REPLACE(REPLACE(UPPER(G.NAMA_NEGERI),','),'&','&#38;')
        WHEN E.ALAMAT_3 IS NOT NULL THEN REPLACE(UPPER(E.ALAMAT_1),',')||', ' || REPLACE(REPLACE(UPPER(E.ALAMAT_2),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(E.ALAMAT_3),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(E.POSKOD),','),'&','&#38;') || ' ' ||REPLACE(REPLACE(UPPER(T.KETERANGAN),','),'&','&#38;') ||', '|| REPLACE(REPLACE(UPPER(G.NAMA_NEGERI),','),'&','&#38;')
        ELSE '-'
       END AS ALAMAT_PENUH_SIMATI,

       TO_CHAR(E.TARIKH_MATI,'dd/mm/yyyy') AS TARIKH_MATI,
       REPLACE(E.NO_SIJIL_MATI,'&','&#38;') NO_SIJIL_MATI,
       H.NAMA_PEMOHON,H.NO_KP_BARU,
        CASE
        WHEN H.ALAMAT1_SURAT IS NULL THEN '-'
        WHEN H.ALAMAT2_SURAT IS NULL AND H.ALAMAT3_SURAT IS NULL THEN  REPLACE(REPLACE(UPPER(H.ALAMAT1_SURAT),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(H.POSKOD_SURAT),','),'&','&#38;') ||' '||REPLACE(REPLACE(UPPER(I.KETERANGAN),','),'&','&#38;')|| ', ' || REPLACE(REPLACE(UPPER(J.NAMA_NEGERI),','),'&','&#38;')
        WHEN H.ALAMAT2_SURAT IS NULL THEN REPLACE(REPLACE(UPPER(H.ALAMAT1_SURAT),','),'&','&#38;') ||', ' || REPLACE(REPLACE(UPPER(H.ALAMAT3_SURAT),','),'&','&#38;') || REPLACE(REPLACE(UPPER(H.POSKOD_SURAT),','),'&','&#38;')||' '||REPLACE(REPLACE(UPPER(I.KETERANGAN),','),'&','&#38;') ||', '|| REPLACE(REPLACE(UPPER(J.NAMA_NEGERI),','),'&','&#38;')
        WHEN H.ALAMAT3_SURAT IS NULL THEN REPLACE(REPLACE(UPPER(H.ALAMAT1_SURAT),','),'&','&#38;') ||', ' || REPLACE(REPLACE(UPPER(H.ALAMAT2_SURAT),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(H.POSKOD_SURAT),','),'&','&#38;')||' '||REPLACE(REPLACE(UPPER(I.KETERANGAN),','),'&','&#38;') ||', '|| REPLACE(REPLACE(UPPER(J.NAMA_NEGERI),','),'&','&#38;')
        WHEN H.ALAMAT3_SURAT IS NOT NULL THEN REPLACE(REPLACE(UPPER(H.ALAMAT1_SURAT),','),'&','&#38;')||', ' || REPLACE(REPLACE(UPPER(H.ALAMAT2_SURAT),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(H.ALAMAT3_SURAT),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(H.POSKOD_SURAT),','),'&','&#38;')||' '||REPLACE(REPLACE(UPPER(I.KETERANGAN),','),'&','&#38;') ||', '|| REPLACE(REPLACE(UPPER(J.NAMA_NEGERI),','),'&','&#38;')
        ELSE '-'
       END AS ALAMAT_PENUH_PEMOHON,

       TO_CHAR (S.TARIKH_PERINTAH,'dd/mm/yyyy') AS TARIKH_PERINTAH,
       TO_CHAR (S.TARIKH_PERINTAH,'dd') AS HARI_PERINTAH,
       CASE
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='01' THEN 'Januari'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='02' THEN 'Februari'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='03' THEN 'Mac'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='04' THEN 'April'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='05' THEN 'Mei'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='06' THEN 'Jun'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='07' THEN 'Julai'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='08' THEN 'Ogos'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='09' THEN 'September'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='10' THEN 'Oktober'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='11' THEN 'November'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='12' THEN 'Disember'
      END AS BULAN_PERINTAH,
       TO_CHAR(S.TARIKH_PERINTAH,'yyyy') AS TAHUN_PERINTAH,
       CASE
        WHEN K.ALAMAT_BICARA1 IS NULL THEN REPLACE(REPLACE(UPPER(K.TEMPAT_BICARA),','),'&','&#38;')
        WHEN K.ALAMAT_BICARA2 IS NULL AND K.ALAMAT_BICARA3 IS NULL THEN  REPLACE(REPLACE(UPPER(K.TEMPAT_BICARA),','),'&','&#38;') || ', ' ||REPLACE(REPLACE(UPPER(K.ALAMAT_BICARA1),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(K.POSKOD),','),'&','&#38;') || ' ' || REPLACE(REPLACE(UPPER(K.BANDAR),','),'&','&#38;') ||', '|| REPLACE(REPLACE(UPPER(R.NAMA_NEGERI),','),'&','&#38;')
        WHEN K.ALAMAT_BICARA2 IS NULL THEN REPLACE(REPLACE(UPPER(K.TEMPAT_BICARA),','),'&','&#38;') || ', ' ||REPLACE(REPLACE(UPPER(K.ALAMAT_BICARA1),','),'&','&#38;') ||', ' || REPLACE(REPLACE(UPPER(K.ALAMAT_BICARA3),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(K.POSKOD),','),'&','&#38;') || ' ' ||REPLACE(REPLACE(UPPER(K.BANDAR),','),'&','&#38;') ||', '||REPLACE(REPLACE(UPPER(R.NAMA_NEGERI),','),'&','&#38;')
        WHEN K.ALAMAT_BICARA3 IS NULL THEN REPLACE(REPLACE(UPPER(K.TEMPAT_BICARA),','),'&','&#38;') || ', ' ||REPLACE(REPLACE(UPPER(K.ALAMAT_BICARA1),','),'&','&#38;') ||', ' || REPLACE(REPLACE(UPPER(K.ALAMAT_BICARA2),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(K.POSKOD),','),'&','&#38;') || ' ' ||REPLACE(REPLACE(UPPER(K.BANDAR),','),'&','&#38;') ||', '|| REPLACE(REPLACE(UPPER(R.NAMA_NEGERI),','),'&','&#38;')
        WHEN K.ALAMAT_BICARA3 IS NOT NULL THEN REPLACE(REPLACE(UPPER(K.TEMPAT_BICARA),','),'&','&#38;') || ', ' ||REPLACE(REPLACE(UPPER(K.ALAMAT_BICARA1),','),'&','&#38;')||', ' || REPLACE(REPLACE(UPPER(K.ALAMAT_BICARA2),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(K.ALAMAT_BICARA3),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(K.POSKOD),','),'&','&#38;') || ' ' ||REPLACE(REPLACE(UPPER(K.BANDAR),','),'&','&#38;')||', '|| REPLACE(REPLACE(UPPER(R.NAMA_NEGERI),','),'&','&#38;')
        ELSE 'TIADA'
       END AS ALAMAT_PENUH_BICARA,
       TO_CHAR (K.TARIKH_BICARA,'dd/mm/yyyy') AS TARIKH_BICARA,
       TO_CHAR (K.TARIKH_BICARA,'dd') AS HARI_BICARA,
       CASE
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='01' THEN 'Januari'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='02' THEN 'Februari'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='03' THEN 'Mac'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='04' THEN 'April'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='05' THEN 'Mei'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='06' THEN 'Jun'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='07' THEN 'Julai'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='08' THEN 'Ogos'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='09' THEN 'September'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='10' THEN 'Oktober'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='11' THEN 'November'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='12' THEN 'Disember'
       END AS BULAN_BICARA,
       TO_CHAR(K.TARIKH_BICARA,'yyyy') AS TAHUN_BICARA,
       TO_CHAR(K.TARIKH_BICARA, 'mm') AS NOBULAN_BICARA,
      CASE
        WHEN E.ID_BUKTIMATI = 1 THEN ', No. Sijil Mati: '|| REPLACE(E.NO_SIJIL_MATI,'&','&#38;')
        WHEN E.ID_BUKTIMATI = 2 THEN ', Surat Sumpah Kematian: '|| REPLACE(E.NO_SIJIL_MATI,'&','&#38;')
        WHEN E.ID_BUKTIMATI = 3 THEN ', Anggapan Kematian dari Mahkamah Tinggi: '|| REPLACE(E.NO_SIJIL_MATI,'&','&#38;')
        WHEN E.ID_BUKTIMATI = 4 THEN ', No. Permit Kubur: '|| REPLACE(E.NO_SIJIL_MATI,'&','&#38;')
    ELSE ''
       END AS BUKTI_MATI,
       (SELECT REPLACE(TO_CHAR(JUMLAH_BAYARAN,'999,999,999.99'),' ') FROM TBLPPKBAYARAN WHERE ID_PERMOHONAN = A.ID_PERMOHONAN AND ID_JENISBAYARAN = 26) AS CUKAI_PUSAKA,
         HIS.NO_PINDAAN, TO_CHAR(HIS.TARIKH_KEMASKINI,'DD/MM/YYYY') AS TARIKH_PINDAAN

  FROM TBLPPKPERMOHONAN A,
       TBLPFDFAIL B,
       TBLRUJDAERAH C,
       TBLRUJNEGERI D,
       TBLPPKSIMATI E,
       TBLPPKPERMOHONANSIMATI F,
       TBLRUJNEGERI G,
       TBLPPKPEMOHON H,
       TBLRUJBANDAR I,
       TBLRUJNEGERI J,
       TBLPPKPERBICARAAN K,
       TBLPPKKEPUTUSANPERMOHONAN L,
       TBLPPKPERINTAHHTAOBDTL M,
       TBLPPKPERINTAHHTAOBMST N,
       TBLPPKOB O,
       TBLRUJNEGERI P,
       TBLRUJBANDAR Q,
       TBLRUJNEGERI R,
       TBLPPKPERINTAH S,
       TBLRUJBANDAR T ,
        (SELECT ID_FAIL, NO_PINDAAN, TARIKH_KEMASKINI FROM (
        SELECT H.ID_FAIL, H.NO_PINDAAN, H.TARIKH_KEMASKINI FROM TBLPPKBORANG_HISTORY H
        WHERE H.ID_FAIL = $P!{idfail}
        ORDER BY H.TARIKH_KEMASKINI DESC) WHERE ROWNUM = 1)HIS

 WHERE ((B.ID_FAIL = A.ID_FAIL)
        AND (D.ID_NEGERI = C.ID_NEGERI(+))
        AND (A.ID_NEGERIMHN = D.ID_NEGERI(+))
        AND (A.ID_DAERAHMHN = C.ID_DAERAH)
        AND (A.ID_PERMOHONAN = F.ID_PERMOHONAN)
        AND (F.ID_SIMATI = E.ID_SIMATI)
        AND (E.ID_NEGERI = G.ID_NEGERI(+))
        AND (H.ID_PEMOHON = A.ID_PEMOHON)
        AND (H.ID_BANDARSURAT = I.ID_BANDAR(+))
        AND (H.ID_NEGERISURAT = J.ID_NEGERI(+))
        AND (L.ID_KEPUTUSANPERMOHONAN = K.ID_KEPUTUSANPERMOHONAN)
        AND (A.ID_PERMOHONAN = L.ID_PERMOHONAN)
        AND (N.ID_JENISPERINTAH = 1)
        AND (N.ID_PERINTAHHTAOBMST = M.ID_PERINTAHHTAOBMST)
        AND (M.ID_OB = O.ID_OB(+))
        AND (M.STATUS_TADBIR = 'Y')
        AND (O.ID_BANDARSURAT = Q.ID_BANDAR(+))
        AND (O.ID_NEGERISURAT = P.ID_NEGERI(+))
        AND (K.ID_NEGERIBICARA = R.ID_NEGERI(+))
        AND (T.ID_BANDAR(+) = E.ID_BANDAR)
        AND (K.ID_PERBICARAAN = S.ID_PERBICARAAN)
        AND (N.ID_PERINTAH = S.ID_PERINTAH)
        AND (B.ID_FAIL=  $P!{idfail})
        AND (S.FLAG_JENIS_KEPUTUSAN = 0)
         and a.ID_FAIL = HIS.ID_FAIL(+)
       -- AND (K.BIL_BICARA IN (SELECT MAX(BIL_BICARA) AS BIL_BICARA FROM TBLPPKPERBICARAAN WHERE ID_KEPUTUSANPERMOHONAN = L.ID_KEPUTUSANPERMOHONAN))
       )

UNION

SELECT B.ID_FAIL,F.ID_PERMOHONAN,K.ID_PERBICARAAN,K.ID_KEPUTUSANPERMOHONAN,N.ID_PERINTAH,
CASE
               WHEN LENGTH(B.NO_FAIL)>=30 THEN ''||substr(B.NO_FAIL,1,24)||''
         WHEN LENGTH(B.NO_FAIL)=29 THEN ''||substr(B.NO_FAIL,1,23)||''
         WHEN LENGTH(B.NO_FAIL)=28 THEN ''||substr(B.NO_FAIL,1,22)||''
         WHEN LENGTH(B.NO_FAIL)=17 THEN ''||substr(B.NO_FAIL,1,11)||''
        WHEN LENGTH(B.NO_FAIL)<=27 THEN ''||rtrim(B.NO_FAIL)||''
       END AS NO_FAIL,

                        CASE
                WHEN h.jenis_kp in (0) and h.id_tarafkptg in (1) and H.NAMA_PEMOHON like ('%MAJLIS%AGAMA%ISLAM%') THEN ', No. DAFTAR: '
                WHEN h.id_tarafkptg in (6,10) and H.NAMA_PEMOHON like ('%AMANAH%') THEN ', No. DAFTAR: '
                WHEN h.id_tarafkptg in (8) and H.NAMA_PEMOHON like ('%MAJLIS%AGAMA%ISLAM%') THEN ', No. DAFTAR: '
                WHEN h.id_tarafkptg in (6,8) THEN ', No. DAFTAR: '
                WHEN h.jenis_kp in (0) and h.id_tarafkptg=1 THEN ', No. KP: '
                WHEN h.jenis_kp in (0,5,6) THEN ', No. KP: '
                WHEN h.jenis_kp in (7) and h.id_tarafkptg in (1) THEN ', No. KP: '
                WHEN h.jenis_kp=4 THEN ', No. PASPORT: '
                WHEN h.id_tarafkptg=1 THEN ', No. KP: '
            -- null,6,0,5,7,4,
                Else ''
            END AS Jenis_kp_pemohon,
REPLACE(C.NAMA_DAERAH,'&','&#38;') AS DAERAH_MOHON, D.NAMA_NEGERI AS NEGERI_MOHON,
       TO_CHAR(A.TARIKH_MOHON,'yyyy') AS TAHUN, E.NAMA_SIMATI,E.NAMA_LAIN,
        E.NO_KP_BARU AS NBARU_MATI, E.JENIS_KP AS JENIS_KP, E.NO_KP_LAMA AS NLAMA_MATI, E.NO_KP_LAIN AS NLAIN_MATI, H.NO_KP_BARU AS NBARU_MOHON, H.NO_KP_LAMA AS NLAMA_MOHON, H.NO_KP_LAIN AS NLAIN_MOHON,
        CASE
        WHEN E.ALAMAT_1 IS NULL THEN '-'
        WHEN E.ALAMAT_1 IS NOT NULL THEN Upper(REPLACE(e.ALAMAT_1,'&','&#38;')) || ', ' || Upper(REPLACE(e.ALAMAT_2,'&','&#38;')) || ', ' || Upper(REPLACE(e.ALAMAT_3,'&','&#38;'))||',' ||REPLACE(e.poskod,'&','&#38;') || ' ' || REPLACE(REPLACE(UPPER(T.KETERANGAN),','),'&','&#38;') ||', '|| REPLACE(REPLACE(UPPER(G.NAMA_NEGERI),','),'&','&#38;')
    WHEN E.ALAMAT_2 IS NULL AND E.ALAMAT_3 IS NULL THEN  REPLACE(UPPER(E.ALAMAT_1),',') || ', ' || REPLACE(REPLACE(UPPER(E.POSKOD),','),'&','&#38;') || ' ' || REPLACE(REPLACE(UPPER(T.KETERANGAN),','),'&','&#38;') ||', '|| REPLACE(REPLACE(UPPER(G.NAMA_NEGERI),','),'&','&#38;')
        WHEN E.ALAMAT_2 IS NULL THEN REPLACE(UPPER(E.ALAMAT_1),',') ||', ' || REPLACE(REPLACE(UPPER(E.ALAMAT_3),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(E.POSKOD),','),'&','&#38;') || ' ' ||REPLACE(REPLACE(UPPER(T.KETERANGAN),','),'&','&#38;') ||', '|| REPLACE(REPLACE(UPPER(G.NAMA_NEGERI),','),'&','&#38;')
        WHEN E.ALAMAT_3 IS NULL THEN REPLACE(UPPER(E.ALAMAT_1),',') ||', ' || REPLACE(REPLACE(UPPER(E.ALAMAT_2),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(E.POSKOD),','),'&','&#38;') || ' ' ||REPLACE(REPLACE(UPPER(T.KETERANGAN),','),'&','&#38;') ||', '|| REPLACE(REPLACE(UPPER(G.NAMA_NEGERI),','),'&','&#38;')
        WHEN E.ALAMAT_3 IS NOT NULL THEN REPLACE(UPPER(E.ALAMAT_1),',')||', ' || REPLACE(REPLACE(UPPER(E.ALAMAT_2),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(E.ALAMAT_3),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(E.POSKOD),','),'&','&#38;') || ' ' ||REPLACE(REPLACE(UPPER(T.KETERANGAN),','),'&','&#38;') ||', '|| REPLACE(REPLACE(UPPER(G.NAMA_NEGERI),','),'&','&#38;')
        ELSE '-'
       END AS ALAMAT_PENUH_SIMATI,
       TO_CHAR(E.TARIKH_MATI,'dd/mm/yyyy') AS TARIKH_MATI,
       REPLACE(E.NO_SIJIL_MATI,'&','&#38;') NO_SIJIL_MATI,
       H.NAMA_PEMOHON,H.NO_KP_BARU,
         CASE
        WHEN H.ALAMAT1_SURAT IS NULL THEN '-'
        WHEN H.ALAMAT2_SURAT IS NULL AND H.ALAMAT3_SURAT IS NULL THEN  REPLACE(REPLACE(UPPER(H.ALAMAT1_SURAT),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(H.POSKOD_SURAT),','),'&','&#38;') ||' '||REPLACE(REPLACE(UPPER(I.KETERANGAN),','),'&','&#38;')|| ', ' || REPLACE(REPLACE(UPPER(J.NAMA_NEGERI),','),'&','&#38;')
        WHEN H.ALAMAT2_SURAT IS NULL THEN REPLACE(REPLACE(UPPER(H.ALAMAT1_SURAT),','),'&','&#38;') ||', ' || REPLACE(REPLACE(UPPER(H.ALAMAT3_SURAT),','),'&','&#38;') || REPLACE(REPLACE(UPPER(H.POSKOD_SURAT),','),'&','&#38;')||' '||REPLACE(REPLACE(UPPER(I.KETERANGAN),','),'&','&#38;') ||', '|| REPLACE(REPLACE(UPPER(J.NAMA_NEGERI),','),'&','&#38;')
        WHEN H.ALAMAT3_SURAT IS NULL THEN REPLACE(REPLACE(UPPER(H.ALAMAT1_SURAT),','),'&','&#38;') ||', ' || REPLACE(REPLACE(UPPER(H.ALAMAT2_SURAT),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(H.POSKOD_SURAT),','),'&','&#38;')||' '||REPLACE(REPLACE(UPPER(I.KETERANGAN),','),'&','&#38;') ||', '|| REPLACE(REPLACE(UPPER(J.NAMA_NEGERI),','),'&','&#38;')
        WHEN H.ALAMAT3_SURAT IS NOT NULL THEN REPLACE(REPLACE(UPPER(H.ALAMAT1_SURAT),','),'&','&#38;')||', ' || REPLACE(REPLACE(UPPER(H.ALAMAT2_SURAT),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(H.ALAMAT3_SURAT),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(H.POSKOD_SURAT),','),'&','&#38;')||' '||REPLACE(REPLACE(UPPER(I.KETERANGAN),','),'&','&#38;') ||', '|| REPLACE(REPLACE(UPPER(J.NAMA_NEGERI),','),'&','&#38;')
        ELSE '-'
       END AS ALAMAT_PENUH_PEMOHON,

        TO_CHAR (S.TARIKH_PERINTAH,'dd/mm/yyyy') AS TARIKH_PERINTAH,
       TO_CHAR (S.TARIKH_PERINTAH,'dd') AS HARI_PERINTAH,
       CASE
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='01' THEN 'Januari'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='02' THEN 'Februari'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='03' THEN 'Mac'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='04' THEN 'April'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='05' THEN 'Mei'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='06' THEN 'Jun'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='07' THEN 'Julai'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='08' THEN 'Ogos'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='09' THEN 'September'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='10' THEN 'Oktober'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='11' THEN 'November'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='12' THEN 'Disember'
      END AS BULAN_PERINTAH,
       TO_CHAR(S.TARIKH_PERINTAH,'yyyy') AS TAHUN_PERINTAH,

       CASE
        WHEN K.ALAMAT_BICARA1 IS NULL THEN REPLACE(REPLACE(UPPER(K.TEMPAT_BICARA),','),'&','&#38;')
        WHEN K.ALAMAT_BICARA2 IS NULL AND K.ALAMAT_BICARA3 IS NULL THEN  REPLACE(REPLACE(UPPER(K.TEMPAT_BICARA),','),'&','&#38;') || ', ' ||REPLACE(REPLACE(UPPER(K.ALAMAT_BICARA1),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(K.POSKOD),','),'&','&#38;') || ' ' || REPLACE(REPLACE(UPPER(K.BANDAR),','),'&','&#38;') ||', '|| REPLACE(REPLACE(UPPER(R.NAMA_NEGERI),','),'&','&#38;')
        WHEN K.ALAMAT_BICARA2 IS NULL THEN REPLACE(REPLACE(UPPER(K.TEMPAT_BICARA),','),'&','&#38;') || ', ' ||REPLACE(REPLACE(UPPER(K.ALAMAT_BICARA1),','),'&','&#38;') ||', ' || REPLACE(REPLACE(UPPER(K.ALAMAT_BICARA3),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(K.POSKOD),','),'&','&#38;') || ' ' ||REPLACE(REPLACE(UPPER(K.BANDAR),','),'&','&#38;') ||', '||REPLACE(REPLACE(UPPER(R.NAMA_NEGERI),','),'&','&#38;')
        WHEN K.ALAMAT_BICARA3 IS NULL THEN REPLACE(REPLACE(UPPER(K.TEMPAT_BICARA),','),'&','&#38;') || ', ' ||REPLACE(REPLACE(UPPER(K.ALAMAT_BICARA1),','),'&','&#38;') ||', ' || REPLACE(REPLACE(UPPER(K.ALAMAT_BICARA2),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(K.POSKOD),','),'&','&#38;') || ' ' ||REPLACE(REPLACE(UPPER(K.BANDAR),','),'&','&#38;') ||', '|| REPLACE(REPLACE(UPPER(R.NAMA_NEGERI),','),'&','&#38;')
        WHEN K.ALAMAT_BICARA3 IS NOT NULL THEN REPLACE(REPLACE(UPPER(K.TEMPAT_BICARA),','),'&','&#38;') || ', ' ||REPLACE(REPLACE(UPPER(K.ALAMAT_BICARA1),','),'&','&#38;')||', ' || REPLACE(REPLACE(UPPER(K.ALAMAT_BICARA2),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(K.ALAMAT_BICARA3),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(K.POSKOD),','),'&','&#38;') || ' ' ||REPLACE(REPLACE(UPPER(K.BANDAR),','),'&','&#38;')||', '|| REPLACE(REPLACE(UPPER(R.NAMA_NEGERI),','),'&','&#38;')
        ELSE 'TIADA'
       END AS ALAMAT_PENUH_BICARA,
       TO_CHAR (K.TARIKH_BICARA,'dd/mm/yyyy') AS TARIKH_BICARA,
       TO_CHAR (K.TARIKH_BICARA,'dd') AS HARI_BICARA,
       CASE
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='01' THEN 'Januari'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='02' THEN 'Februari'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='03' THEN 'Mac'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='04' THEN 'April'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='05' THEN 'Mei'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='06' THEN 'Jun'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='07' THEN 'Julai'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='08' THEN 'Ogos'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='09' THEN 'September'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='10' THEN 'Oktober'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='11' THEN 'November'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='12' THEN 'Disember'
       END AS BULAN_BICARA,
       TO_CHAR(K.TARIKH_BICARA,'yyyy') AS TAHUN_BICARA,
       TO_CHAR(K.TARIKH_BICARA, 'mm') AS NOBULAN_BICARA,
      CASE
        WHEN E.ID_BUKTIMATI = 1 THEN ', No. Sijil Mati: '|| REPLACE(E.NO_SIJIL_MATI,'&','&#38;')
        WHEN E.ID_BUKTIMATI = 2 THEN ', Surat Sumpah Kematian: '|| REPLACE(E.NO_SIJIL_MATI,'&','&#38;')
        WHEN E.ID_BUKTIMATI = 3 THEN ', Anggapan Kematian dari Mahkamah Tinggi: '|| REPLACE(E.NO_SIJIL_MATI,'&','&#38;')
        WHEN E.ID_BUKTIMATI = 4 THEN ', No. Permit Kubur: '|| REPLACE(E.NO_SIJIL_MATI,'&','&#38;')
    ELSE ''
       END AS BUKTI_MATI,
       (SELECT REPLACE(TO_CHAR(JUMLAH_BAYARAN,'999,999,999.99'),' ') FROM TBLPPKBAYARAN WHERE ID_PERMOHONAN = A.ID_PERMOHONAN AND ID_JENISBAYARAN = 26) AS CUKAI_PUSAKA,
         HIS.NO_PINDAAN, TO_CHAR(HIS.TARIKH_KEMASKINI,'DD/MM/YYYY') AS TARIKH_PINDAAN

  FROM TBLPPKPERMOHONAN A,
       TBLPFDFAIL B,
       TBLRUJDAERAH C,
       TBLRUJNEGERI D,
       TBLPPKSIMATI E,
       TBLPPKPERMOHONANSIMATI F,
       TBLRUJNEGERI G,
       TBLPPKPEMOHON H,
       TBLRUJBANDAR I,
       TBLRUJNEGERI J,
       TBLPPKPERBICARAAN K,
       TBLPPKKEPUTUSANPERMOHONAN L,
       TBLPPKPERINTAHHTAOBDTL M,
       TBLPPKPERINTAHHTAOBMST N,
       TBLPPKOB O,
       TBLRUJNEGERI P,
       TBLRUJBANDAR Q,
       TBLRUJNEGERI R,
       TBLPPKPERINTAH S,
       TBLRUJBANDAR T,
        (SELECT ID_FAIL, NO_PINDAAN, TARIKH_KEMASKINI FROM (
       SELECT H.ID_FAIL, H.NO_PINDAAN, H.TARIKH_KEMASKINI FROM TBLPPKBORANG_HISTORY H
       WHERE H.ID_FAIL = $P!{idfail}
        ORDER BY H.TARIKH_KEMASKINI DESC) WHERE ROWNUM = 1)  HIS
 WHERE ((B.ID_FAIL = A.ID_FAIL)
        AND (D.ID_NEGERI = C.ID_NEGERI(+))
        AND (A.ID_NEGERIMHN = D.ID_NEGERI(+))
        AND (A.ID_DAERAHMHN = C.ID_DAERAH)
        AND (A.ID_PERMOHONAN = F.ID_PERMOHONAN)
        AND (F.ID_SIMATI = E.ID_SIMATI)
        AND (E.ID_NEGERI = G.ID_NEGERI(+))
        --AND (E.ID_SIMATI = AAA.ID_SIMATI)
        --AND (H.ID_PEMOHON = BBB.ID_PEMOHON)
        AND (H.ID_PEMOHON = A.ID_PEMOHON)
        AND (H.ID_BANDARSURAT = I.ID_BANDAR(+))
        AND (H.ID_NEGERISURAT = J.ID_NEGERI(+))
        AND (L.ID_KEPUTUSANPERMOHONAN = K.ID_KEPUTUSANPERMOHONAN)
        AND (A.ID_PERMOHONAN = L.ID_PERMOHONAN)
        AND (N.ID_JENISPERINTAH = 2)
        AND (N.ID_PERINTAHHTAOBMST = M.ID_PERINTAHHTAOBMST)
        AND (M.ID_OB = O.ID_OB(+))
        AND (O.ID_BANDARSURAT = Q.ID_BANDAR(+))
        AND (O.ID_NEGERISURAT = P.ID_NEGERI(+))
        AND (K.ID_NEGERIBICARA = R.ID_NEGERI(+))
        AND (T.ID_BANDAR(+) = E.ID_BANDAR)
        AND (K.ID_PERBICARAAN = S.ID_PERBICARAAN)
        AND (N.ID_PERINTAH = S.ID_PERINTAH)
         and (a.ID_FAIL = HIS.ID_FAIL(+))
        AND (B.ID_FAIL=  $P!{idfail})
        AND (S.FLAG_JENIS_KEPUTUSAN = 0)
       -- AND (K.BIL_BICARA IN (SELECT MAX(BIL_BICARA) AS BIL_BICARA FROM TBLPPKPERBICARAAN WHERE ID_KEPUTUSANPERMOHONAN = L.ID_KEPUTUSANPERMOHONAN))
       )


UNION

SELECT B.ID_FAIL,F.ID_PERMOHONAN,K.ID_PERBICARAAN,K.ID_KEPUTUSANPERMOHONAN,N.ID_PERINTAH,
CASE
              WHEN LENGTH(B.NO_FAIL)>=30 THEN ''||substr(B.NO_FAIL,1,24)||''
         WHEN LENGTH(B.NO_FAIL)=29 THEN ''||substr(B.NO_FAIL,1,23)||''
         WHEN LENGTH(B.NO_FAIL)=28 THEN ''||substr(B.NO_FAIL,1,22)||''
         WHEN LENGTH(B.NO_FAIL)=17 THEN ''||substr(B.NO_FAIL,1,11)||''
        WHEN LENGTH(B.NO_FAIL)<=27 THEN ''||rtrim(B.NO_FAIL)||''
       END AS NO_FAIL,

                        CASE
                WHEN h.jenis_kp in (0) and h.id_tarafkptg in (1) and H.NAMA_PEMOHON like ('%MAJLIS%AGAMA%ISLAM%') THEN ', No. DAFTAR: '
                WHEN h.id_tarafkptg in (6,10) and H.NAMA_PEMOHON like ('%AMANAH%') THEN ', No. DAFTAR: '
                WHEN h.id_tarafkptg in (8) and H.NAMA_PEMOHON like ('%MAJLIS%AGAMA%ISLAM%') THEN ', No. DAFTAR: '
                WHEN h.id_tarafkptg in (6,8) THEN ', No. DAFTAR: '
                WHEN h.jenis_kp in (0) and h.id_tarafkptg=1 THEN ', No. KP: '
                WHEN h.jenis_kp in (0,5,6) THEN ', No. KP: '
                WHEN h.jenis_kp in (7) and h.id_tarafkptg in (1) THEN ', No. KP: '
                WHEN h.jenis_kp=4 THEN ', No. PASPORT: '
                WHEN h.id_tarafkptg=1 THEN ', No. KP: '
            -- null,6,0,5,7,4,
                Else ''
            END AS Jenis_kp_pemohon,
REPLACE(C.NAMA_DAERAH,'&','&#38;') AS DAERAH_MOHON, D.NAMA_NEGERI AS NEGERI_MOHON,
       TO_CHAR(A.TARIKH_MOHON,'yyyy') AS TAHUN, E.NAMA_SIMATI,E.NAMA_LAIN,
        E.NO_KP_BARU AS NBARU_MATI, E.JENIS_KP AS JENIS_KP, E.NO_KP_LAMA AS NLAMA_MATI, E.NO_KP_LAIN AS NLAIN_MATI, H.NO_KP_BARU AS NBARU_MOHON, H.NO_KP_LAMA AS NLAMA_MOHON, H.NO_KP_LAIN AS NLAIN_MOHON,
       CASE
        WHEN E.ALAMAT_1 IS NULL THEN '-'
        WHEN E.ALAMAT_1 IS NOT NULL THEN Upper(REPLACE(e.ALAMAT_1,'&','&#38;')) || ', ' || Upper(REPLACE(e.ALAMAT_2,'&','&#38;')) || ', ' || Upper(REPLACE(e.ALAMAT_3,'&','&#38;'))||',' ||REPLACE(e.poskod,'&','&#38;') || ' ' || REPLACE(REPLACE(UPPER(T.KETERANGAN),','),'&','&#38;') ||', '|| REPLACE(REPLACE(UPPER(G.NAMA_NEGERI),','),'&','&#38;')
    WHEN E.ALAMAT_2 IS NULL AND E.ALAMAT_3 IS NULL THEN  REPLACE(UPPER(E.ALAMAT_1),',') || ', ' || REPLACE(REPLACE(UPPER(E.POSKOD),','),'&','&#38;') || ' ' || REPLACE(REPLACE(UPPER(T.KETERANGAN),','),'&','&#38;') ||', '|| REPLACE(REPLACE(UPPER(G.NAMA_NEGERI),','),'&','&#38;')
        WHEN E.ALAMAT_2 IS NULL THEN REPLACE(UPPER(E.ALAMAT_1),',') ||', ' || REPLACE(REPLACE(UPPER(E.ALAMAT_3),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(E.POSKOD),','),'&','&#38;') || ' ' ||REPLACE(REPLACE(UPPER(T.KETERANGAN),','),'&','&#38;') ||', '|| REPLACE(REPLACE(UPPER(G.NAMA_NEGERI),','),'&','&#38;')
        WHEN E.ALAMAT_3 IS NULL THEN REPLACE(UPPER(E.ALAMAT_1),',') ||', ' || REPLACE(REPLACE(UPPER(E.ALAMAT_2),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(E.POSKOD),','),'&','&#38;') || ' ' ||REPLACE(REPLACE(UPPER(T.KETERANGAN),','),'&','&#38;') ||', '|| REPLACE(REPLACE(UPPER(G.NAMA_NEGERI),','),'&','&#38;')
        WHEN E.ALAMAT_3 IS NOT NULL THEN REPLACE(UPPER(E.ALAMAT_1),',')||', ' || REPLACE(REPLACE(UPPER(E.ALAMAT_2),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(E.ALAMAT_3),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(E.POSKOD),','),'&','&#38;') || ' ' ||REPLACE(REPLACE(UPPER(T.KETERANGAN),','),'&','&#38;') ||', '|| REPLACE(REPLACE(UPPER(G.NAMA_NEGERI),','),'&','&#38;')
        ELSE '-'
       END AS ALAMAT_PENUH_SIMATI,
       TO_CHAR(E.TARIKH_MATI,'dd/mm/yyyy') AS TARIKH_MATI,
       REPLACE(E.NO_SIJIL_MATI,'&','&#38;') NO_SIJIL_MATI,
       H.NAMA_PEMOHON,H.NO_KP_BARU,
        CASE
        WHEN H.ALAMAT1_SURAT IS NULL THEN '-'
        WHEN H.ALAMAT2_SURAT IS NULL AND H.ALAMAT3_SURAT IS NULL THEN  REPLACE(REPLACE(UPPER(H.ALAMAT1_SURAT),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(H.POSKOD_SURAT),','),'&','&#38;') ||' '||REPLACE(REPLACE(UPPER(I.KETERANGAN),','),'&','&#38;')|| ', ' || REPLACE(REPLACE(UPPER(J.NAMA_NEGERI),','),'&','&#38;')
        WHEN H.ALAMAT2_SURAT IS NULL THEN REPLACE(REPLACE(UPPER(H.ALAMAT1_SURAT),','),'&','&#38;') ||', ' || REPLACE(REPLACE(UPPER(H.ALAMAT3_SURAT),','),'&','&#38;') || REPLACE(REPLACE(UPPER(H.POSKOD_SURAT),','),'&','&#38;')||' '||REPLACE(REPLACE(UPPER(I.KETERANGAN),','),'&','&#38;') ||', '|| REPLACE(REPLACE(UPPER(J.NAMA_NEGERI),','),'&','&#38;')
        WHEN H.ALAMAT3_SURAT IS NULL THEN REPLACE(REPLACE(UPPER(H.ALAMAT1_SURAT),','),'&','&#38;') ||', ' || REPLACE(REPLACE(UPPER(H.ALAMAT2_SURAT),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(H.POSKOD_SURAT),','),'&','&#38;')||' '||REPLACE(REPLACE(UPPER(I.KETERANGAN),','),'&','&#38;') ||', '|| REPLACE(REPLACE(UPPER(J.NAMA_NEGERI),','),'&','&#38;')
        WHEN H.ALAMAT3_SURAT IS NOT NULL THEN REPLACE(REPLACE(UPPER(H.ALAMAT1_SURAT),','),'&','&#38;')||', ' || REPLACE(REPLACE(UPPER(H.ALAMAT2_SURAT),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(H.ALAMAT3_SURAT),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(H.POSKOD_SURAT),','),'&','&#38;')||' '||REPLACE(REPLACE(UPPER(I.KETERANGAN),','),'&','&#38;') ||', '|| REPLACE(REPLACE(UPPER(J.NAMA_NEGERI),','),'&','&#38;')
        ELSE '-'
       END AS ALAMAT_PENUH_PEMOHON,
        TO_CHAR (S.TARIKH_PERINTAH,'dd/mm/yyyy') AS TARIKH_PERINTAH,
       TO_CHAR (S.TARIKH_PERINTAH,'dd') AS HARI_PERINTAH,
       CASE
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='01' THEN 'Januari'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='02' THEN 'Februari'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='03' THEN 'Mac'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='04' THEN 'April'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='05' THEN 'Mei'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='06' THEN 'Jun'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='07' THEN 'Julai'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='08' THEN 'Ogos'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='09' THEN 'September'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='10' THEN 'Oktober'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='11' THEN 'November'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='12' THEN 'Disember'
      END AS BULAN_PERINTAH,
       TO_CHAR(S.TARIKH_PERINTAH,'yyyy') AS TAHUN_PERINTAH,

       CASE
        WHEN K.ALAMAT_BICARA1 IS NULL THEN REPLACE(REPLACE(UPPER(K.TEMPAT_BICARA),','),'&','&#38;')
        WHEN K.ALAMAT_BICARA2 IS NULL AND K.ALAMAT_BICARA3 IS NULL THEN  REPLACE(REPLACE(UPPER(K.TEMPAT_BICARA),','),'&','&#38;') || ', ' ||REPLACE(REPLACE(UPPER(K.ALAMAT_BICARA1),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(K.POSKOD),','),'&','&#38;') || ' ' || REPLACE(REPLACE(UPPER(K.BANDAR),','),'&','&#38;') ||', '|| REPLACE(REPLACE(UPPER(R.NAMA_NEGERI),','),'&','&#38;')
        WHEN K.ALAMAT_BICARA2 IS NULL THEN REPLACE(REPLACE(UPPER(K.TEMPAT_BICARA),','),'&','&#38;') || ', ' ||REPLACE(REPLACE(UPPER(K.ALAMAT_BICARA1),','),'&','&#38;') ||', ' || REPLACE(REPLACE(UPPER(K.ALAMAT_BICARA3),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(K.POSKOD),','),'&','&#38;') || ' ' ||REPLACE(REPLACE(UPPER(K.BANDAR),','),'&','&#38;') ||', '||REPLACE(REPLACE(UPPER(R.NAMA_NEGERI),','),'&','&#38;')
        WHEN K.ALAMAT_BICARA3 IS NULL THEN REPLACE(REPLACE(UPPER(K.TEMPAT_BICARA),','),'&','&#38;') || ', ' ||REPLACE(REPLACE(UPPER(K.ALAMAT_BICARA1),','),'&','&#38;') ||', ' || REPLACE(REPLACE(UPPER(K.ALAMAT_BICARA2),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(K.POSKOD),','),'&','&#38;') || ' ' ||REPLACE(REPLACE(UPPER(K.BANDAR),','),'&','&#38;') ||', '|| REPLACE(REPLACE(UPPER(R.NAMA_NEGERI),','),'&','&#38;')
        WHEN K.ALAMAT_BICARA3 IS NOT NULL THEN REPLACE(REPLACE(UPPER(K.TEMPAT_BICARA),','),'&','&#38;') || ', ' ||REPLACE(REPLACE(UPPER(K.ALAMAT_BICARA1),','),'&','&#38;')||', ' || REPLACE(REPLACE(UPPER(K.ALAMAT_BICARA2),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(K.ALAMAT_BICARA3),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(K.POSKOD),','),'&','&#38;') || ' ' ||REPLACE(REPLACE(UPPER(K.BANDAR),','),'&','&#38;')||', '|| REPLACE(REPLACE(UPPER(R.NAMA_NEGERI),','),'&','&#38;')
        ELSE 'TIADA'
       END AS ALAMAT_PENUH_BICARA,
       TO_CHAR (K.TARIKH_BICARA,'dd/mm/yyyy') AS TARIKH_BICARA,
       TO_CHAR (K.TARIKH_BICARA,'dd') AS HARI_BICARA,
       CASE
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='01' THEN 'Januari'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='02' THEN 'Februari'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='03' THEN 'Mac'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='04' THEN 'April'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='05' THEN 'Mei'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='06' THEN 'Jun'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='07' THEN 'Julai'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='08' THEN 'Ogos'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='09' THEN 'September'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='10' THEN 'Oktober'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='11' THEN 'November'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='12' THEN 'Disember'
       END AS BULAN_BICARA,
       TO_CHAR(K.TARIKH_BICARA,'yyyy') AS TAHUN_BICARA,
       TO_CHAR(K.TARIKH_BICARA, 'mm') AS NOBULAN_BICARA,
      CASE
        WHEN E.ID_BUKTIMATI = 1 THEN ', No. Sijil Mati: '|| REPLACE(E.NO_SIJIL_MATI,'&','&#38;')
        WHEN E.ID_BUKTIMATI = 2 THEN ', Surat Sumpah Kematian: '|| REPLACE(E.NO_SIJIL_MATI,'&','&#38;')
        WHEN E.ID_BUKTIMATI = 3 THEN ', Anggapan Kematian dari Mahkamah Tinggi: '|| REPLACE(E.NO_SIJIL_MATI,'&','&#38;')
        WHEN E.ID_BUKTIMATI = 4 THEN ', No. Permit Kubur: '|| REPLACE(E.NO_SIJIL_MATI,'&','&#38;')
    ELSE ''
       END AS BUKTI_MATI,
       (SELECT REPLACE(TO_CHAR(JUMLAH_BAYARAN,'999,999,999.99'),' ') FROM TBLPPKBAYARAN WHERE ID_PERMOHONAN = A.ID_PERMOHONAN AND ID_JENISBAYARAN = 26) AS CUKAI_PUSAKA,
        HIS.NO_PINDAAN, TO_CHAR(HIS.TARIKH_KEMASKINI,'DD/MM/YYYY') AS TARIKH_PINDAAN
  FROM TBLPPKPERMOHONAN A,
       TBLPFDFAIL B,
       TBLRUJDAERAH C,
       TBLRUJNEGERI D,
       TBLPPKSIMATI E,
       TBLPPKPERMOHONANSIMATI F,
       TBLRUJNEGERI G,
       TBLPPKPEMOHON H,
       TBLRUJBANDAR I,
       TBLRUJNEGERI J,
       TBLPPKPERBICARAAN K,
       TBLPPKKEPUTUSANPERMOHONAN L,
       TBLPPKPERINTAHHAOBDTL M,
       TBLPPKPERINTAHHAOBMST N,
       TBLPPKOB O,
       TBLRUJNEGERI P,
       TBLRUJBANDAR Q,
       TBLRUJNEGERI R,
       TBLPPKPERINTAH S,
       TBLRUJBANDAR T,
  (SELECT ID_FAIL, NO_PINDAAN, TARIKH_KEMASKINI FROM (
        SELECT H.ID_FAIL, H.NO_PINDAAN, H.TARIKH_KEMASKINI FROM TBLPPKBORANG_HISTORY H
        WHERE H.ID_FAIL = $P!{idfail}
        ORDER BY H.TARIKH_KEMASKINI DESC) WHERE ROWNUM = 1)  HIS
 WHERE ((B.ID_FAIL = A.ID_FAIL)
        AND (D.ID_NEGERI = C.ID_NEGERI(+))
        AND (A.ID_NEGERIMHN = D.ID_NEGERI(+))
        AND (A.ID_DAERAHMHN = C.ID_DAERAH)
        AND (A.ID_PERMOHONAN = F.ID_PERMOHONAN)
        AND (F.ID_SIMATI = E.ID_SIMATI)
        AND (E.ID_NEGERI = G.ID_NEGERI(+))
        AND (H.ID_PEMOHON = A.ID_PEMOHON)
        AND (H.ID_BANDARSURAT = I.ID_BANDAR(+))
        AND (H.ID_NEGERISURAT = J.ID_NEGERI(+))
        AND (L.ID_KEPUTUSANPERMOHONAN = K.ID_KEPUTUSANPERMOHONAN)
        AND (A.ID_PERMOHONAN = L.ID_PERMOHONAN)
        AND (N.ID_JENISPERINTAH = 2)
        AND (N.ID_PERINTAHHAOBMST = M.ID_PERINTAHHAOBMST)
        AND (M.ID_OB = O.ID_OB(+))
        AND (O.ID_BANDARSURAT = Q.ID_BANDAR(+))
        AND (O.ID_NEGERISURAT = P.ID_NEGERI(+))
        AND (K.ID_NEGERIBICARA = R.ID_NEGERI(+))
        AND (T.ID_BANDAR(+) = E.ID_BANDAR)
        AND (K.ID_PERBICARAAN = S.ID_PERBICARAAN)
        AND (N.ID_PERINTAH = S.ID_PERINTAH)
         and a.ID_FAIL = HIS.ID_FAIL(+)
        AND (B.ID_FAIL= $P!{idfail})
        AND (S.FLAG_JENIS_KEPUTUSAN = 0)
       -- AND (K.BIL_BICARA IN (SELECT MAX(BIL_BICARA) AS BIL_BICARA FROM TBLPPKPERBICARAAN WHERE ID_KEPUTUSANPERMOHONAN = L.ID_KEPUTUSANPERMOHONAN))
       )

  UNION

  SELECT B.ID_FAIL,F.ID_PERMOHONAN,K.ID_PERBICARAAN,K.ID_KEPUTUSANPERMOHONAN,N.ID_PERINTAH,
  CASE
               WHEN LENGTH(B.NO_FAIL)>=30 THEN ''||substr(B.NO_FAIL,1,24)||''
         WHEN LENGTH(B.NO_FAIL)=29 THEN ''||substr(B.NO_FAIL,1,23)||''
         WHEN LENGTH(B.NO_FAIL)=28 THEN ''||substr(B.NO_FAIL,1,22)||''
         WHEN LENGTH(B.NO_FAIL)=17 THEN ''||substr(B.NO_FAIL,1,11)||''
        WHEN LENGTH(B.NO_FAIL)<=27 THEN ''||rtrim(B.NO_FAIL)||''
       END AS NO_FAIL,

                        CASE
                WHEN h.jenis_kp in (0) and h.id_tarafkptg in (1) and H.NAMA_PEMOHON like ('%MAJLIS%AGAMA%ISLAM%') THEN ', No. DAFTAR: '
                WHEN h.id_tarafkptg in (6,10) and H.NAMA_PEMOHON like ('%AMANAH%') THEN ', No. DAFTAR: '
                WHEN h.id_tarafkptg in (8) and H.NAMA_PEMOHON like ('%MAJLIS%AGAMA%ISLAM%') THEN ', No. DAFTAR: '
                WHEN h.id_tarafkptg in (6,8) THEN ', No. DAFTAR: '
                WHEN h.jenis_kp in (0) and h.id_tarafkptg=1 THEN ', No. KP: '
                WHEN h.jenis_kp in (0,5,6) THEN ', No. KP: '
                WHEN h.jenis_kp in (7) and h.id_tarafkptg in (1) THEN ', No. KP: '
                WHEN h.jenis_kp=4 THEN ', No. PASPORT: '
                WHEN h.id_tarafkptg=1 THEN ', No. KP: '
            -- null,6,0,5,7,4,
                Else ''
            END AS Jenis_kp_pemohon,
   C.NAMA_DAERAH AS DAERAH_MOHON, D.NAMA_NEGERI AS NEGERI_MOHON,
       TO_CHAR(A.TARIKH_MOHON,'yyyy') AS TAHUN, E.NAMA_SIMATI,E.NAMA_LAIN,
        E.NO_KP_BARU AS NBARU_MATI, E.JENIS_KP AS JENIS_KP, E.NO_KP_LAMA AS NLAMA_MATI, E.NO_KP_LAIN AS NLAIN_MATI, H.NO_KP_BARU AS NBARU_MOHON, H.NO_KP_LAMA AS NLAMA_MOHON, H.NO_KP_LAIN AS NLAIN_MOHON,
          CASE
        WHEN E.ALAMAT_1 IS NULL THEN '-'
        WHEN E.ALAMAT_1 IS NOT NULL THEN Upper(REPLACE(e.ALAMAT_1,'&','&#38;')) || ', ' || Upper(REPLACE(e.ALAMAT_2,'&','&#38;')) || ', ' || Upper(REPLACE(e.ALAMAT_3,'&','&#38;'))||',' ||REPLACE(e.poskod,'&','&#38;') || ' ' || REPLACE(REPLACE(UPPER(T.KETERANGAN),','),'&','&#38;') ||', '|| REPLACE(REPLACE(UPPER(G.NAMA_NEGERI),','),'&','&#38;')
    WHEN E.ALAMAT_2 IS NULL AND E.ALAMAT_3 IS NULL THEN  REPLACE(UPPER(E.ALAMAT_1),',') || ', ' || REPLACE(REPLACE(UPPER(E.POSKOD),','),'&','&#38;') || ' ' || REPLACE(REPLACE(UPPER(T.KETERANGAN),','),'&','&#38;') ||', '|| REPLACE(REPLACE(UPPER(G.NAMA_NEGERI),','),'&','&#38;')
        WHEN E.ALAMAT_2 IS NULL THEN REPLACE(UPPER(E.ALAMAT_1),',') ||', ' || REPLACE(REPLACE(UPPER(E.ALAMAT_3),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(E.POSKOD),','),'&','&#38;') || ' ' ||REPLACE(REPLACE(UPPER(T.KETERANGAN),','),'&','&#38;') ||', '|| REPLACE(REPLACE(UPPER(G.NAMA_NEGERI),','),'&','&#38;')
        WHEN E.ALAMAT_3 IS NULL THEN REPLACE(UPPER(E.ALAMAT_1),',') ||', ' || REPLACE(REPLACE(UPPER(E.ALAMAT_2),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(E.POSKOD),','),'&','&#38;') || ' ' ||REPLACE(REPLACE(UPPER(T.KETERANGAN),','),'&','&#38;') ||', '|| REPLACE(REPLACE(UPPER(G.NAMA_NEGERI),','),'&','&#38;')
        WHEN E.ALAMAT_3 IS NOT NULL THEN REPLACE(UPPER(E.ALAMAT_1),',')||', ' || REPLACE(REPLACE(UPPER(E.ALAMAT_2),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(E.ALAMAT_3),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(E.POSKOD),','),'&','&#38;') || ' ' ||REPLACE(REPLACE(UPPER(T.KETERANGAN),','),'&','&#38;') ||', '|| REPLACE(REPLACE(UPPER(G.NAMA_NEGERI),','),'&','&#38;')
        ELSE '-'
       END AS ALAMAT_PENUH_SIMATI,
       TO_CHAR(E.TARIKH_MATI,'dd/mm/yyyy') AS TARIKH_MATI,
       REPLACE(E.NO_SIJIL_MATI,'&','&#38;') NO_SIJIL_MATI,
       H.NAMA_PEMOHON,H.NO_KP_BARU,
       CASE
        WHEN H.ALAMAT1_SURAT IS NULL THEN '-'
        WHEN H.ALAMAT2_SURAT IS NULL AND H.ALAMAT3_SURAT IS NULL THEN  REPLACE(REPLACE(UPPER(H.ALAMAT1_SURAT),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(H.POSKOD_SURAT),','),'&','&#38;') ||' '||REPLACE(REPLACE(UPPER(I.KETERANGAN),','),'&','&#38;')|| ', ' || REPLACE(REPLACE(UPPER(J.NAMA_NEGERI),','),'&','&#38;')
        WHEN H.ALAMAT2_SURAT IS NULL THEN REPLACE(REPLACE(UPPER(H.ALAMAT1_SURAT),','),'&','&#38;') ||', ' || REPLACE(REPLACE(UPPER(H.ALAMAT3_SURAT),','),'&','&#38;') || REPLACE(REPLACE(UPPER(H.POSKOD_SURAT),','),'&','&#38;')||' '||REPLACE(REPLACE(UPPER(I.KETERANGAN),','),'&','&#38;') ||', '|| REPLACE(REPLACE(UPPER(J.NAMA_NEGERI),','),'&','&#38;')
        WHEN H.ALAMAT3_SURAT IS NULL THEN REPLACE(REPLACE(UPPER(H.ALAMAT1_SURAT),','),'&','&#38;') ||', ' || REPLACE(REPLACE(UPPER(H.ALAMAT2_SURAT),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(H.POSKOD_SURAT),','),'&','&#38;')||' '||REPLACE(REPLACE(UPPER(I.KETERANGAN),','),'&','&#38;') ||', '|| REPLACE(REPLACE(UPPER(J.NAMA_NEGERI),','),'&','&#38;')
        WHEN H.ALAMAT3_SURAT IS NOT NULL THEN REPLACE(REPLACE(UPPER(H.ALAMAT1_SURAT),','),'&','&#38;')||', ' || REPLACE(REPLACE(UPPER(H.ALAMAT2_SURAT),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(H.ALAMAT3_SURAT),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(H.POSKOD_SURAT),','),'&','&#38;')||' '||REPLACE(REPLACE(UPPER(I.KETERANGAN),','),'&','&#38;') ||', '|| REPLACE(REPLACE(UPPER(J.NAMA_NEGERI),','),'&','&#38;')
        ELSE '-'
       END AS ALAMAT_PENUH_PEMOHON,
        TO_CHAR (S.TARIKH_PERINTAH,'dd/mm/yyyy') AS TARIKH_PERINTAH,
       TO_CHAR (S.TARIKH_PERINTAH,'dd') AS HARI_PERINTAH,
       CASE
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='01' THEN 'Januari'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='02' THEN 'Februari'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='03' THEN 'Mac'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='04' THEN 'April'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='05' THEN 'Mei'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='06' THEN 'Jun'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='07' THEN 'Julai'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='08' THEN 'Ogos'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='09' THEN 'September'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='10' THEN 'Oktober'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='11' THEN 'November'
        WHEN TO_CHAR(S.TARIKH_PERINTAH,'mm')='12' THEN 'Disember'
      END AS BULAN_PERINTAH,
       TO_CHAR(S.TARIKH_PERINTAH,'yyyy') AS TAHUN_PERINTAH,

       CASE
        WHEN K.ALAMAT_BICARA1 IS NULL THEN REPLACE(REPLACE(UPPER(K.TEMPAT_BICARA),','),'&','&#38;')
        WHEN K.ALAMAT_BICARA2 IS NULL AND K.ALAMAT_BICARA3 IS NULL THEN  REPLACE(REPLACE(UPPER(K.TEMPAT_BICARA),','),'&','&#38;') || ', ' ||REPLACE(REPLACE(UPPER(K.ALAMAT_BICARA1),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(K.POSKOD),','),'&','&#38;') || ' ' || REPLACE(REPLACE(UPPER(K.BANDAR),','),'&','&#38;') ||', '|| REPLACE(REPLACE(UPPER(R.NAMA_NEGERI),','),'&','&#38;')
        WHEN K.ALAMAT_BICARA2 IS NULL THEN REPLACE(REPLACE(UPPER(K.TEMPAT_BICARA),','),'&','&#38;') || ', ' ||REPLACE(REPLACE(UPPER(K.ALAMAT_BICARA1),','),'&','&#38;') ||', ' || REPLACE(REPLACE(UPPER(K.ALAMAT_BICARA3),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(K.POSKOD),','),'&','&#38;') || ' ' ||REPLACE(REPLACE(UPPER(K.BANDAR),','),'&','&#38;') ||', '||REPLACE(REPLACE(UPPER(R.NAMA_NEGERI),','),'&','&#38;')
        WHEN K.ALAMAT_BICARA3 IS NULL THEN REPLACE(REPLACE(UPPER(K.TEMPAT_BICARA),','),'&','&#38;') || ', ' ||REPLACE(REPLACE(UPPER(K.ALAMAT_BICARA1),','),'&','&#38;') ||', ' || REPLACE(REPLACE(UPPER(K.ALAMAT_BICARA2),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(K.POSKOD),','),'&','&#38;') || ' ' ||REPLACE(REPLACE(UPPER(K.BANDAR),','),'&','&#38;') ||', '|| REPLACE(REPLACE(UPPER(R.NAMA_NEGERI),','),'&','&#38;')
        WHEN K.ALAMAT_BICARA3 IS NOT NULL THEN REPLACE(REPLACE(UPPER(K.TEMPAT_BICARA),','),'&','&#38;') || ', ' ||REPLACE(REPLACE(UPPER(K.ALAMAT_BICARA1),','),'&','&#38;')||', ' || REPLACE(REPLACE(UPPER(K.ALAMAT_BICARA2),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(K.ALAMAT_BICARA3),','),'&','&#38;') || ', ' || REPLACE(REPLACE(UPPER(K.POSKOD),','),'&','&#38;') || ' ' ||REPLACE(REPLACE(UPPER(K.BANDAR),','),'&','&#38;')||', '|| REPLACE(REPLACE(UPPER(R.NAMA_NEGERI),','),'&','&#38;')
        ELSE 'TIADA'
       END AS ALAMAT_PENUH_BICARA,
       TO_CHAR (K.TARIKH_BICARA,'dd/mm/yyyy') AS TARIKH_BICARA,
       TO_CHAR (K.TARIKH_BICARA,'dd') AS HARI_BICARA,
       CASE
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='01' THEN 'Januari'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='02' THEN 'Februari'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='03' THEN 'Mac'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='04' THEN 'April'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='05' THEN 'Mei'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='06' THEN 'Jun'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='07' THEN 'Julai'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='08' THEN 'Ogos'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='09' THEN 'September'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='10' THEN 'Oktober'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='11' THEN 'November'
        WHEN TO_CHAR(K.TARIKH_BICARA,'mm')='12' THEN 'Disember'
       END AS BULAN_BICARA,
       TO_CHAR(K.TARIKH_BICARA,'yyyy') AS TAHUN_BICARA,
       TO_CHAR(K.TARIKH_BICARA, 'mm') AS NOBULAN_BICARA,
      CASE
        WHEN E.ID_BUKTIMATI = 1 THEN ', No. Sijil Mati: '|| REPLACE(E.NO_SIJIL_MATI,'&','&#38;')
        WHEN E.ID_BUKTIMATI = 2 THEN ', Surat Sumpah Kematian: '|| REPLACE(E.NO_SIJIL_MATI,'&','&#38;')
        WHEN E.ID_BUKTIMATI = 3 THEN ', Anggapan Kematian dari Mahkamah Tinggi: '|| REPLACE(E.NO_SIJIL_MATI,'&','&#38;')
        WHEN E.ID_BUKTIMATI = 4 THEN ', No. Permit Kubur: '|| REPLACE(E.NO_SIJIL_MATI,'&','&#38;')
    ELSE ''
       END AS BUKTI_MATI,
       (SELECT REPLACE(TO_CHAR(JUMLAH_BAYARAN,'999,999,999.99'),' ') FROM TBLPPKBAYARAN WHERE ID_PERMOHONAN = A.ID_PERMOHONAN AND ID_JENISBAYARAN = 26) AS CUKAI_PUSAKA,
         HIS.NO_PINDAAN, TO_CHAR(HIS.TARIKH_KEMASKINI,'DD/MM/YYYY') AS TARIKH_PINDAAN
  FROM TBLPPKPERMOHONAN A,
       TBLPFDFAIL B,
       TBLRUJDAERAH C,
       TBLRUJNEGERI D,
       TBLPPKSIMATI E,
       TBLPPKPERMOHONANSIMATI F,
       TBLRUJNEGERI G,
       TBLPPKPEMOHON H,
       TBLRUJBANDAR I,
       TBLRUJNEGERI J,
       TBLPPKPERBICARAAN K,
       TBLPPKKEPUTUSANPERMOHONAN L,
       TBLPPKPERINTAHHAOBDTL M,
       TBLPPKPERINTAHHAOBMST N,
       TBLPPKOB O,
       TBLRUJNEGERI P,
       TBLRUJBANDAR Q,
       TBLRUJNEGERI R,
       TBLPPKPERINTAH S,
       TBLRUJBANDAR T,
  (SELECT ID_FAIL, NO_PINDAAN, TARIKH_KEMASKINI FROM (
        SELECT H.ID_FAIL, H.NO_PINDAAN, H.TARIKH_KEMASKINI FROM TBLPPKBORANG_HISTORY H
        WHERE H.ID_FAIL = $P!{idfail}
        ORDER BY H.TARIKH_KEMASKINI DESC) WHERE ROWNUM = 1)  HIS
 WHERE ((B.ID_FAIL = A.ID_FAIL)
        AND (D.ID_NEGERI = C.ID_NEGERI(+))
        AND (A.ID_NEGERIMHN = D.ID_NEGERI(+))
        AND (A.ID_DAERAHMHN = C.ID_DAERAH)
        AND (A.ID_PERMOHONAN = F.ID_PERMOHONAN)
        AND (F.ID_SIMATI = E.ID_SIMATI)
        AND (E.ID_NEGERI = G.ID_NEGERI(+))
       -- AND (E.ID_SIMATI = AAA.ID_SIMATI)
       -- AND (H.ID_PEMOHON = BBB.ID_PEMOHON)
        AND (H.ID_PEMOHON = A.ID_PEMOHON)
        AND (H.ID_BANDARSURAT = I.ID_BANDAR(+))
        AND (H.ID_NEGERISURAT = J.ID_NEGERI(+))
        AND (L.ID_KEPUTUSANPERMOHONAN = K.ID_KEPUTUSANPERMOHONAN)
        AND (A.ID_PERMOHONAN = L.ID_PERMOHONAN)
        AND (N.ID_JENISPERINTAH = 1)
        AND (M.STATUS_TADBIR = 'Y')
        AND (N.ID_PERINTAHHAOBMST = M.ID_PERINTAHHAOBMST)
        AND (M.ID_OB = O.ID_OB(+))
        AND (O.ID_BANDARSURAT = Q.ID_BANDAR(+))
        AND (O.ID_NEGERISURAT = P.ID_NEGERI(+))
        AND (K.ID_NEGERIBICARA = R.ID_NEGERI(+))
        AND (T.ID_BANDAR(+) = E.ID_BANDAR)
        AND (K.ID_PERBICARAAN = S.ID_PERBICARAAN)
        AND (N.ID_PERINTAH = S.ID_PERINTAH)
         and a.ID_FAIL = HIS.ID_FAIL(+)
        AND (B.ID_FAIL= $P!{idfail})
        AND (S.FLAG_JENIS_KEPUTUSAN = 0)
       -- AND (K.BIL_BICARA IN (SELECT MAX(BIL_BICARA) AS BIL_BICARA FROM TBLPPKPERBICARAAN WHERE ID_KEPUTUSANPERMOHONAN = L.ID_KEPUTUSANPERMOHONAN))
       )
       ) UTAMA]]>
	</queryString>
	<field name="ID_FAIL" class="java.math.BigDecimal"/>
	<field name="ID_PERMOHONAN" class="java.math.BigDecimal"/>
	<field name="ID_PERBICARAAN" class="java.math.BigDecimal"/>
	<field name="ID_KEPUTUSANPERMOHONAN" class="java.math.BigDecimal"/>
	<field name="ID_PERINTAH" class="java.math.BigDecimal"/>
	<field name="NO_FAIL" class="java.lang.String"/>
	<field name="JENIS_KP_PEMOHON" class="java.lang.String"/>
	<field name="DAERAH_MOHON" class="java.lang.String"/>
	<field name="NEGERI_MOHON" class="java.lang.String"/>
	<field name="TAHUN" class="java.lang.String"/>
	<field name="NAMA_SIMATI" class="java.lang.String"/>
	<field name="NAMA_LAIN" class="java.lang.String"/>
	<field name="NBARU_MATI" class="java.lang.String"/>
	<field name="JENIS_KP" class="java.lang.String"/>
	<field name="NLAMA_MATI" class="java.lang.String"/>
	<field name="NLAIN_MATI" class="java.lang.String"/>
	<field name="NBARU_MOHON" class="java.lang.String"/>
	<field name="NLAMA_MOHON" class="java.lang.String"/>
	<field name="NLAIN_MOHON" class="java.lang.String"/>
	<field name="ALAMAT_PENUH_SIMATI" class="java.lang.String"/>
	<field name="TARIKH_MATI" class="java.lang.String"/>
	<field name="NO_SIJIL_MATI" class="java.lang.String"/>
	<field name="NAMA_PEMOHON" class="java.lang.String"/>
	<field name="NO_KP_BARU" class="java.lang.String"/>
	<field name="ALAMAT_PENUH_PEMOHON" class="java.lang.String"/>
	<field name="TARIKH_PERINTAH" class="java.lang.String"/>
	<field name="HARI_PERINTAH" class="java.lang.String"/>
	<field name="BULAN_PERINTAH" class="java.lang.String"/>
	<field name="TAHUN_PERINTAH" class="java.lang.String"/>
	<field name="ALAMAT_PENUH_BICARA" class="java.lang.String"/>
	<field name="TARIKH_BICARA" class="java.lang.String"/>
	<field name="HARI_BICARA" class="java.lang.String"/>
	<field name="BULAN_BICARA" class="java.lang.String"/>
	<field name="TAHUN_BICARA" class="java.lang.String"/>
	<field name="NOBULAN_BICARA" class="java.lang.String"/>
	<field name="BUKTI_MATI" class="java.lang.String"/>
	<field name="CUKAI_PUSAKA" class="java.lang.String"/>
	<field name="NO_PINDAAN" class="java.lang.String"/>
	<field name="TARIKH_PINDAAN" class="java.lang.String"/>
	<field name="JENIS_KP_SIMATI" class="java.lang.String"/>
	<field name="KP_SIMATI" class="java.lang.String"/>
	<field name="KP_PEMOHON" class="java.lang.String"/>
	<background>
		<band height="400" splitType="Stretch">
			<image vAlign="Middle">
				<reportElement uuid="6fe7321b-10d2-451e-a165-b3bc035a72f0" key="image-1" positionType="Float" x="197" y="159" width="159" height="91">
					<printWhenExpression><![CDATA[new Boolean($P{statusFail}.equals("Y")?true:false)]]></printWhenExpression>
				</reportElement>
				<imageExpression><![CDATA[$P{ReportDir} +"//ppk//DRAF.png"]]></imageExpression>
			</image>
		</band>
	</background>
	<title>
		<band splitType="Stretch"/>
	</title>
	<pageHeader>
		<band height="21" splitType="Stretch">
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement uuid="89f3f33a-a26e-47a6-a426-b5c661966d2a" key="textField-18" positionType="Float" isPrintRepeatedValues="false" x="0" y="1" width="206" height="20" isPrintWhenDetailOverflows="true">
					<printWhenExpression><![CDATA[new Boolean($P{flag_keb_kemaskini}.equals("Y")?true:false)]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None">
					<font fontName="Times New Roman" size="7" isBold="true" pdfFontName="Courier-Bold" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Pembetulan/pindaan ke atas perintah ini telah dibuat bagi Daerah " +$F{DAERAH_MOHON}+
".\nNo Daftar "+$F{NO_PINDAAN}+" bertarikh "+$F{TARIKH_PINDAAN}]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<columnHeader>
		<band splitType="Stretch"/>
	</columnHeader>
	<detail>
		<band height="81" splitType="Stretch">
			<textField isStretchWithOverflow="true" pattern="dd/MM/yyyy" isBlankWhenNull="false">
				<reportElement uuid="9e366595-961c-4083-a910-3d0d6ec95f95" key="textField-2" positionType="Float" x="42" y="43" width="450" height="23"/>
				<textElement textAlignment="Justified" markup="styled">
					<font fontName="Verdana" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA["Dalam hal Harta pusaka  <style isBold='true' pdfFontName='Helvetica-Bold'>" + ($F{NAMA_LAIN}!= null ? $F{NAMA_SIMATI}+" @ "+$F{NAMA_LAIN}:$F{NAMA_SIMATI}) +  ($F{JENIS_KP_SIMATI}!= null? $F{JENIS_KP_SIMATI}:"")+ ($F{KP_SIMATI}!= null? $F{KP_SIMATI}:"") +  ", Tarikh Mati: "+ ($F{TARIKH_MATI} != null ? $F{TARIKH_MATI}:"TIADA")+($F{BUKTI_MATI}!=null?$F{BUKTI_MATI}:"")+".</style>"
+"\n\nPetisyen daripada  <style isBold='true' pdfFontName='Helvetica-Bold'>" + ($F{NAMA_PEMOHON}!= null ? $F{NAMA_PEMOHON}:"TIADA")+($F{KP_PEMOHON}!= "" ? ", No. KP : "+ $F{KP_PEMOHON}:"")+"</style> yang beralamat di <style isBold='true' pdfFontName='Helvetica-Bold'>" +($F{ALAMAT_PENUH_PEMOHON}!= null ? $F{ALAMAT_PENUH_PEMOHON}:"-")+".</style>"
+"\n\n                                  <style isBold='true' pdfFontName='Helvetica-Bold'>PEMBERIAN SURAT KUASA MENTADBIR DI BAWAH SEKSYEN 13</style>"
+"\n\nSAYA <style isBold='true' pdfFontName='Helvetica-Bold'>"+($P{namaPegawai}!= null ? $P{namaPegawai}:"TIADA")+ " - " +($P{jawatan}!= null ? $P{jawatan}:"TIADA")+"</style> <style isBold='true' pdfFontName='Helvetica-Bold'>" +($F{DAERAH_MOHON}!= null ? $F{DAERAH_MOHON}:"TIADA")+"</style> dengan ini memaklumkan bahawa pada <style isBold='true' pdfFontName='Helvetica-Bold'>"+($F{HARI_BICARA}!= null ? $F{HARI_BICARA}:"TIADA")+"</style> haribulan <style isBold='true' pdfFontName='Helvetica-Bold'>"+($F{BULAN_BICARA}!= null ? $F{BULAN_BICARA}:"TIADA")+" "+($F{TAHUN_BICARA}!= null ? $F{TAHUN_BICARA}:"")+"</style>, Surat Kuasa Mentadbir harta pusaka dan barang kepunyaan <style isBold='true' pdfFontName='Helvetica-Bold'>"+($F{NAMA_SIMATI}!= null ?$F{NAMA_SIMATI}:"TIADA")+"</style> si mati yang dahulunya beralamat di <style isBold='true' pdfFontName='Helvetica-Bold'>" +($F{ALAMAT_PENUH_SIMATI}!= null ?$F{ALAMAT_PENUH_SIMATI}:"-")+"</style> telah diberikan kepada "
+"\n<style isBold='true' pdfFontName='Helvetica-Bold'>"+$P{namaPentadbir} + "</style> setelah dia mengaku janji untuk mentadbirkan harta pusaka dan barang itu, dan membuat suatu inventori lengkap dan benar tentang harta pusaka dan barang tersebut dan mempamerkan inventori itu kepada <style isBold='true' pdfFontName='Helvetica-Bold'>* PENTADBIR TANAH </style> bagi Daerah itu dalam tempoh enam bulan daripada tarikh pemberian ini atau dalam tempoh lanjutan sebagaimana yang <style isBold='true' pdfFontName='Helvetica-Bold'>* PENTADBIR TANAH </style> boleh ditetapkan dari semasa ke semasa dan juga memberikan kepada <style isBold='true' pdfFontName='Helvetica-Bold'>* PENTADBIR TANAH </style> suatu akaun sebenar mengenai harta pusaka dan barang tersebut dalam tempoh satu tahun daripada tarikh yang sama atau dalam tempoh lanjutan sebagaimana yang <style isBold='true' pdfFontName='Helvetica-Bold'>* PENTADBIR TANAH </style> boleh ditetapkan dari semasa ke semasa."
+"\n\n"+"**Pemberian ini adalah tertakluk kepada pengehadan yang berikut :-"
+"\n\n"+"                   Ia adalah terhad di bawah seksyen 13  Akta Harta Pusaka Kecil (Pembahagian) 1955, kepada pemungutan dan pemeliharaan harta simati dan memberi pelepasan bagi hutang harta pusakanya yang kena dibayar, tertakluk kepada arahan <style isBold='true' pdfFontName='Helvetica-Bold'>* PENTADBIR TANAH.</style>"
+"\n\n"+"Suatu jadual harta si mati adalah seperti dilampirkan di mukasurat sebelah."
+"\n\n"+"Diberikan di bawah tandatangan dan meterai saya di <style isBold='true' pdfFontName='Helvetica-Bold'>"+($F{ALAMAT_PENUH_BICARA}!= null ? $F{ALAMAT_PENUH_BICARA}:"TIADA")+".</style> "
+"\n"+"Pada <style isBold='true' pdfFontName='Helvetica-Bold'>"+($F{HARI_PERINTAH}!= null ? $F{HARI_PERINTAH}:"TIADA")+"</style> haribulan <style isBold='true' pdfFontName='Helvetica-Bold'>"+($F{BULAN_PERINTAH}!= null ? $F{BULAN_PERINTAH}:"TIADA")+" "+($F{TAHUN_PERINTAH}!= null ? $F{TAHUN_PERINTAH}:"")+".</style>"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="65197d16-9c25-48d3-a488-155079d803cd" key="textField-13" positionType="Float" x="42" y="16" width="450" height="19"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" markup="styled">
					<font fontName="Verdana" size="9" isBold="false" pdfFontName="Helvetica"/>
				</textElement>
				<textFieldExpression><![CDATA["<style isBold='true' pdfFontName='Helvetica-Bold'>"+"BORANG F"+"</style>"
+"\n(Peraturan 7(2))"
+"\n<style isBold='true' pdfFontName='Helvetica-Bold'>"+"MALAYSIA"+"</style>"
+"\n\nNegeri <style isBold='true' pdfFontName='Helvetica-Bold'>"+($F{NEGERI_MOHON}!= null ? $F{NEGERI_MOHON}:"TIADA")+"</style>"
+"\nDaerah <style isBold='true' pdfFontName='Helvetica-Bold'>"+($F{DAERAH_MOHON}!= null ? $F{DAERAH_MOHON}:"TIADA")+"</style>"
+"\n\n<style isBold='true' pdfFontName='Helvetica-Bold'>"+"AKTA HARTA PUSAKA KECIL (PEMBAHAGIAN), 1955"+"</style>"
+"\nGUAMAN PEMBAHAGIAN NO. <style isBold='true' pdfFontName='Helvetica-Bold'>"+($F{NO_FAIL}!= null ? $F{NO_FAIL}:"TIADA")+"</style> TAHUN <style isBold='true' pdfFontName='Helvetica-Bold'>"+($F{TAHUN}!= null ? $F{TAHUN}:"TIADA")+"</style>"
+"\n"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="false">
				<reportElement uuid="7eb5dadb-9fd1-4a4b-a4c4-99383bee361e" key="textField-19" positionType="Float" x="284" y="73" width="50" height="8"/>
				<textElement textAlignment="Right" markup="styled">
					<font fontName="Verdana" size="9" isBold="false" pdfFontName="Helvetica"/>
				</textElement>
				<textFieldExpression><![CDATA["TM "]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="false">
				<reportElement uuid="efe0323f-3d10-4abc-a447-30b6b09b62aa" key="textField-20" positionType="Float" x="348" y="73" width="161" height="8"/>
				<textElement textAlignment="Left" markup="styled">
					<font fontName="Verdana" size="9" isBold="false" pdfFontName="Helvetica"/>
				</textElement>
				<textFieldExpression><![CDATA["..........................................................."
+"\nPENTADBIR TANAH / <style isStrikeThrough ='true'>PEMUNGUT/</style>"
+"\n<style isStrikeThrough ='true'>PEGAWAI DAERAH / PEGAWAI</style>"
+"\n<style isStrikeThrough ='true'>PENTADBIR SARAWAK</style>"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="dc9ccc45-2598-40b8-bb7f-179a60b0358b" key="textField-21" positionType="Float" x="97" y="1" width="395" height="11"/>
				<textElement textAlignment="Right" verticalAlignment="Top" markup="styled">
					<font fontName="Verdana" size="9" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<textFieldExpression><![CDATA[($F{NO_FAIL}!= null ? $F{NO_FAIL}:"TIADA")]]></textFieldExpression>
			</textField>
		</band>
		<band height="32" splitType="Prevent">
			<staticText>
				<reportElement uuid="f6d933d6-ece9-481a-99ee-54cd0f7cb8a0" key="staticText-11" positionType="Float" x="34" y="1" width="458" height="15"/>
				<textElement textAlignment="Justified" verticalAlignment="Top"/>
				<text><![CDATA[__________________________________________________________________________________]]></text>
			</staticText>
			<textField isBlankWhenNull="false">
				<reportElement uuid="40c0d1d6-48c1-42d1-9796-f5d730176302" key="textField-8" positionType="Float" x="36" y="15" width="460" height="17"/>
				<textElement>
					<font fontName="Verdana" size="6"/>
				</textElement>
				<textFieldExpression><![CDATA["*    Masukkan Pentadbir Tanah Daerah / Pemungut / Pegawai Daerah / Pegawai Pentadbir Sarawak, mengikut kehendak keadaan."+"\n"+"**  Hendaklah dipotong jika perintah itu adalah untuk pentadbiran yang dihadkan di bawah Seksyen 13 (4) Akta itu."]]></textFieldExpression>
			</textField>
		</band>
		<band height="69">
			<staticText>
				<reportElement uuid="86699243-406b-4533-96e8-5ded4ad6e206" key="staticText-12" positionType="Float" x="42" y="19" width="450" height="11"/>
				<textElement textAlignment="Center">
					<font fontName="Verdana" size="9" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[JADUAL HARTA SIMATI YANG DINAMAKAN DI ATAS]]></text>
			</staticText>
			<subreport isUsingCache="true">
				<reportElement uuid="1ca9984f-db67-4f92-b66e-77b6fe762e4d" key="subreport-1" positionType="Float" x="42" y="35" width="450" height="7"/>
				<subreportParameter name="idfail">
					<subreportParameterExpression><![CDATA[$P{idfail}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="ReportDir">
					<subreportParameterExpression><![CDATA[$P{ReportDir}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="namaPegawai">
					<subreportParameterExpression><![CDATA[$P{namaPegawai}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="jawatan">
					<subreportParameterExpression><![CDATA[$P{jawatan}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="daerahMohon">
					<subreportParameterExpression><![CDATA[$P{daerahMohon}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="idOB">
					<subreportParameterExpression><![CDATA[$P{idOB}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="idPermohonan">
					<subreportParameterExpression><![CDATA[$P{idPermohonan}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="namaPentadbir">
					<subreportParameterExpression><![CDATA[$P{namaPentadbir}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="flagLampiran">
					<subreportParameterExpression><![CDATA[$P{flagLampiran}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="statusFail">
					<subreportParameterExpression><![CDATA[$P{statusFail}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="flag_keb_kemaskini">
					<subreportParameterExpression><![CDATA[$P{flag_keb_kemaskini}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="NILAI_BERSIH_1">
					<subreportParameterExpression><![CDATA[$P{NILAI_BERSIH_1}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="NILAI_BERSIH_2">
					<subreportParameterExpression><![CDATA[$P{NILAI_BERSIH_2}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{ReportDir} + "//ppk//BorangF2_subreportJadualHarta.jasper"]]></subreportExpression>
			</subreport>
			<subreport isUsingCache="true">
				<reportElement uuid="b1a71d5f-e69e-4786-8549-e32e2b46c4b0" key="subreport-3" positionType="Float" x="42" y="47" width="450" height="7"/>
				<subreportParameter name="BULAN_PERINTAH">
					<subreportParameterExpression><![CDATA[$F{BULAN_PERINTAH}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="TAHUN_PERINTAH">
					<subreportParameterExpression><![CDATA[$F{TAHUN_PERINTAH}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="ReportDir">
					<subreportParameterExpression><![CDATA[$P{ReportDir}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="jawatan">
					<subreportParameterExpression><![CDATA[$P{jawatan}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="idPermohonan">
					<subreportParameterExpression><![CDATA[""+$F{ID_PERMOHONAN}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="namaPegawai">
					<subreportParameterExpression><![CDATA[$P{namaPegawai}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="nofail">
					<subreportParameterExpression><![CDATA[$P{idfail}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="HARI_PERINTAH">
					<subreportParameterExpression><![CDATA[$F{HARI_PERINTAH}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="daerahMohon">
					<subreportParameterExpression><![CDATA[$P{daerahMohon}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="CUKAI_PUSAKA">
					<subreportParameterExpression><![CDATA[$F{CUKAI_PUSAKA}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{ReportDir} + "//ppk//BorangF2_subreportRekodPendaftaran.jasper"]]></subreportExpression>
			</subreport>
			<subreport isUsingCache="true">
				<reportElement uuid="045a368b-0aac-4345-b5d1-517cea7ca46d" key="subreport-4" positionType="Float" x="42" y="64" width="450" height="5" isRemoveLineWhenBlank="true">
					<printWhenExpression><![CDATA[$P{flagLampiran}]]></printWhenExpression>
				</reportElement>
				<subreportParameter name="idPerintah">
					<subreportParameterExpression><![CDATA[""+$F{ID_PERINTAH}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{ReportDir} + "//ppk//BorangF_LampiranWaris.jasper"]]></subreportExpression>
			</subreport>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="dcccbdc7-6982-40d5-b8f0-5aa36aaca5ac" key="textField-16" positionType="Float" x="97" y="5" width="395" height="11"/>
				<textElement textAlignment="Right" verticalAlignment="Top" markup="styled">
					<font fontName="Verdana" size="9" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<textFieldExpression><![CDATA[($F{NO_FAIL}!= null ? $F{NO_FAIL}:"TIADA")]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="0bf4a934-e6c2-42a2-ac4d-09ffec0a69c6" key="textField-15" positionType="Float" x="97" y="57" width="395" height="11">
					<printWhenExpression><![CDATA[$P{flagLampiran}]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Right" verticalAlignment="Top" markup="styled">
					<font fontName="Verdana" size="9" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<textFieldExpression><![CDATA[($F{NO_FAIL}!= null ? $F{NO_FAIL}:"TIADA")]]></textFieldExpression>
			</textField>
			<break>
				<reportElement uuid="241faa1f-552c-4d07-87ec-5c14b39b27b5" key="element-2" x="0" y="2" width="535" height="1"/>
			</break>
			<break>
				<reportElement uuid="960ba4d5-b3c7-4976-8c61-5059272df244" key="element-3" positionType="Float" mode="Transparent" x="0" y="55" width="535" height="1" isRemoveLineWhenBlank="true">
					<printWhenExpression><![CDATA[$P{flagLampiran}]]></printWhenExpression>
				</reportElement>
			</break>
		</band>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="91" splitType="Stretch">
			<textField isBlankWhenNull="false">
				<reportElement uuid="65971cea-0b55-4446-b795-c19c667dfded" key="textField-11" positionType="Float" x="209" y="46" width="89" height="18"/>
				<textElement textAlignment="Right">
					<font fontName="Verdana" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[" Mukasurat " + $V{PAGE_NUMBER} + " dari "]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report" isBlankWhenNull="false">
				<reportElement uuid="bbc5bbfb-9859-42af-8745-0401a1cf58dc" key="textField-12" positionType="Float" x="299" y="46" width="23" height="18"/>
				<textElement textAlignment="Left">
					<font fontName="Verdana" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[" "+$V{PAGE_NUMBER}+""]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement uuid="0712ac92-9707-47bb-a74a-45c0593badea" key="textField-14" positionType="Float" x="452" y="75" width="80" height="16">
					<printWhenExpression><![CDATA[new Boolean ((Integer.parseInt($F{NOBULAN_BICARA})> 7 && Integer.parseInt($F{TAHUN_BICARA})> 2017)
|| (Integer.parseInt($F{NOBULAN_BICARA})> 0 && Integer.parseInt($F{TAHUN_BICARA})> 2018))]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle" markup="styled">
					<font fontName="Verdana" size="6" isBold="false" pdfFontName="Helvetica"/>
				</textElement>
				<textFieldExpression><![CDATA["di Playstore/GAMMA"]]></textFieldExpression>
			</textField>
			<image>
				<reportElement uuid="ca590a3e-aa79-4caa-9e47-c124205b92c3" key="image-2" mode="Transparent" x="452" y="2" width="80" height="76">
					<printWhenExpression><![CDATA[new Boolean ((Integer.parseInt($F{NOBULAN_BICARA})> 7 && Integer.parseInt($F{TAHUN_BICARA})> 2017)
|| (Integer.parseInt($F{NOBULAN_BICARA})> 0 && Integer.parseInt($F{TAHUN_BICARA})> 2018))]]></printWhenExpression>
				</reportElement>
				<imageExpression><![CDATA[$P{ReportDir} +"//ppk//qrcode//"+$P{noFailremoveslash}+".png"]]></imageExpression>
			</image>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement uuid="8183aa67-df2b-43fb-8f0f-9d0a646414e0" key="textField-15" positionType="Float" x="453" y="71" width="80" height="18">
					<printWhenExpression><![CDATA[new Boolean ((Integer.parseInt($F{NOBULAN_BICARA})> 7 && Integer.parseInt($F{TAHUN_BICARA})> 2017)
|| (Integer.parseInt($F{NOBULAN_BICARA})> 0 && Integer.parseInt($F{TAHUN_BICARA})> 2018))]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Left" verticalAlignment="Middle" markup="styled">
					<font fontName="Verdana" size="6" isBold="false" pdfFontName="Helvetica"/>
				</textElement>
				<textFieldExpression><![CDATA["Muat turun Aplikasi MyeTaPP"]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<summary>
		<band splitType="Stretch"/>
	</summary>
	<noData>
		<band height="37" splitType="Stretch">
			<staticText>
				<reportElement uuid="ac5d5819-e720-4f7f-a882-159b35147eca" key="staticText-18" x="0" y="1" width="535" height="20"/>
				<textElement textAlignment="Center">
					<font isBold="true" isItalic="true" pdfFontName="Helvetica-BoldOblique"/>
				</textElement>
				<text><![CDATA[TIADA REKOD BAGI BORANG INI.]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="dbf66796-ba3e-40b3-a263-56cbd4d2e71b" key="staticText-19" x="0" y="17" width="535" height="20"/>
				<textElement textAlignment="Center">
					<font isBold="true" isItalic="true" pdfFontName="Helvetica-BoldOblique"/>
				</textElement>
				<text><![CDATA[BORANG TIDAK DAPAT DIJANA.]]></text>
			</staticText>
		</band>
	</noData>
</jasperReport>
