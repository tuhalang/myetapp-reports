<?xml version="1.0" encoding="UTF-8"  ?>
<!-- Created with iReport - A designer for JasperReports -->
<!DOCTYPE jasperReport PUBLIC "//JasperReports//DTD Report Design//EN" "http://jasperreports.sourceforge.net/dtds/jasperreport.dtd">
<jasperReport
		 name="SuratKpdAgensiPemohonMaklumanPenandaanKwsn"
		 columnCount="1"
		 printOrder="Vertical"
		 orientation="Portrait"
		 pageWidth="595"
		 pageHeight="842"
		 columnWidth="451"
		 columnSpacing="0"
		 leftMargin="72"
		 rightMargin="72"
		 topMargin="144"
		 bottomMargin="72"
		 whenNoDataType="NoPages"
		 isTitleNewPage="false"
		 isSummaryNewPage="false">
	<property name="ireport.scriptlethandling" value="0" />
	<property name="ireport.encoding" value="UTF-8" />
	<import value="java.util.*" />
	<import value="net.sf.jasperreports.engine.*" />
	<import value="net.sf.jasperreports.engine.data.*" />

	<parameter name="idFail" isForPrompting="true" class="java.lang.String"/>
	<parameter name="namaPegawai" isForPrompting="true" class="java.lang.String"/>
	<parameter name="id_jawatan" isForPrompting="false" class="java.lang.String"/>
	<queryString><![CDATA[SELECT DISTINCT A.ID_NEGERI, A.ID_FAIL, A.NO_FAIL, B.NO_RUJUKAN_PTG, TO_CHAR(SYSDATE, 'DD') AS HARI_SURAT,
    CASE
       WHEN TO_CHAR (SYSDATE, 'MM') = '01' THEN 'Januari'
       WHEN TO_CHAR (SYSDATE, 'MM') = '02' THEN 'Februari'
       WHEN TO_CHAR (SYSDATE, 'MM') = '03' THEN 'Mac'
       WHEN TO_CHAR (SYSDATE, 'MM') = '04' THEN 'April'
       WHEN TO_CHAR (SYSDATE, 'MM') = '05' THEN 'Mei'
       WHEN TO_CHAR (SYSDATE, 'MM') = '06' THEN 'Jun'
       WHEN TO_CHAR (SYSDATE, 'MM') = '07' THEN 'Julai'
       WHEN TO_CHAR (SYSDATE, 'MM') = '08' THEN 'Ogos'
       WHEN TO_CHAR (SYSDATE, 'MM') = '09' THEN 'September'
       WHEN TO_CHAR (SYSDATE, 'MM') = '10' THEN 'Oktober'
       WHEN TO_CHAR (SYSDATE, 'MM') = '11' THEN 'November'
       WHEN TO_CHAR (SYSDATE, 'MM') = '12' THEN 'Disember'
       ELSE 'TIADA'
    END AS BULAN_SURAT,
    TO_CHAR(SYSDATE, 'YYYY') AS TAHUN_SURAT,TO_CHAR(SYSDATE,'DD','NLS_CALENDAR=''ENGLISH HIJRAH''') AS HARI_ISLAM,
    CASE 
        WHEN TO_CHAR(SYSDATE,'MM','NLS_CALENDAR=''ENGLISH HIJRAH''') = 01 THEN 'Muharam'
        WHEN TO_CHAR(SYSDATE,'MM','NLS_CALENDAR=''ENGLISH HIJRAH''') = 02 THEN 'Safar'
        WHEN TO_CHAR(SYSDATE,'MM','NLS_CALENDAR=''ENGLISH HIJRAH''') = 03 THEN 'Rabiulawal'
        WHEN TO_CHAR(SYSDATE,'MM','NLS_CALENDAR=''ENGLISH HIJRAH''') = 04 THEN 'Rabiulakhir'
        WHEN TO_CHAR(SYSDATE,'MM','NLS_CALENDAR=''ENGLISH HIJRAH''') = 05 THEN 'Jamadilawal'
        WHEN TO_CHAR(SYSDATE,'MM','NLS_CALENDAR=''ENGLISH HIJRAH''') = 06 THEN 'Jamadilakhir'
        WHEN TO_CHAR(SYSDATE,'MM','NLS_CALENDAR=''ENGLISH HIJRAH''') = 07 THEN 'Rejab'
        WHEN TO_CHAR(SYSDATE,'MM','NLS_CALENDAR=''ENGLISH HIJRAH''') = 08 THEN 'Syaaban'
        WHEN TO_CHAR(SYSDATE,'MM','NLS_CALENDAR=''ENGLISH HIJRAH''') = 09 THEN 'Ramadhan'
        WHEN TO_CHAR(SYSDATE,'MM','NLS_CALENDAR=''ENGLISH HIJRAH''') = 10 THEN 'Syawal'
        WHEN TO_CHAR(SYSDATE,'MM','NLS_CALENDAR=''ENGLISH HIJRAH''') = 11 THEN 'Zulkaedah'
        WHEN TO_CHAR(SYSDATE,'MM','NLS_CALENDAR=''ENGLISH HIJRAH''') = 12 THEN 'Zulhijjah'
    END AS BULAN_ISLAM, TO_CHAR(SYSDATE,'RRRR','NLS_CALENDAR=''ENGLISH HIJRAH''') AS TAHUN_ISLAM, REPLACE(INITCAP(C.NAMA_AGENSI),'&','&#38;') AS NAMA_AGENSI,
    REPLACE(INITCAP(E.NAMA_KEMENTERIAN),'&','&#38;') AS NAMA_KEMENTERIAN, REPLACE(INITCAP(NVL(E.ALAMAT1,'')),'&','&#38;') AS ALAMAT1,
    REPLACE(INITCAP(NVL(E.ALAMAT2,'')),'&','&#38;') AS ALAMAT2, REPLACE(INITCAP(NVL(E.ALAMAT3,'')),'&','&#38;') AS ALAMAT3, NVL(E.POSKOD,'') AS POSKOD,
    D.NAMA_NEGERI, upper(B.TUJUAN) as TUJUAN, I.NO_RUJUKAN_SURAT, TO_CHAR(I.TARIKH_SURAT,'DD.MM.YYYY') AS TARIKH_SURAT, INITCAP(F.NAMA_NEGERI_PENUH) AS NEGERIBWH, G.NO_SUBJAKET,
    CASE
        WHEN $P!{id_jawatan} = 1 THEN 'Pengarah'
        WHEN $P!{id_jawatan} = 4 THEN 'Pengarah'
        ELSE 'b.p. Pengarah'
    END AS PENGARAH
    FROM TBLPFDFAIL A, TBLPPTPERMOHONAN B, TBLRUJAGENSI C, TBLRUJNEGERI D, TBLRUJKEMENTERIAN E, TBLRUJNEGERI F, TBLPPTHAKMILIK G, TBLPPTHAKMILIKPB H,
    TBLPPTBAYARAN I
    WHERE A.ID_FAIL = B.ID_FAIL
    AND B.ID_AGENSI = C.ID_AGENSI(+)
    AND E.ID_NEGERI = D.ID_NEGERI
    AND A.ID_KEMENTERIAN = E.ID_KEMENTERIAN
    AND A.ID_NEGERI = F.ID_NEGERI
    AND B.ID_PERMOHONAN = G.ID_PERMOHONAN
    AND G.ID_HAKMILIK = H.ID_HAKMILIK
    AND H.ID_HAKMILIKPB = I.ID_HAKMILIKPB
    AND NVL(G.FLAG_PENARIKAN_KESELURUHAN,'0') <> 'Y'
    AND NVL(G.FLAG_PEMBATALAN_KESELURUHAN,'0') <> 'Y'
    AND A.ID_FAIL = $P!{idFail}]]></queryString>

	<field name="ID_NEGERI" class="java.math.BigDecimal"/>
	<field name="ID_FAIL" class="java.math.BigDecimal"/>
	<field name="NO_FAIL" class="java.lang.String"/>
	<field name="NO_RUJUKAN_PTG" class="java.lang.String"/>
	<field name="HARI_SURAT" class="java.lang.String"/>
	<field name="BULAN_SURAT" class="java.lang.String"/>
	<field name="TAHUN_SURAT" class="java.lang.String"/>
	<field name="HARI_ISLAM" class="java.lang.String"/>
	<field name="BULAN_ISLAM" class="java.lang.String"/>
	<field name="TAHUN_ISLAM" class="java.lang.String"/>
	<field name="NAMA_AGENSI" class="java.lang.String"/>
	<field name="NAMA_KEMENTERIAN" class="java.lang.String"/>
	<field name="ALAMAT1" class="java.lang.String"/>
	<field name="ALAMAT2" class="java.lang.String"/>
	<field name="ALAMAT3" class="java.lang.String"/>
	<field name="POSKOD" class="java.lang.String"/>
	<field name="NAMA_NEGERI" class="java.lang.String"/>
	<field name="TUJUAN" class="java.lang.String"/>
	<field name="NO_RUJUKAN_SURAT" class="java.lang.String"/>
	<field name="TARIKH_SURAT" class="java.lang.String"/>
	<field name="NEGERIBWH" class="java.lang.String"/>
	<field name="NO_SUBJAKET" class="java.lang.String"/>
	<field name="PENGARAH" class="java.lang.String"/>

		<background>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</background>
		<title>
			<band height="0"  isSplitAllowed="false" >
			</band>
		</title>
		<pageHeader>
			<band height="0"  isSplitAllowed="false" >
			</band>
		</pageHeader>
		<columnHeader>
			<band height="0"  isSplitAllowed="false" >
			</band>
		</columnHeader>
		<detail>
			<band height="97"  isSplitAllowed="true" >
				<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="0"
						y="81"
						width="451"
						height="15"
						key="textField-10"
						positionType="Float">
							<printWhenExpression><![CDATA[new Boolean($F{ID_NEGERI}.intValue()!=14)]]></printWhenExpression>
						</reportElement>
					<box></box>
					<textElement textAlignment="Justified" markup="styled" lineSpacing="Single">
						<font fontName="Bookman Old Style" pdfFontName="Helvetica" size="11" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA["Sekian, terima kasih."
+"\n\n<style isBold='true' pdfFontName='Helvetica-Bold'>'BERKHIDMAT UNTUK NEGARA'</style>"
+"\n\nSaya yang menurut perintah"
+"\n\n\n\n"
+"\n<style isBold='true' pdfFontName='Helvetica-Bold'>("+($P{namaPegawai} != null ? $P{namaPegawai}:"\t\t\t\t")+")</style>"
+"\n"+($F{PENGARAH} != null ? $F{PENGARAH}:"")
+"\nJabatan Ketua Pengarah Tanah dan Galian (Persekutuan)"
+"\nNegeri "+($F{NEGERIBWH} != null ? $F{NEGERIBWH}:"")]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="0"
						y="81"
						width="451"
						height="15"
						key="textField-9"
						positionType="Float">
							<printWhenExpression><![CDATA[new Boolean($F{ID_NEGERI}.intValue()==14)]]></printWhenExpression>
						</reportElement>
					<box></box>
					<textElement textAlignment="Justified" markup="styled" lineSpacing="Single">
						<font fontName="Bookman Old Style" pdfFontName="Helvetica" size="11" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA["Sekian, terima kasih."
+"\n\n<style isBold='true' pdfFontName='Helvetica-Bold'>'BERKHIDMAT UNTUK NEGARA'</style>"
+"\n\nSaya yang menurut perintah"
+"\n\n\n\n"
+"\n<style isBold='true' pdfFontName='Helvetica-Bold'>("+($P{namaPegawai} != null ? $P{namaPegawai}:"\t\t\t\t")+")</style>"
+"\n"+($F{PENGARAH} != null ? $F{PENGARAH}:"")
+"\nJabatan Ketua Pengarah Tanah dan Galian (Persekutuan)"
+"\n"+($F{NEGERIBWH} != null ? $F{NEGERIBWH}:"")]]></textFieldExpression>
				</textField>
				<break>
					<reportElement
						x="0"
						y="80"
						width="451"
						height="0"
						key="element-1"/>
				</break>
				<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="0"
						y="65"
						width="451"
						height="15"
						key="textField-1"
						positionType="Float"/>
					<box></box>
					<textElement textAlignment="Justified" markup="styled" lineSpacing="Single">
						<font fontName="Bookman Old Style" pdfFontName="Helvetica" size="11" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[($F{NAMA_AGENSI} != null ? $F{NAMA_AGENSI}+"\n":"")
+($F{NAMA_KEMENTERIAN} != null ? $F{NAMA_KEMENTERIAN}+"\n":"")
+($F{ALAMAT1} != null ? $F{ALAMAT1}+"\n":"")
+($F{ALAMAT2} != null ? $F{ALAMAT2}+"\n":"")
+($F{ALAMAT3} != null ? $F{ALAMAT3}+"\n":"")
+($F{POSKOD} != null ? $F{POSKOD}+"\n":"")
+"<style isBold='true' pdfFontName='Helvetica-Bold'>"
+($F{NAMA_NEGERI} != null ? $F{NAMA_NEGERI}:"")
+"</style>"
+"\n\n<style isBold='true' pdfFontName='Helvetica-Bold'>"+($F{TUJUAN} != null ? $F{TUJUAN}:"")+"</style>"
+"\n\nSaya dengan segala hormatnya merujuk kepada perkara di atas dan memaklumkan bahawa pengambilan tanah bagi projek tersebut telahpun diluluskan oleh ? pada ?."
+"\n\n2.\tMengikut peruntukan di bawah seksyen 9(1)(a) Akta yang sama, tuan adalah dikehendaki untuk menandakan kawasan yang terlibat dengan pengambilan di atas tiap-tiap lot. Tindakan ini adalah keperluan undang-undang yang bertujuan untuk memudahkan Pentadbir Tanah membuat award dan juga memudahkan tuanpunya tanah/orang yang berkepentingan membuat tuntutan ke atas semua kepentingan yang terlibat."
+"\n\n3.\tUntuk melaksanakan tindakan penandaan kawasan tersebut, pihak tuan sendiri atau melalui juruukur tanah berlesen yang tuan lantik hendaklah mengemukakan ke Jabatan ini jadual kerja penandaan kawasan bagi membolehkan pegawai Jabatan ini sama-sama memasuki tanah persendirian yang terlibat dengan projek tersebut. Perkara ini adalah penting kerana tanpa kehadiran bersama pegawai Jabatan ini, pihak tuan atau juruukur tanah berlesen tidak mempunyai kuasa undang-undang untuk memasuki tanah persendirian."
+"\n\n4.\tKerjasama tuan untuk mengurus dan menyempurnakan tindakan tersebut sebelum tarikh siasatan tanah sangatlah diperlukan."]]></textFieldExpression>
				</textField>
				<break>
					<reportElement
						x="0"
						y="96"
						width="451"
						height="0"
						key="element-2"/>
				</break>
				<textField isStretchWithOverflow="true" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="286"
						y="0"
						width="165"
						height="15"
						key="textField-11">
							<printWhenExpression><![CDATA[new Boolean($F{ID_NEGERI}.intValue()!=10)]]></printWhenExpression>
						</reportElement>
					<box></box>
					<textElement textAlignment="Right">
						<font fontName="Bookman Old Style" size="10"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[($F{NO_FAIL} != null ? $F{NO_FAIL}+($F{NO_SUBJAKET} != null ? "Sj."+$F{NO_SUBJAKET}:""):"")]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="196"
						y="0"
						width="80"
						height="15"
						key="textField-12"/>
					<box></box>
					<textElement textAlignment="Justified">
						<font fontName="Bookman Old Style" pdfFontName="Helvetica" size="11" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA["Rujukan Kami"]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="196"
						y="15"
						width="80"
						height="15"
						key="textField-13"/>
					<box></box>
					<textElement textAlignment="Justified">
						<font fontName="Bookman Old Style" pdfFontName="Helvetica" size="11" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA["Tarikh"]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="286"
						y="0"
						width="165"
						height="15"
						key="textField-14">
							<printWhenExpression><![CDATA[new Boolean($F{ID_NEGERI}.intValue()==10)]]></printWhenExpression>
						</reportElement>
					<box></box>
					<textElement textAlignment="Right">
						<font fontName="Bookman Old Style" size="10"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[($F{NO_RUJUKAN_PTG} != null ? $F{NO_RUJUKAN_PTG}+($F{NO_SUBJAKET} != null ? "Sj."+$F{NO_SUBJAKET}:""):"")]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="286"
						y="15"
						width="165"
						height="15"
						key="textField-15"/>
					<box></box>
					<textElement textAlignment="Right">
						<font fontName="Bookman Old Style" size="10"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{HARI_SURAT}+" "+$F{BULAN_SURAT}+" "+$F{TAHUN_SURAT}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="276"
						y="0"
						width="10"
						height="15"
						key="textField-16"/>
					<box></box>
					<textElement textAlignment="Center">
						<font fontName="Bookman Old Style" pdfFontName="Helvetica" size="11" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[":"]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="276"
						y="15"
						width="10"
						height="15"
						key="textField-17"/>
					<box></box>
					<textElement textAlignment="Center">
						<font fontName="Bookman Old Style" pdfFontName="Helvetica" size="11" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[":"]]></textFieldExpression>
				</textField>
			</band>
		</detail>
		<columnFooter>
			<band height="0"  isSplitAllowed="false" >
			</band>
		</columnFooter>
		<pageFooter>
			<band height="0"  isSplitAllowed="false" >
			</band>
		</pageFooter>
		<summary>
			<band height="0"  isSplitAllowed="false" >
			</band>
		</summary>
</jasperReport>
