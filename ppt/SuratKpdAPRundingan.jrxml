<?xml version="1.0" encoding="UTF-8"  ?>
<!-- Created with iReport - A designer for JasperReports -->
<!DOCTYPE jasperReport PUBLIC "//JasperReports//DTD Report Design//EN" "http://jasperreports.sourceforge.net/dtds/jasperreport.dtd">
<jasperReport
		 name="SuratKpdAPRundingan"
		 columnCount="1"
		 printOrder="Vertical"
		 orientation="Portrait"
		 pageWidth="595"
		 pageHeight="842"
		 columnWidth="451"
		 columnSpacing="0"
		 leftMargin="72"
		 rightMargin="72"
		 topMargin="144"
		 bottomMargin="72"
		 whenNoDataType="NoPages"
		 isTitleNewPage="false"
		 isSummaryNewPage="false">
	<property name="ireport.scriptlethandling" value="0" />
	<property name="ireport.encoding" value="UTF-8" />
	<import value="java.util.*" />
	<import value="net.sf.jasperreports.engine.*" />
	<import value="net.sf.jasperreports.engine.data.*" />

	<parameter name="idhakmilik" isForPrompting="true" class="java.lang.String"/>
	<parameter name="idfail" isForPrompting="true" class="java.lang.String"/>
	<parameter name="namaPegawai" isForPrompting="true" class="java.lang.String"/>
	<parameter name="id_jawatan" isForPrompting="false" class="java.lang.String"/>
	<queryString><![CDATA[SELECT A.ID_NEGERI, A.ID_FAIL, A.NO_FAIL, B.NO_RUJUKAN_PTG, TO_CHAR(SYSDATE, 'DD') AS HARI_SURAT,
    CASE
       WHEN TO_CHAR (SYSDATE, 'MM') = '01' THEN 'Januari'
       WHEN TO_CHAR (SYSDATE, 'MM') = '02' THEN 'Februari'
       WHEN TO_CHAR (SYSDATE, 'MM') = '03' THEN 'Mac'
       WHEN TO_CHAR (SYSDATE, 'MM') = '04' THEN 'April'
       WHEN TO_CHAR (SYSDATE, 'MM') = '05' THEN 'Mei'
       WHEN TO_CHAR (SYSDATE, 'MM') = '06' THEN 'Jun'
       WHEN TO_CHAR (SYSDATE, 'MM') = '07' THEN 'Julai'
       WHEN TO_CHAR (SYSDATE, 'MM') = '08' THEN 'Ogos'
       WHEN TO_CHAR (SYSDATE, 'MM') = '09' THEN 'September'
       WHEN TO_CHAR (SYSDATE, 'MM') = '10' THEN 'Oktober'
       WHEN TO_CHAR (SYSDATE, 'MM') = '11' THEN 'November'
       WHEN TO_CHAR (SYSDATE, 'MM') = '12' THEN 'Disember'
       ELSE 'TIADA'
    END AS BULAN_SURAT,
    TO_CHAR(SYSDATE, 'YYYY') AS TAHUN_SURAT, TO_CHAR(SYSDATE,'DD','NLS_CALENDAR=''ENGLISH HIJRAH''') AS HARI_ISLAM,
    CASE 
        WHEN TO_CHAR(SYSDATE,'MM','NLS_CALENDAR=''ENGLISH HIJRAH''') = 01 THEN 'Muharam'
        WHEN TO_CHAR(SYSDATE,'MM','NLS_CALENDAR=''ENGLISH HIJRAH''') = 02 THEN 'Safar'
        WHEN TO_CHAR(SYSDATE,'MM','NLS_CALENDAR=''ENGLISH HIJRAH''') = 03 THEN 'Rabiulawal'
        WHEN TO_CHAR(SYSDATE,'MM','NLS_CALENDAR=''ENGLISH HIJRAH''') = 04 THEN 'Rabiulakhir'
        WHEN TO_CHAR(SYSDATE,'MM','NLS_CALENDAR=''ENGLISH HIJRAH''') = 05 THEN 'Jamadilawal'
        WHEN TO_CHAR(SYSDATE,'MM','NLS_CALENDAR=''ENGLISH HIJRAH''') = 06 THEN 'Jamadilakhir'
        WHEN TO_CHAR(SYSDATE,'MM','NLS_CALENDAR=''ENGLISH HIJRAH''') = 07 THEN 'Rejab'
        WHEN TO_CHAR(SYSDATE,'MM','NLS_CALENDAR=''ENGLISH HIJRAH''') = 08 THEN 'Syaaban'
        WHEN TO_CHAR(SYSDATE,'MM','NLS_CALENDAR=''ENGLISH HIJRAH''') = 09 THEN 'Ramadhan'
        WHEN TO_CHAR(SYSDATE,'MM','NLS_CALENDAR=''ENGLISH HIJRAH''') = 10 THEN 'Syawal'
        WHEN TO_CHAR(SYSDATE,'MM','NLS_CALENDAR=''ENGLISH HIJRAH''') = 11 THEN 'Zulkaedah'
        WHEN TO_CHAR(SYSDATE,'MM','NLS_CALENDAR=''ENGLISH HIJRAH''') = 12 THEN 'Zulhijjah'
    END AS BULAN_ISLAM, TO_CHAR(SYSDATE,'RRRR','NLS_CALENDAR=''ENGLISH HIJRAH''') AS TAHUN_ISLAM, INITCAP(E.NAMA_PB) AS NAMA_PB,
    REPLACE(INITCAP(NVL(D.ALAMAT1,'')),'&','&#38;') AS ALAMAT1, REPLACE(INITCAP(NVL(D.ALAMAT2,'')),'&','&#38;') AS ALAMAT2,
    REPLACE(INITCAP(NVL(D.ALAMAT3,'')),'&','&#38;') AS ALAMAT3, NVL(D.POSKOD,'') AS POSKOD, INITCAP(F.KETERANGAN) AS NAMA_BANDAR, G.NAMA_NEGERI,
    upper(B.TUJUAN) as TUJUAN, 
    CASE  
    WHEN C.NO_LOT IS NOT NULL AND C.NO_PT IS NULL THEN C.NO_LOT  
    WHEN C.NO_LOT IS NULL AND C.NO_PT IS NOT NULL THEN  JL.KETERANGAN  || CHR(32) || C.NO_PT   
    WHEN C.NO_LOT IS NOT NULL AND C.NO_PT IS NOT NULL THEN JL.KETERANGAN  || C.NO_PT || CHR(32) || CHR(40) || C.NO_LOT  || CHR(41) 
    ELSE  ''  
END AS NO_LOT, H.KOD_JENIS_HAKMILIK, C.NO_HAKMILIK, INITCAP(I.NAMA_NEGERI_PENUH) AS NEGERIBWH, C.NO_SUBJAKET,
    CASE
        WHEN $P!{id_jawatan} = 1 THEN 'Pengarah'
        WHEN $P!{id_jawatan} = 4 THEN 'Pengarah'
        ELSE 'b.p. Pengarah'
    END AS PENGARAH
    FROM TBLPFDFAIL A, TBLPPTPERMOHONAN B, TBLPPTHAKMILIK C, TBLPPTHAKMILIKPB D, TBLPPTPIHAKBERKEPENTINGAN E, TBLRUJBANDAR F, TBLRUJNEGERI G, TBLRUJJENISHAKMILIK H,
    TBLRUJNEGERI I, TBLRUJLOT JL
    WHERE A.ID_FAIL = B.ID_FAIL
    AND B.ID_PERMOHONAN = C.ID_PERMOHONAN
    AND C.ID_LOT = JL.ID_LOT(+)
    AND C.ID_HAKMILIK = D.ID_HAKMILIK
    AND D.ID_PIHAKBERKEPENTINGAN = E.ID_PIHAKBERKEPENTINGAN
    AND D.ID_BANDAR = F.ID_BANDAR(+)
    AND D.ID_NEGERI = G.ID_NEGERI(+)
    AND C.ID_JENISHAKMILIK = H.ID_JENISHAKMILIK
    AND A.ID_NEGERI = I.ID_NEGERI
    AND NVL(C.FLAG_PENARIKAN_KESELURUHAN,'0') <> 'Y'
    AND NVL(C.FLAG_PEMBATALAN_KESELURUHAN,'0') <> 'Y'
    AND A.ID_FAIL = $P!{idfail}
    AND C.ID_HAKMILIK = $P!{idhakmilik}]]></queryString>

	<field name="ID_NEGERI" class="java.math.BigDecimal"/>
	<field name="ID_FAIL" class="java.math.BigDecimal"/>
	<field name="NO_FAIL" class="java.lang.String"/>
	<field name="NO_RUJUKAN_PTG" class="java.lang.String"/>
	<field name="HARI_SURAT" class="java.lang.String"/>
	<field name="BULAN_SURAT" class="java.lang.String"/>
	<field name="TAHUN_SURAT" class="java.lang.String"/>
	<field name="HARI_ISLAM" class="java.lang.String"/>
	<field name="BULAN_ISLAM" class="java.lang.String"/>
	<field name="TAHUN_ISLAM" class="java.lang.String"/>
	<field name="NAMA_PB" class="java.lang.String"/>
	<field name="ALAMAT1" class="java.lang.String"/>
	<field name="ALAMAT2" class="java.lang.String"/>
	<field name="ALAMAT3" class="java.lang.String"/>
	<field name="POSKOD" class="java.lang.String"/>
	<field name="NAMA_BANDAR" class="java.lang.String"/>
	<field name="NAMA_NEGERI" class="java.lang.String"/>
	<field name="TUJUAN" class="java.lang.String"/>
	<field name="NO_LOT" class="java.lang.String"/>
	<field name="KOD_JENIS_HAKMILIK" class="java.lang.String"/>
	<field name="NO_HAKMILIK" class="java.lang.String"/>
	<field name="NEGERIBWH" class="java.lang.String"/>
	<field name="NO_SUBJAKET" class="java.lang.String"/>
	<field name="PENGARAH" class="java.lang.String"/>

		<background>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</background>
		<title>
			<band height="0"  isSplitAllowed="false" >
			</band>
		</title>
		<pageHeader>
			<band height="0"  isSplitAllowed="false" >
			</band>
		</pageHeader>
		<columnHeader>
			<band height="0"  isSplitAllowed="false" >
			</band>
		</columnHeader>
		<detail>
			<band height="81"  isSplitAllowed="true" >
				<textField isStretchWithOverflow="true" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="0"
						y="65"
						width="451"
						height="15"
						key="textField-2"
						positionType="Float">
							<printWhenExpression><![CDATA[new Boolean($F{ID_NEGERI}.intValue()!=14)]]></printWhenExpression>
						</reportElement>
					<box></box>
					<textElement textAlignment="Justified" verticalAlignment="Top" markup="styled" lineSpacing="Single">
						<font fontName="Bookman Old Style" pdfFontName="Helvetica" size="11" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[($F{NAMA_PB} != null ? $F{NAMA_PB}+"\n":"")
+($F{ALAMAT1} != null ? $F{ALAMAT1}+"\n":"")
+($F{ALAMAT2} != null ? $F{ALAMAT2}+"\n":"")
+($F{ALAMAT3} != null ? $F{ALAMAT3}+"\n":"")
+($F{POSKOD} != null ? $F{POSKOD}+" ":"")
+($F{NAMA_BANDAR} != null ? $F{NAMA_BANDAR}+"\n":"")
+"<style isBold='true' pdfFontName='Helvetica-Bold'>"
+($F{NAMA_NEGERI} != null ? $F{NAMA_NEGERI}:"")
+"</style>"
+"\n\n"
+"Tuan,"
+"\n\n<style isBold='true' pdfFontName='Helvetica-Bold'>"+($F{TUJUAN} != null ? $F{TUJUAN}:"")+"</style>"
+"\n\nAdalah saya diarah merujuk kepada perkara di atas."
+"\n"
+"\n2.\tBersama-sama ini disertakan sesalinan Borang Q (Seksyen 58, Akta Pengambilan Tanah 1960) bagi " +($F{NO_LOT} != null ? $F{NO_LOT}:"")+" "+($F{NO_HAKMILIK} != null ? ($F{KOD_JENIS_HAKMILIK} != null ? $F{KOD_JENIS_HAKMILIK}+" ":"")+$F{NO_HAKMILIK}:"")+ " untuk makluman dan tindakan tuan."
+"\n"
+"\n3.\tPihak tuan dijemput hadir pada hari perbicaraan / siasatan seperti yang telah ditetapkan di dalam Borang Q tersebut."
+"\n"
+"\nSekian, terima kasih."
+"\n"
+"\n<style isBold='true' pdfFontName='Helvetica-Bold'>'BERKHIDMAT UNTUK NEGARA'</style>"
+"\n\nSaya yang menurut perintah"
+"\n"
+"\n"
+"\n"
+"\n<style isBold='true' pdfFontName='Helvetica-Bold'>("+($P{namaPegawai} != null ? $P{namaPegawai}:"")+")</style>"
+"\n"+($F{PENGARAH} != null ? $F{PENGARAH}:"")
+"\nJabatan Ketua Pengarah Tanah dan Galian (Persekutuan)"
+"\nNegeri "+($F{NEGERIBWH} != null ? $F{NEGERIBWH}:"")]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="0"
						y="65"
						width="451"
						height="15"
						key="textField-10"
						positionType="Float">
							<printWhenExpression><![CDATA[new Boolean($F{ID_NEGERI}.intValue()==14)]]></printWhenExpression>
						</reportElement>
					<box></box>
					<textElement textAlignment="Justified" verticalAlignment="Top" markup="styled" lineSpacing="Single">
						<font fontName="Bookman Old Style" pdfFontName="Helvetica" size="11" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[($F{NAMA_PB} != null ? $F{NAMA_PB}+"\n":"")
+($F{ALAMAT1} != null ? $F{ALAMAT1}+"\n":"")
+($F{ALAMAT2} != null ? $F{ALAMAT2}+"\n":"")
+($F{ALAMAT3} != null ? $F{ALAMAT3}+"\n":"")
+($F{POSKOD} != null ? $F{POSKOD}+" ":"")
+($F{NAMA_BANDAR} != null ? $F{NAMA_BANDAR}+"\n":"")
+"<style isBold='true' pdfFontName='Helvetica-Bold'>"
+($F{NAMA_NEGERI} != null ? $F{NAMA_NEGERI}:"")
+"</style>"
+"\n\n"
+"Tuan,"
+"\n\n<style isBold='true' pdfFontName='Helvetica-Bold'>"+($F{TUJUAN} != null ? $F{TUJUAN}:"")+"</style>"
+"\n\nAdalah saya diarah merujuk kepada perkara di atas."
+"\n"
+"\n2.\tBersama-sama ini disertakan sesalinan Borang Q (Seksyen 58, Akta Pengambilan Tanah 1960) bagi " +($F{NO_LOT} != null ? $F{NO_LOT}:"")+" "+($F{NO_HAKMILIK} != null ? ($F{KOD_JENIS_HAKMILIK} != null ? $F{KOD_JENIS_HAKMILIK}+" ":"")+$F{NO_HAKMILIK}:"")+ " untuk makluman dan tindakan tuan."
+"\n"
+"\n3.\tPihak tuan dijemput hadir pada hari perbicaraan / siasatan seperti yang telah ditetapkan di dalam Borang Q tersebut."
+"\n"
+"\nSekian, terima kasih."
+"\n"
+"\n<style isBold='true' pdfFontName='Helvetica-Bold'>'BERKHIDMAT UNTUK NEGARA'</style>"
+"\n\nSaya yang menurut perintah"
+"\n"
+"\n"
+"\n"
+"\n<style isBold='true' pdfFontName='Helvetica-Bold'>("+($P{namaPegawai} != null ? $P{namaPegawai}:"")+")</style>"
+"\n"+($F{PENGARAH} != null ? $F{PENGARAH}:"")
+"\nJabatan Ketua Pengarah Tanah dan Galian (Persekutuan)"
+"\n"+($F{NEGERIBWH} != null ? $F{NEGERIBWH}:"")]]></textFieldExpression>
				</textField>
				<break>
					<reportElement
						x="0"
						y="80"
						width="451"
						height="0"
						key="element-1"/>
				</break>
				<textField isStretchWithOverflow="true" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="286"
						y="0"
						width="165"
						height="15"
						key="textField-11">
							<printWhenExpression><![CDATA[new Boolean($F{ID_NEGERI}.intValue()!=10)]]></printWhenExpression>
						</reportElement>
					<box></box>
					<textElement textAlignment="Right">
						<font fontName="Bookman Old Style" size="10"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[($F{NO_FAIL} != null ? $F{NO_FAIL}+($F{NO_SUBJAKET} != null ? "Sj."+$F{NO_SUBJAKET}:""):"")]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="196"
						y="0"
						width="80"
						height="15"
						key="textField-12"/>
					<box></box>
					<textElement textAlignment="Justified">
						<font fontName="Bookman Old Style" pdfFontName="Helvetica" size="11" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA["Rujukan Kami"]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="196"
						y="15"
						width="80"
						height="15"
						key="textField-13"/>
					<box></box>
					<textElement textAlignment="Justified">
						<font fontName="Bookman Old Style" pdfFontName="Helvetica" size="11" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA["Tarikh"]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="286"
						y="0"
						width="165"
						height="15"
						key="textField-14">
							<printWhenExpression><![CDATA[new Boolean($F{ID_NEGERI}.intValue()==10)]]></printWhenExpression>
						</reportElement>
					<box></box>
					<textElement textAlignment="Right">
						<font fontName="Bookman Old Style" size="10"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[($F{NO_RUJUKAN_PTG} != null ? $F{NO_RUJUKAN_PTG}+($F{NO_SUBJAKET} != null ? "Sj."+$F{NO_SUBJAKET}:""):"")]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="286"
						y="15"
						width="165"
						height="15"
						key="textField-15"/>
					<box></box>
					<textElement textAlignment="Right">
						<font fontName="Bookman Old Style" size="10"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{HARI_SURAT}+" "+$F{BULAN_SURAT}+" "+$F{TAHUN_SURAT}
+"\n"+$F{HARI_ISLAM}+" "+$F{BULAN_ISLAM}+" "+$F{TAHUN_ISLAM}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="276"
						y="0"
						width="10"
						height="15"
						key="textField-16"/>
					<box></box>
					<textElement textAlignment="Center">
						<font fontName="Bookman Old Style" pdfFontName="Helvetica" size="11" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[":"]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="276"
						y="15"
						width="10"
						height="15"
						key="textField-17"/>
					<box></box>
					<textElement textAlignment="Center">
						<font fontName="Bookman Old Style" pdfFontName="Helvetica" size="11" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[":"]]></textFieldExpression>
				</textField>
			</band>
		</detail>
		<columnFooter>
			<band height="0"  isSplitAllowed="false" >
			</band>
		</columnFooter>
		<pageFooter>
			<band height="0"  isSplitAllowed="false" >
			</band>
		</pageFooter>
		<summary>
			<band height="0"  isSplitAllowed="false" >
			</band>
		</summary>
</jasperReport>
