<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Borang K_lebihDrpdSatuHakmilik_jadual_mukim_N9" pageWidth="535" pageHeight="842" whenNoDataType="NoDataSection" columnWidth="535" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="f3cab79a-2211-4519-a743-5d99cd9b4768">
	<property name="ireport.scriptlethandling" value="0"/>
	<property name="ireport.encoding" value="UTF-8"/>
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<import value="net.sf.jasperreports.engine.*"/>
	<import value="java.util.*"/>
	<import value="net.sf.jasperreports.engine.data.*"/>
	<parameter name="id_mukim" class="java.lang.String"/>
	<parameter name="id_Fail" class="java.lang.String"/>
	<parameter name="ReportDir" class="java.lang.String"/>
	<parameter name="id_hakmilik" class="java.lang.String"/>
	<queryString>
		<![CDATA[SELECT INITCAP(REPLACE(M.NAMA_MUKIM,'-','- ')) AS NAMA_MUKIM, TO_CHAR(H.ID_HAKMILIK) AS ID_HAKMILIK,
/*CASE
    WHEN H.NO_LOT IS NOT NULL AND H.NO_PT IS NULL THEN H.NO_LOT
    WHEN H.NO_LOT IS NULL AND H.NO_PT IS NOT NULL THEN  JL.KETERANGAN  || CHR(32) || H.NO_PT
    WHEN H.NO_LOT IS NOT NULL AND H.NO_PT IS NOT NULL THEN JL.KETERANGAN  || H.NO_PT || CHR(32) || CHR(40) || H.NO_LOT  || CHR(41)
    ELSE  ''
END AS NO_LOT,H.NO_PT,*/
H.NO_LOT AS NO_LOT,
(TRIM(JL.KETERANGAN)  || TRIM(H.NO_PT)) AS NO_PT,
H.NO_HAKMILIK,
HM.KOD_JENIS_HAKMILIK,
REPLACE(
TO_CHAR(
CASE
    WHEN h.ID_UNITLUASLOT_CONVERT = 1 then ROUND(H.LUAS_LOT,4)
    WHEN h.ID_UNITLUASLOT_CONVERT = 2 then ROUND(H.LUAS_LOT/10000,4)
    END,'999,999,990.9999'),' ')as LUAS_LOT,
REPLACE(
TO_CHAR(
CASE
    WHEN h.ID_UNITLUASAMBIL_CONVERT = 1 then ROUND(H.LUAS_AMBIL,4)
    WHEN h.ID_UNITLUASAMBIL_CONVERT = 2 then ROUND(H.LUAS_AMBIL/10000,4)
    END,'999,999,990.9999'),' ')as LUAS_AMBIL,
    case
    when h.ID_UNITLUASLOT_CONVERT = 1 then 'hektar'
    when h.ID_UNITLUASLOT_CONVERT = 2 then 'meter persegi'
    end as unit_LOT,
ROUND(H.LUAS_LOT,4) AS LUAS_LOT,
    case
    when h.ID_UNITLUASLOT_CONVERT = 1 then 'hektar'
    when h.ID_UNITLUASLOT_CONVERT = 2 then 'meter persegi'
    end as unit_LOT,
REPLACE(
TO_CHAR(
CASE
    WHEN S.ID_UNIT_LUAS_MUKTAMAD = 1 then ROUND(S.LUAS_MUKTAMAD,4)
    WHEN S.ID_UNIT_LUAS_MUKTAMAD = 2 then ROUND(S.LUAS_MUKTAMAD/10000,4)
    END,'999,999,990.9999'),' ')as LUAS_MUKTAMAD,
    (case
    when S.ID_UNIT_LUAS_MUKTAMAD = 1 then 'hektar'
    when S.ID_UNIT_LUAS_MUKTAMAD  = 2 then 'meter persegi'
    end) AS UNIT_LUAS_MUKTAMAD
FROM TBLPPTPERMOHONAN P,TBLPFDFAIL F,
TBLPPTHAKMILIK H,TBLRUJMUKIM M , TBLRUJJENISHAKMILIK HM, TBLRUJLOT JL,
tblppthakmilikborangk hbk,
tblpptborangk bk,TBLPPTSIASATAN S
WHERE P.ID_FAIL= F.ID_FAIL
and hbk.id_hakmilik(+) = H.ID_HAKMILIK
and hbk.id_borangk  = bk.id_borangk(+)
AND P.ID_PERMOHONAN = H.ID_PERMOHONAN
AND H.ID_MUKIM = M.ID_MUKIM
AND H.ID_JENISHAKMILIK = HM.ID_JENISHAKMILIK(+)
    AND NVL(H.FLAG_PENARIKAN_KESELURUHAN,'0') <> 'Y'
    AND NVL(H.FLAG_PEMBATALAN_KESELURUHAN,'0') <> 'Y'
AND H.ID_LOT = JL.ID_LOT(+)

AND H.ID_HAKMILIK = S.ID_HAKMILIK(+)
AND ((S.ID_SIASATAN IS NULL) OR (S.STATUS_SIASATAN = '6' AND S.ID_SIASATAN IS NOT NULL))
AND H.ID_MUKIM = $P!{id_mukim}
AND H.ID_HAKMILIK = $P!{id_hakmilik}]]>
	</queryString>
	<field name="NAMA_MUKIM" class="java.lang.String"/>
	<field name="ID_HAKMILIK" class="java.lang.String"/>
	<field name="NO_LOT" class="java.lang.String"/>
	<field name="NO_PT" class="java.lang.String"/>
	<field name="NO_HAKMILIK" class="java.lang.String"/>
	<field name="KOD_JENIS_HAKMILIK" class="java.lang.String"/>
	<field name="LUAS_LOT" class="java.lang.String"/>
	<field name="LUAS_AMBIL" class="java.lang.String"/>
	<field name="UNIT_LOT" class="java.lang.String"/>
	<field name="LUAS_MUKTAMAD" class="java.lang.String"/>
	<field name="UNIT_LUAS_MUKTAMAD" class="java.lang.String"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band splitType="Stretch"/>
	</title>
	<pageHeader>
		<band splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band splitType="Stretch"/>
	</columnHeader>
	<detail>
		<band height="47" splitType="Stretch">
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="dd8331f9-025f-4302-9411-06e5cf6385ff" key="textField-58" positionType="Float" stretchType="RelativeToBandHeight" x="0" y="-3" width="72" height="50" isPrintWhenDetailOverflows="true"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="0.0" lineStyle="Double"/>
					<leftPen lineWidth="1.0" lineStyle="Solid"/>
					<bottomPen lineWidth="0.0" lineStyle="Double"/>
					<rightPen lineWidth="1.0" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle" markup="styled">
					<font fontName="Cambria" size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[""]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="06ea64e4-3307-4da9-b1b8-3f9739e61aa9" key="textField-57" positionType="Float" stretchType="RelativeToBandHeight" x="72" y="-3" width="71" height="50" isPrintWhenDetailOverflows="true"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="0.0" lineStyle="Double"/>
					<leftPen lineWidth="1.0" lineStyle="Solid"/>
					<bottomPen lineWidth="0.0" lineStyle="Double"/>
					<rightPen lineWidth="1.0" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle" markup="styled">
					<font fontName="Cambria" size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[""]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="9a150937-cd77-43cb-8366-0543e6fb0d8c" key="textField-56" positionType="Float" stretchType="RelativeToBandHeight" x="143" y="-3" width="182" height="50" isPrintWhenDetailOverflows="true"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="0.0" lineStyle="Double"/>
					<leftPen lineWidth="1.0" lineStyle="Solid"/>
					<bottomPen lineWidth="0.0" lineStyle="Double"/>
					<rightPen lineWidth="1.0" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle" markup="styled">
					<font fontName="Cambria" size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[""]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="9cb389e0-bbce-46a9-a246-43bf753221cc" key="textField-55" positionType="Float" stretchType="RelativeToBandHeight" x="325" y="-3" width="58" height="50" isPrintWhenDetailOverflows="true"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="0.0" lineStyle="Double"/>
					<leftPen lineWidth="1.0" lineStyle="Solid"/>
					<bottomPen lineWidth="0.0" lineStyle="Double"/>
					<rightPen lineWidth="1.0" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle" markup="styled">
					<font fontName="Cambria" size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[""]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="b6ea0589-ba9a-495d-891c-b87f98ba33a4" key="textField-54" positionType="Float" stretchType="RelativeToBandHeight" x="383" y="-3" width="69" height="50" isPrintWhenDetailOverflows="true"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="0.0" lineStyle="Double"/>
					<leftPen lineWidth="1.0" lineStyle="Solid"/>
					<bottomPen lineWidth="0.0" lineStyle="Double"/>
					<rightPen lineWidth="1.0" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle" markup="styled">
					<font fontName="Cambria" size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[""]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="29a2022a-6ba1-496a-8bd7-6d3b506ba884" key="textField-29" positionType="Float" stretchType="RelativeToTallestObject" isPrintRepeatedValues="false" mode="Transparent" x="385" y="2" width="65" height="40"/>
				<textElement textAlignment="Center" verticalAlignment="Top" markup="styled">
					<font fontName="Cambria" size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[($F{LUAS_MUKTAMAD} != null ? $F{LUAS_MUKTAMAD}:($F{LUAS_AMBIL} != null ? $F{LUAS_AMBIL}:""))]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="dc1992e7-3eec-4a1b-a0e3-ea0d202cf57a" key="textField-28" positionType="Float" stretchType="RelativeToTallestObject" isPrintRepeatedValues="false" mode="Transparent" x="327" y="2" width="54" height="40"/>
				<textElement textAlignment="Center" verticalAlignment="Top" markup="styled">
					<font fontName="Cambria" size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[($F{LUAS_LOT}!=null ? $F{LUAS_LOT}:"")]]></textFieldExpression>
			</textField>
			<subreport isUsingCache="true">
				<reportElement uuid="77354aff-34eb-4007-bc00-b92be180c0d3" key="subreport-2" positionType="Float" stretchType="RelativeToTallestObject" mode="Transparent" x="145" y="3" width="176" height="40" isPrintWhenDetailOverflows="true"/>
				<subreportParameter name="ReportDir">
					<subreportParameterExpression><![CDATA[$P{ReportDir}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="id_hakmilik">
					<subreportParameterExpression><![CDATA[$F{ID_HAKMILIK}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{ReportDir}+"//ppt//Borang K_bahagian.jasper"]]></subreportExpression>
			</subreport>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="81ac5389-f6ed-4658-87a3-a36b578c9186" key="textField-27" positionType="Float" stretchType="RelativeToTallestObject" isPrintRepeatedValues="false" mode="Transparent" x="74" y="2" width="66" height="40"/>
				<textElement textAlignment="Center" verticalAlignment="Top" markup="styled">
					<font fontName="Cambria" size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[($F{NO_HAKMILIK} != null ? ($F{KOD_JENIS_HAKMILIK} != null ? $F{KOD_JENIS_HAKMILIK}+" ":"")+$F{NO_HAKMILIK}:"")]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="c358250b-c57b-4863-89ab-ceec230dc834" key="textField-26" positionType="Float" stretchType="RelativeToTallestObject" isPrintRepeatedValues="false" mode="Transparent" x="3" y="2" width="68" height="40"/>
				<textElement textAlignment="Center" verticalAlignment="Top" markup="styled">
					<font fontName="Cambria" size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[($F{NO_LOT} != null ? $F{NO_LOT}:($F{NO_PT} != null ? $F{NO_PT}:""))
//($F{NO_LOT} != null ? $F{NO_LOT}:($F{NO_PT} != null ? $F{NO_PT}:""))
/*($F{NO_LOT} != null ? $F{NO_LOT}:"")+
($F{NO_LOT} != null ? ($F{NO_PT} != null ? "\n(" + $F{NO_PT}+")":""):($F{NO_PT} != null ? "(" + $F{NO_PT}+")":""))
*/]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band splitType="Stretch"/>
	</summary>
</jasperReport>
