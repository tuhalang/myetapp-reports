<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Bayaran Lain-Lain Kos" pageWidth="595" pageHeight="842" whenNoDataType="NoDataSection" columnWidth="539" leftMargin="28" rightMargin="28" topMargin="34" bottomMargin="28" uuid="66ab9031-61a0-443d-9acd-c76a55651477">
	<property name="ireport.scriptlethandling" value="0"/>
	<property name="ireport.encoding" value="UTF-8"/>
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<import value="net.sf.jasperreports.engine.*"/>
	<import value="java.util.*"/>
	<import value="net.sf.jasperreports.engine.data.*"/>
	<parameter name="ReportDir" class="java.lang.String"/>
	<parameter name="id_hakmilik" class="java.lang.String"/>
	<parameter name="no_fail" class="java.lang.String"/>
	<parameter name="userlogin" class="java.lang.String"/>
	<queryString>
		<![CDATA[SELECT C.NO_SIASATAN, D.NO_WARTA, TO_CHAR(D.TARIKH_WARTA,'DD.MM.YYYY') AS TARIKH_WARTA,
    CASE
        WHEN E.NO_LOT IS NOT NULL AND E.NO_PT IS NULL THEN E.NO_LOT
        WHEN E.NO_LOT IS NULL AND E.NO_PT IS NOT NULL THEN  JL.KETERANGAN  || CHR(32) || E.NO_PT
        WHEN E.NO_LOT IS NOT NULL AND E.NO_PT IS NOT NULL THEN JL.KETERANGAN  || E.NO_PT || CHR(32) || CHR(40) || E.NO_LOT  || CHR(41)
    ELSE  ''
    END AS NO_LOT,
    CASE
        WHEN SUBSTR(ROUND(E.LUAS_AMBIL,4),1,1) = '.' THEN '0'|| ROUND(E.LUAS_AMBIL,4)
        WHEN SUBSTR(ROUND(E.LUAS_AMBIL,4),1,1) != '.' THEN '' || ROUND(E.LUAS_AMBIL,4)
    END AS LUAS_AMBIL,
    CASE
        WHEN E.ID_UNITLUASAMBIL_CONVERT = 1 THEN 'hektar'
        WHEN E.ID_UNITLUASAMBIL_CONVERT = 2 THEN 'meter persegi'
    END AS UNIT_LUAS_LOT,
    TO_CHAR(C.TARIKH_PERINTAH, 'DD') AS HARI_SURAT,
    CASE
       WHEN TO_CHAR (C.TARIKH_PERINTAH, 'MM') = '01' THEN 'Januari'
       WHEN TO_CHAR (C.TARIKH_PERINTAH, 'MM') = '02' THEN 'Februari'
       WHEN TO_CHAR (C.TARIKH_PERINTAH, 'MM') = '03' THEN 'Mac'
       WHEN TO_CHAR (C.TARIKH_PERINTAH, 'MM') = '04' THEN 'April'
       WHEN TO_CHAR (C.TARIKH_PERINTAH, 'MM') = '05' THEN 'Mei'
       WHEN TO_CHAR (C.TARIKH_PERINTAH, 'MM') = '06' THEN 'Jun'
       WHEN TO_CHAR (C.TARIKH_PERINTAH, 'MM') = '07' THEN 'Julai'
       WHEN TO_CHAR (C.TARIKH_PERINTAH, 'MM') = '08' THEN 'Ogos'
       WHEN TO_CHAR (C.TARIKH_PERINTAH, 'MM') = '09' THEN 'September'
       WHEN TO_CHAR (C.TARIKH_PERINTAH, 'MM') = '10' THEN 'Oktober'
       WHEN TO_CHAR (C.TARIKH_PERINTAH, 'MM') = '11' THEN 'November'
       WHEN TO_CHAR (C.TARIKH_PERINTAH, 'MM') = '12' THEN 'Disember'
       ELSE 'TIADA'
    END AS BULAN_SURAT,
    TO_CHAR(C.TARIKH_PERINTAH, 'YYYY') AS TAHUN_SURAT,A.ID_NEGERI,E.NO_SUBJAKET
    ,B.TUJUAN XTUJUAN,REPLACE(B.TUJUAN,'&','&#38;') TUJUAN,'$P!{no_fail}' AS NO_FAIL, B.ID_DAERAH
    FROM TBLPFDFAIL A, TBLPPTPERMOHONAN B, TBLPPTSIASATAN C, TBLPPTWARTA D, TBLPPTHAKMILIK E, TBLRUJJENISHAKMILIK JL
    WHERE A.ID_FAIL = B.ID_FAIL
    AND E.ID_HAKMILIK = C.ID_HAKMILIK
    AND B.ID_PERMOHONAN = E.ID_PERMOHONAN
    AND B.ID_PERMOHONAN = D.ID_PERMOHONAN
    AND E.ID_JENISHAKMILIK = JL.ID_JENISHAKMILIK
    AND C.ID_SIASATAN = (SELECT MAX(ID_SIASATAN) FROM TBLPPTSIASATAN WHERE E.ID_HAKMILIK = TBLPPTSIASATAN.ID_HAKMILIK)
    AND D.ID_WARTA = (SELECT MAX(ID_WARTA) FROM TBLPPTWARTA WHERE B.ID_PERMOHONAN = TBLPPTWARTA.ID_PERMOHONAN)
    AND E.ID_HAKMILIK = $P!{id_hakmilik}]]>
	</queryString>
	<field name="NO_SIASATAN" class="java.lang.String"/>
	<field name="NO_WARTA" class="java.lang.String"/>
	<field name="TARIKH_WARTA" class="java.lang.String"/>
	<field name="NO_LOT" class="java.lang.String"/>
	<field name="LUAS_AMBIL" class="java.lang.String"/>
	<field name="UNIT_LUAS_LOT" class="java.lang.String"/>
	<field name="HARI_SURAT" class="java.lang.String"/>
	<field name="BULAN_SURAT" class="java.lang.String"/>
	<field name="TAHUN_SURAT" class="java.lang.String"/>
	<field name="ID_NEGERI" class="java.math.BigDecimal"/>
	<field name="NO_SUBJAKET" class="java.lang.String"/>
	<field name="XTUJUAN" class="java.lang.String"/>
	<field name="TUJUAN" class="java.lang.String"/>
	<field name="NO_FAIL" class="java.lang.String"/>
	<field name="ID_DAERAH" class="java.math.BigDecimal"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="117" splitType="Stretch">
			<textField isStretchWithOverflow="true" isBlankWhenNull="false">
				<reportElement uuid="4f9ad3f5-2e9c-418e-9a03-8e579e611e58" key="textField-1" positionType="Float" x="44" y="4" width="451" height="13"/>
				<textElement textAlignment="Center" markup="styled">
					<font fontName="Bookman Old Style" size="11" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<textFieldExpression><![CDATA["JADUAL BAYARAN LAIN-LAIN KOS"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="false">
				<reportElement uuid="3ab5d62a-d48d-40fd-9ed9-5843785e9c47" key="textField-2" positionType="Float" x="44" y="60" width="451" height="16"/>
				<textElement textAlignment="Justified">
					<font fontName="Bookman Old Style" size="11"/>
				</textElement>
				<textFieldExpression><![CDATA["Prosiding Pengambilan No. "+ ($F{NO_SIASATAN}!=null ? $F{NO_SIASATAN}:"") +" mengenai tanah yang dijadualkan dalam pemberitahu Warta Kerajaan No. "+($F{NO_WARTA}!=null ? $F{NO_WARTA}+($F{TARIKH_WARTA}!=null ? " / "+$F{TARIKH_WARTA}:""):"")]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="false">
				<reportElement uuid="5d07e02d-2de5-486a-8855-3e0ed6f35f3c" key="textField-3" positionType="Float" x="44" y="101" width="451" height="16"/>
				<textElement textAlignment="Center">
					<font fontName="Bookman Old Style" size="11" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<textFieldExpression><![CDATA["JADUAL"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="false">
				<reportElement uuid="1038e5c4-d6e5-46c0-afbf-c5654500217f" key="textField-13" positionType="Float" x="44" y="31" width="451" height="15"/>
				<textElement textAlignment="Center" verticalAlignment="Top" markup="styled">
					<font fontName="Bookman Old Style" size="11" isBold="false" pdfFontName="Helvetica"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA["<style isBold='true' pdfFontName='Helvetica-Bold'>"+($F{TUJUAN} != null ? $F{TUJUAN}:"")+"</style>"]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<pageHeader>
		<band splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band splitType="Stretch"/>
	</columnHeader>
	<detail>
		<band height="20" splitType="Stretch">
			<subreport isUsingCache="true">
				<reportElement uuid="c4435681-b658-4262-a82a-18edfae54670" key="subreport-2" positionType="Float" mode="Opaque" x="4" y="3" width="533" height="15"/>
				<subreportParameter name="ReportDir">
					<subreportParameterExpression><![CDATA[$P{ReportDir}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="id_hakmilik">
					<subreportParameterExpression><![CDATA[$P{id_hakmilik}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="no_fail">
					<subreportParameterExpression><![CDATA[$P{no_fail}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="hari_surat">
					<subreportParameterExpression><![CDATA[$F{HARI_SURAT}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="bulan_surat">
					<subreportParameterExpression><![CDATA[$F{BULAN_SURAT}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="tahun_surat">
					<subreportParameterExpression><![CDATA[$F{TAHUN_SURAT}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="id_negeri">
					<subreportParameterExpression><![CDATA[$F{ID_NEGERI}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{ReportDir} + "//ppt//Borang LKOS_lebihDrpdSatuHakmilik_jadual.jasper"]]></subreportExpression>
			</subreport>
		</band>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band height="79" splitType="Stretch">
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="false">
				<reportElement uuid="c982e67f-80c6-49ca-821c-cacd8c108f39" key="textField-14" positionType="Float" x="44" y="19" width="257" height="15"/>
				<textElement textAlignment="Left" verticalAlignment="Bottom" markup="styled">
					<font fontName="Bookman Old Style" size="11" isBold="false" pdfFontName="Helvetica"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA["Bertarikh pada : <style isBold='true' pdfFontName='Helvetica-Bold'>"+($F{HARI_SURAT} != null ? $F{HARI_SURAT}:"")+" "+($F{BULAN_SURAT} != null ? $F{BULAN_SURAT}:"")+" "+($F{TAHUN_SURAT} != null ? $F{TAHUN_SURAT}:"")+"</style>"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="false">
				<reportElement uuid="1bf06726-3236-4d16-b484-db9cd8327c1c" key="textField-15" positionType="Float" x="318" y="61" width="187" height="18" isPrintWhenDetailOverflows="true"/>
				<textElement textAlignment="Center" verticalAlignment="Bottom">
					<font fontName="Bookman Old Style" size="11"/>
				</textElement>
				<textFieldExpression><![CDATA["............................................"
+"\nPentadbir Tanah"]]></textFieldExpression>
			</textField>
			<image>
				<reportElement uuid="bd798527-7fc2-4b3b-8d64-c3a28b2a31a9" key="image-1" positionType="Float" x="446" y="2" width="95" height="64"/>
				<imageExpression><![CDATA[$P{ReportDir} + File.separator+"ppk"+File.separator+"COP"+File.separator+$F{ID_DAERAH}+".png"]]></imageExpression>
			</image>
			<image scaleImage="FillFrame" vAlign="Middle">
				<reportElement uuid="5f1499e2-283b-40df-a963-1d884eaa6840" key="image-1" positionType="Float" x="340" y="35" width="106" height="26"/>
				<imageExpression><![CDATA[$P{ReportDir} + File.separator+"ppt"+File.separator+"tandatangan"+File.separator+$P{userlogin}+".png"]]></imageExpression>
			</image>
		</band>
	</summary>
</jasperReport>
