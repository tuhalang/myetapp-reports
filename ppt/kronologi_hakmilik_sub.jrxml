<?xml version="1.0" encoding="UTF-8"  ?>
<!-- Created with iReport - A designer for JasperReports -->
<!DOCTYPE jasperReport PUBLIC "//JasperReports//DTD Report Design//EN" "http://jasperreports.sourceforge.net/dtds/jasperreport.dtd">
<jasperReport
		 name="kronologi_hakmilik_sub"
		 columnCount="1"
		 printOrder="Vertical"
		 orientation="Landscape"
		 pageWidth="566"
		 pageHeight="283"
		 columnWidth="566"
		 columnSpacing="0"
		 leftMargin="0"
		 rightMargin="0"
		 topMargin="0"
		 bottomMargin="0"
		 whenNoDataType="NoDataSection"
		 isTitleNewPage="false"
		 isSummaryNewPage="false">
	<property name="ireport.scriptlethandling" value="0" />
	<property name="ireport.encoding" value="UTF-8" />
	<import value="java.util.*" />
	<import value="net.sf.jasperreports.engine.*" />
	<import value="net.sf.jasperreports.engine.data.*" />

	<parameter name="ReportDir" isForPrompting="true" class="java.lang.String"/>
	<parameter name="id_hakmilik" isForPrompting="true" class="java.lang.String"/>
	<queryString><![CDATA[/* FORMATTED ON 2013/07/11 22:08 (FORMATTER PLUS V4.8.8) */
SELECT ROWNUM AS RN,TO_CHAR(ROWNUM) AS TURUTAN, UPPER (KRONOLOGI) AS PEKARA,
       TO_CHAR (TARIKH, 'DD/MM/YYYY') AS TARIKH
  FROM (SELECT   (CASE
                     WHEN (SELECT F.ID_KEMENTERIAN
                             FROM TBLPFDFAIL F,
                                  TBLPPTPERMOHONAN P,
                                  TBLPPTHAKMILIK HM
                            WHERE F.ID_FAIL = P.ID_FAIL
                              AND HM.ID_PERMOHONAN = P.ID_PERMOHONAN
                              AND HM.ID_HAKMILIK = '1013259') IS NOT NULL
                        THEN    'Permohonan '
                             || (CASE
                                    WHEN (SELECT F.ID_SUBURUSAN
                                            FROM TBLPFDFAIL F,
                                                 TBLPPTPERMOHONAN P,
                                                 TBLPPTHAKMILIK HM
                                           WHERE F.ID_FAIL = P.ID_FAIL
                                             AND HM.ID_PERMOHONAN =
                                                               P.ID_PERMOHONAN
                                             AND HM.ID_HAKMILIK = $P!{id_hakmilik}) =
                                                                            51
                                       THEN ' Pengambilan Tanah DiBawah Seksyen 4'
                                    WHEN (SELECT F.ID_SUBURUSAN
                                            FROM TBLPFDFAIL F,
                                                 TBLPPTPERMOHONAN P,
                                                 TBLPPTHAKMILIK HM
                                           WHERE F.ID_FAIL = P.ID_FAIL
                                             AND HM.ID_PERMOHONAN =
                                                               P.ID_PERMOHONAN
                                             AND HM.ID_HAKMILIK = $P!{id_hakmilik}) =
                                                                            52
                                       THEN ' Pengambilan Tanah DiBawah Seksyen 8'
                                    WHEN (SELECT F.ID_SUBURUSAN
                                            FROM TBLPFDFAIL F,
                                                 TBLPPTPERMOHONAN P,
                                                 TBLPPTHAKMILIK HM
                                           WHERE F.ID_FAIL = P.ID_FAIL
                                             AND HM.ID_PERMOHONAN =
                                                               P.ID_PERMOHONAN
                                             AND HM.ID_HAKMILIK = $P!{id_hakmilik}) =
                                                                            52
                                       THEN ' Pendudukan Sementara'
                                    ELSE ''
                                 END
                                )
                             || (CASE
                                    WHEN (SELECT F.NO_FAIL
                                            FROM TBLPFDFAIL F,
                                                 TBLPPTPERMOHONAN P,
                                                 TBLPPTHAKMILIK HM
                                           WHERE F.ID_FAIL = P.ID_FAIL
                                             AND HM.ID_PERMOHONAN =
                                                               P.ID_PERMOHONAN
                                             AND HM.ID_HAKMILIK = $P!{id_hakmilik}) IS NOT NULL
                                       THEN    ' bernombor fail '
                                            || (SELECT F.NO_FAIL
                                                  FROM TBLPFDFAIL F,
                                                       TBLPPTPERMOHONAN P,
                                                       TBLPPTHAKMILIK HM
                                                 WHERE F.ID_FAIL = P.ID_FAIL
                                                   AND HM.ID_PERMOHONAN =
                                                               P.ID_PERMOHONAN
                                                   AND HM.ID_HAKMILIK =
                                                                     $P!{id_hakmilik})
                                            || ''
                                    ELSE ''
                                 END
                                )
                             || ' telah dibuat oleh '
                             || (SELECT (SELECT UPPER (M.NAMA_KEMENTERIAN)
                                           FROM TBLRUJKEMENTERIAN M
                                          WHERE M.ID_KEMENTERIAN =
                                                              F.ID_KEMENTERIAN)
                                   FROM TBLPFDFAIL F,
                                        TBLPPTPERMOHONAN P,
                                        TBLPPTHAKMILIK HM
                                  WHERE F.ID_FAIL = P.ID_FAIL
                                    AND HM.ID_PERMOHONAN = P.ID_PERMOHONAN
                                    AND HM.ID_HAKMILIK = $P!{id_hakmilik})
                             || ' bertujuan untuk '
                             || (SELECT P.TUJUAN
                                   FROM TBLPFDFAIL F,
                                        TBLPPTPERMOHONAN P,
                                        TBLPPTHAKMILIK HM
                                  WHERE F.ID_FAIL = P.ID_FAIL
                                    AND HM.ID_PERMOHONAN = P.ID_PERMOHONAN
                                    AND HM.ID_HAKMILIK = $P!{id_hakmilik})
                             || '.'
                     ELSE ''
                  END
                 ) AS KRONOLOGI,
                 TO_NUMBER ('1') AS TURUTAN,
                 (SELECT DISTINCT TO_DATE
                                     (TO_CHAR (P.TARIKH_PERMOHONAN,
                                               'DD/MM/YYYY'
                                              ),
                                      'DD/MM/YYYY'
                                     )
                             FROM TBLPFDFAIL F,
                                  TBLPPTPERMOHONAN P,
                                  TBLPPTHAKMILIK HM
                            WHERE F.ID_FAIL = P.ID_FAIL
                              AND HM.ID_PERMOHONAN = P.ID_PERMOHONAN
                              AND HM.ID_HAKMILIK = $P!{id_hakmilik}) AS TARIKH
            FROM DUAL
        UNION
        SELECT      (CASE
                        WHEN (SELECT TO_CHAR (NO_HAKMILIK)
                                FROM TBLPPTHAKMILIK
                               WHERE ID_HAKMILIK = $P!{id_hakmilik}) IS NOT NULL
                           THEN    'Hakmilik '
                                || (SELECT (SELECT JHM.KOD_JENIS_HAKMILIK
                                              FROM TBLRUJJENISHAKMILIK JHM
                                             WHERE JHM.ID_JENISHAKMILIK =
                                                            H.ID_JENISHAKMILIK)
                                      FROM TBLPPTHAKMILIK H
                                     WHERE H.ID_HAKMILIK = $P!{id_hakmilik})
                                || ' '
                                || (SELECT TO_CHAR (NO_HAKMILIK)
                                      FROM TBLPPTHAKMILIK
                                     WHERE ID_HAKMILIK = $P!{id_hakmilik})
                                || ''
                        ELSE ' Hakmilik ini'
                     END
                    )
                 || (CASE
                        WHEN (SELECT TO_CHAR (TARIKH_MASUK, 'DD/MM/YYYY')
                                FROM TBLPPTHAKMILIK
                               WHERE ID_HAKMILIK = $P!{id_hakmilik}) IS NOT NULL
                           THEN ' telah didaftarkan melalui sistem.'
                        ELSE ' telah didaftarkan melalui sistem.'
                     END
                    )
                 || (CASE
                        WHEN (SELECT COUNT (*) AS TOTAL
                                FROM TBLPPTPIHAKBERKEPENTINGAN PB,
                                     TBLPPTHAKMILIKPB HPB
                               WHERE PB.ID_PIHAKBERKEPENTINGAN =
                                                    HPB.ID_PIHAKBERKEPENTINGAN
                                 AND HPB.ID_JENISPB = '1'
                                 AND HPB.ID_HAKMILIK = $P!{id_hakmilik}) = 1
                           THEN ' Seorang Pemilik/Tuan Tanah didaftarkan dibawah hakmilik ini.'
                        WHEN (SELECT COUNT (*) AS TOTAL
                                FROM TBLPPTPIHAKBERKEPENTINGAN PB,
                                     TBLPPTHAKMILIKPB HPB
                               WHERE PB.ID_PIHAKBERKEPENTINGAN =
                                                    HPB.ID_PIHAKBERKEPENTINGAN
                                 AND HPB.ID_JENISPB = '1'
                                 AND HPB.ID_HAKMILIK = $P!{id_hakmilik}) > 1
                           THEN    ' Seramai '
                                || (SELECT COUNT (*) AS TOTAL
                                      FROM TBLPPTPIHAKBERKEPENTINGAN PB,
                                           TBLPPTHAKMILIKPB HPB
                                     WHERE PB.ID_PIHAKBERKEPENTINGAN =
                                                    HPB.ID_PIHAKBERKEPENTINGAN
                                       AND HPB.ID_JENISPB = '1'
                                       AND HPB.ID_HAKMILIK = $P!{id_hakmilik})
                                || ' orang Pemilik/Tuan Tanah didaftarkan dibawah hakmilik ini.'
                        ELSE ''
                     END
                    )
                 || (CASE
                        WHEN (SELECT COUNT (*) AS TOTAL
                                FROM TBLPPTPIHAKBERKEPENTINGAN PB,
                                     TBLPPTHAKMILIKPB HPB
                               WHERE PB.ID_PIHAKBERKEPENTINGAN =
                                                    HPB.ID_PIHAKBERKEPENTINGAN
                                 AND HPB.ID_JENISPB = '1'
                                 AND HPB.ID_HAKMILIK = $P!{id_hakmilik}) > 0
                           THEN    ' Pemilik/Tuan Tanah yang dimaksudkan adalah '
                                || (SELECT     LTRIM
                                                  (MAX
                                                      (SYS_CONNECT_BY_PATH
                                                              (UPPER (NAMA_PB),
                                                               ', '
                                                              )
                                                      ),
                                                   ','
                                                  ) NAMA_PB
                                          FROM (SELECT HPB.ID_HAKMILIKPB,
                                                       HPB.ID_HAKMILIK,
                                                       PB.NAMA_PB,
                                                       ROW_NUMBER () OVER (PARTITION BY HPB.ID_HAKMILIK ORDER BY ROWNUM)
                                                                           RN
                                                  FROM TBLPPTPIHAKBERKEPENTINGAN PB,
                                                       TBLPPTHAKMILIKPB HPB
                                                 WHERE PB.ID_PIHAKBERKEPENTINGAN =
                                                          HPB.ID_PIHAKBERKEPENTINGAN
                                                   AND HPB.ID_JENISPB = '1'
                                                   AND HPB.ID_HAKMILIK =
                                                                     $P!{id_hakmilik})
                                    CONNECT BY ID_HAKMILIK = PRIOR ID_HAKMILIK
                                           AND RN = PRIOR RN + 1
                                    START WITH RN = 1
                                      GROUP BY ID_HAKMILIK)
                                || '.'
                        ELSE ''
                     END
                    )
                 || (CASE
                        WHEN (SELECT COUNT (*) AS TOTAL
                                FROM TBLPPTPIHAKBERKEPENTINGAN PB,
                                     TBLPPTHAKMILIKPB HPB
                               WHERE PB.ID_PIHAKBERKEPENTINGAN =
                                                    HPB.ID_PIHAKBERKEPENTINGAN
                                 AND HPB.ID_JENISPB != '1'
                                 AND HPB.ID_HAKMILIK = $P!{id_hakmilik}) = 1
                           THEN ' Bagi pihak berkepentingan selain Pemilik/Tuan Tanah, seorang telah didaftarkan dibawah hakmilik ini.'
                        WHEN (SELECT COUNT (*) AS TOTAL
                                FROM TBLPPTPIHAKBERKEPENTINGAN PB,
                                     TBLPPTHAKMILIKPB HPB
                               WHERE PB.ID_PIHAKBERKEPENTINGAN =
                                                    HPB.ID_PIHAKBERKEPENTINGAN
                                 AND HPB.ID_JENISPB != '1'
                                 AND HPB.ID_HAKMILIK = $P!{id_hakmilik}) > 1
                           THEN    ' Bagi pihak berkepentingan selain daripada Pemilik/Tuan Tanah, seramai '
                                || (SELECT COUNT (*) AS TOTAL
                                      FROM TBLPPTPIHAKBERKEPENTINGAN PB,
                                           TBLPPTHAKMILIKPB HPB
                                     WHERE PB.ID_PIHAKBERKEPENTINGAN =
                                                    HPB.ID_PIHAKBERKEPENTINGAN
                                       AND HPB.ID_JENISPB != '1'
                                       AND HPB.ID_HAKMILIK = $P!{id_hakmilik})
                                || ' orang telah didaftarkan dibawah hakmilik ini.'
                        ELSE ''
                     END
                    )
                 || (CASE
                        WHEN ((SELECT DISTINCT P.FLAG_SEGERA
                                          FROM TBLPPTHAKMILIK H,
                                               TBLPPTPERMOHONAN P
                                         WHERE H.ID_HAKMILIK = $P!{id_hakmilik}
                                           AND H.ID_PERMOHONAN =
                                                               P.ID_PERMOHONAN) =
                                                                           '1'
                             )
                         OR ((SELECT H.FLAG_SEGERA_SEBAHAGIAN
                                FROM TBLPPTHAKMILIK H, TBLPPTPERMOHONAN P
                               WHERE H.ID_HAKMILIK = $P!{id_hakmilik}
                                 AND H.ID_PERMOHONAN = P.ID_PERMOHONAN) = 'Y'
                            )
                           THEN ' Permohonan pengambilan tanah bagi hakmilik ini adalah pengambilan segera.'
                        ELSE ''
                     END
                    ) AS KRONOLOGI,
                 TO_NUMBER ('2') AS TURUTAN,
                 (SELECT TO_DATE (TO_CHAR (TARIKH_MASUK, 'DD/MM/YYYY'),
                                  'DD/MM/YYYY'
                                 )
                    FROM TBLPPTHAKMILIK
                   WHERE ID_HAKMILIK = $P!{id_hakmilik}) AS TARIKH
            FROM DUAL
        UNION
        SELECT   (CASE
                     WHEN (SELECT DISTINCT TARIKH_LAWATAN
                                      FROM TBLPPTTANAHUMUM
                                     WHERE ID_PERMOHONAN IN (
                                                 SELECT ID_PERMOHONAN
                                                   FROM TBLPPTHAKMILIK
                                                  WHERE ID_HAKMILIK =
                                                                     $P!{id_hakmilik})) IS NOT NULL
                        THEN 'Menyediakan Laporan Awal Tanah.'
                     ELSE ''
                  END
                 ) AS KRONOLOGI,
                 TO_NUMBER ('3') AS TURUTAN,
                 (SELECT DISTINCT TO_DATE
                                         (TO_CHAR (TARIKH_LAWATAN,
                                                   'DD/MM/YYYY'
                                                  ),
                                          'DD/MM/YYYY'
                                         )
                             FROM TBLPPTTANAHUMUM
                            WHERE ID_PERMOHONAN IN (
                                                 SELECT ID_PERMOHONAN
                                                   FROM TBLPPTHAKMILIK
                                                  WHERE ID_HAKMILIK =
                                                                     $P!{id_hakmilik}))
                                                                    AS TARIKH
            FROM DUAL
        UNION
        SELECT   (CASE
                     WHEN (SELECT DISTINCT TARIKH_SURAT
                                      FROM TBLPPTULASANTEKNIKAL
                                     WHERE ID_PERMOHONAN IN (
                                                 SELECT ID_PERMOHONAN
                                                   FROM TBLPPTHAKMILIK
                                                  WHERE ID_HAKMILIK =
                                                                     $P!{id_hakmilik})
                                       AND FLAG_JENIS_ULASAN = '1') IS NOT NULL
                        THEN 'Permohonan maklumat perancangan kepada JPBD. '
                     ELSE ''
                  END
                 ) AS KRONOLOGI,
                 TO_NUMBER ('4') AS TURUTAN,
                 (SELECT DISTINCT TO_DATE (TO_CHAR (TARIKH_SURAT,
                                                    'DD/MM/YYYY'),
                                           'DD/MM/YYYY'
                                          )
                             FROM TBLPPTULASANTEKNIKAL
                            WHERE ID_PERMOHONAN IN (
                                                 SELECT ID_PERMOHONAN
                                                   FROM TBLPPTHAKMILIK
                                                  WHERE ID_HAKMILIK =
                                                                     $P!{id_hakmilik})
                              AND FLAG_JENIS_ULASAN = '1') AS TARIKH
            FROM DUAL
        UNION
        SELECT   (CASE
                     WHEN (SELECT DISTINCT TARIKH_AKHIR
                                      FROM TBLPPTULASANTEKNIKAL
                                     WHERE ID_PERMOHONAN IN (
                                                 SELECT ID_PERMOHONAN
                                                   FROM TBLPPTHAKMILIK
                                                  WHERE ID_HAKMILIK =
                                                                     $P!{id_hakmilik})
                                       AND FLAG_JENIS_ULASAN = '1') IS NOT NULL
                        THEN 'Menerima maklumbalas dari JPBD. '
                     ELSE ''
                  END
                 ) AS KRONOLOGI,
                 TO_NUMBER ('5') AS TURUTAN,
                 (SELECT DISTINCT TO_DATE (TO_CHAR (TARIKH_AKHIR,
                                                    'DD/MM/YYYY'),
                                           'DD/MM/YYYY'
                                          )
                             FROM TBLPPTULASANTEKNIKAL
                            WHERE ID_PERMOHONAN IN (
                                                 SELECT ID_PERMOHONAN
                                                   FROM TBLPPTHAKMILIK
                                                  WHERE ID_HAKMILIK =
                                                                     $P!{id_hakmilik})
                              AND FLAG_JENIS_ULASAN = '1') AS TARIKH
            FROM DUAL
        UNION
        SELECT   (CASE
                     WHEN (SELECT DISTINCT TARIKH_SURAT
                                      FROM TBLPPTULASANTEKNIKAL
                                     WHERE ID_PERMOHONAN IN (
                                                 SELECT ID_PERMOHONAN
                                                   FROM TBLPPTHAKMILIK
                                                  WHERE ID_HAKMILIK =
                                                                     $P!{id_hakmilik})
                                       AND FLAG_JENIS_ULASAN = '2') IS NOT NULL
                        THEN 'Permohonan maklumat perancangan kepada JPPH. '
                     ELSE ''
                  END
                 ) AS KRONOLOGI,
                 TO_NUMBER ('6') AS TURUTAN,
                 (SELECT DISTINCT TO_DATE (TO_CHAR (TARIKH_SURAT,
                                                    'DD/MM/YYYY'),
                                           'DD/MM/YYYY'
                                          )
                             FROM TBLPPTULASANTEKNIKAL
                            WHERE ID_PERMOHONAN IN (
                                                 SELECT ID_PERMOHONAN
                                                   FROM TBLPPTHAKMILIK
                                                  WHERE ID_HAKMILIK =
                                                                     $P!{id_hakmilik})
                              AND FLAG_JENIS_ULASAN = '2') AS TARIKH
            FROM DUAL
        UNION
        SELECT   (CASE
                     WHEN (SELECT DISTINCT TARIKH_AKHIR
                                      FROM TBLPPTULASANTEKNIKAL
                                     WHERE ID_PERMOHONAN IN (
                                                 SELECT ID_PERMOHONAN
                                                   FROM TBLPPTHAKMILIK
                                                  WHERE ID_HAKMILIK =
                                                                     $P!{id_hakmilik})
                                       AND FLAG_JENIS_ULASAN = '2') IS NOT NULL
                        THEN 'Menerima maklumbalas dari JPPH. '
                     ELSE ''
                  END
                 ) AS KRONOLOGI,
                 TO_NUMBER ('7') AS TURUTAN,
                 (SELECT DISTINCT TO_DATE (TO_CHAR (TARIKH_AKHIR,
                                                    'DD/MM/YYYY'),
                                           'DD/MM/YYYY'
                                          )
                             FROM TBLPPTULASANTEKNIKAL
                            WHERE ID_PERMOHONAN IN (
                                                 SELECT ID_PERMOHONAN
                                                   FROM TBLPPTHAKMILIK
                                                  WHERE ID_HAKMILIK =
                                                                     $P!{id_hakmilik})
                              AND FLAG_JENIS_ULASAN = '2') AS TARIKH
            FROM DUAL
        UNION
        SELECT   (CASE
                     WHEN (SELECT DISTINCT TARIKH_MULA_LAWAT
                                      FROM TBLPPTTANAH
                                     WHERE ID_HAKMILIK = $P!{id_hakmilik}) IS NOT NULL
                        THEN 'Lawatan tapak dilakukan untuk penyediaan laporan terperinci tanah. '
                     ELSE ''
                  END
                 ) AS KRONOLOGI,
                 TO_NUMBER ('8') AS TURUTAN,
                 (SELECT DISTINCT TO_DATE
                                      (TO_CHAR (TARIKH_MULA_LAWAT,
                                                'DD/MM/YYYY'
                                               ),
                                       'DD/MM/YYYY'
                                      )
                             FROM TBLPPTTANAH
                            WHERE ID_HAKMILIK = $P!{id_hakmilik}) AS TARIKH
            FROM DUAL
        UNION
        SELECT   KRONOLOGI, TURUTAN, TARIKH_SURAT AS TARIKH
            FROM (SELECT   TO_DATE (TO_CHAR (A.TARIKH_SURAT, 'DD/MM/YYYY'),
                                    'DD/MM/YYYY'
                                   ) AS TARIKH_SURAT,
                           (CASE
                               WHEN A.TARIKH_SURAT IS NOT NULL
                                  THEN    'Permohonan maklumat Jabatan Teknikal '
                                       || (CASE
                                              WHEN B.NAMA_JABATAN IS NOT NULL
                                                 THEN    'kepada '
                                                      || UPPER (B.NAMA_JABATAN)
                                                      || ''
                                              ELSE ''
                                           END
                                          )
                                       || '. '
                               ELSE ''
                            END
                           ) AS KRONOLOGI,
                           TO_NUMBER ('9') AS TURUTAN
                      FROM TBLPPTULASANTEKNIKAL A, TBLPPTJABATANTEKNIKAL B
                     WHERE A.ID_JABATANTEKNIKAL = B.ID_JABATANTEKNIKAL(+)
                       AND NVL (A.FLAG_JENIS_ULASAN, 0) NOT IN (1, 2)
                       AND A.ID_PERMOHONAN IN (SELECT ID_PERMOHONAN
                                                 FROM TBLPPTHAKMILIK
                                                WHERE ID_HAKMILIK = $P!{id_hakmilik})
                  ORDER BY A.TARIKH_SURAT ASC)
        UNION
        SELECT   KRONOLOGI, TURUTAN, TARIKH_SURAT AS TARIKH
            FROM (SELECT   TO_DATE
                                (TO_CHAR (A.TARIKH_TERIMAJT, 'DD/MM/YYYY'),
                                 'DD/MM/YYYY'
                                ) AS TARIKH_SURAT,
                              (CASE
                                  WHEN A.TARIKH_TERIMAJT IS NOT NULL
                                     THEN    'Menerima maklumbalas '
                                          || (CASE
                                                 WHEN B.NAMA_JABATAN IS NOT NULL
                                                    THEN    'dari '
                                                         || UPPER
                                                               (B.NAMA_JABATAN)
                                                         || ''
                                                 ELSE ''
                                              END
                                             )
                                          || '. '
                                  ELSE ''
                               END
                              )
                           || (CASE
                                  WHEN A.KEPUTUSANJT = '1'
                                     THEN 'Keputusan maklumbalas jabatan teknikal adalah disokong. '
                                  WHEN A.KEPUTUSANJT = '2'
                                     THEN 'Keputusan maklumbalas jabatan teknikal adalah tidak disokong. '
                                  ELSE ''
                               END
                              ) AS KRONOLOGI,
                           TO_NUMBER ('10') AS TURUTAN
                      FROM TBLPPTULASANTEKNIKAL A, TBLPPTJABATANTEKNIKAL B
                     WHERE A.ID_JABATANTEKNIKAL = B.ID_JABATANTEKNIKAL(+)
                       AND NVL (A.FLAG_JENIS_ULASAN, 0) NOT IN (1, 2)
                       AND A.ID_PERMOHONAN IN (SELECT ID_PERMOHONAN
                                                 FROM TBLPPTHAKMILIK
                                                WHERE ID_HAKMILIK = $P!{id_hakmilik})
                  ORDER BY A.TARIKH_SURAT ASC)
        UNION
        SELECT   (CASE
                     WHEN (SELECT A.TARIKH_HANTAR
                             FROM TBLPPTMMK A, TBLPPTMMKKEPUTUSAN C
                            WHERE C.ID_MMK(+) = A.ID_MMK
                              AND A.ID_PERMOHONAN IN (
                                                 SELECT ID_PERMOHONAN
                                                   FROM TBLPPTHAKMILIK
                                                  WHERE ID_HAKMILIK =
                                                                     $P!{id_hakmilik})) IS NOT NULL
                        THEN    'Kertas MMK/MB/KM/LC telah disediakan dan dihantar'
                             || ' untuk mendapat kelulusan PBN. '
                     ELSE ''
                  END
                 ) AS KRONOLOGI,
                 TO_NUMBER ('11') AS TURUTAN,
                 (SELECT TO_DATE (TO_CHAR (A.TARIKH_HANTAR, 'DD/MM/YYYY'),
                                  'DD/MM/YYYY'
                                 ) AS TARIKH_HANTAR
                    FROM TBLPPTMMK A, TBLPPTMMKKEPUTUSAN C
                   WHERE C.ID_MMK(+) = A.ID_MMK
                     AND A.ID_PERMOHONAN IN (SELECT ID_PERMOHONAN
                                               FROM TBLPPTHAKMILIK
                                              WHERE ID_HAKMILIK = $P!{id_hakmilik}))
                                                                    AS TARIKH
            FROM DUAL
        UNION
        SELECT      (CASE
                        WHEN (SELECT A.TARIKH_MMK
                                FROM TBLPPTMMK A, TBLPPTMMKKEPUTUSAN C
                               WHERE C.ID_MMK(+) = A.ID_MMK
                                 AND A.ID_PERMOHONAN IN (
                                                 SELECT ID_PERMOHONAN
                                                   FROM TBLPPTHAKMILIK
                                                  WHERE ID_HAKMILIK =
                                                                     $P!{id_hakmilik})) IS NOT NULL
                           THEN 'Menerima keputusan dari PBN' || ''
                        ELSE ''
                     END
                    )
                 || (CASE
                        WHEN (SELECT C.STATUS_KEPUTUSAN
                                FROM TBLPPTMMK A, TBLPPTMMKKEPUTUSAN C
                               WHERE C.ID_MMK(+) = A.ID_MMK
                                 AND A.ID_PERMOHONAN IN (
                                                 SELECT ID_PERMOHONAN
                                                   FROM TBLPPTHAKMILIK
                                                  WHERE ID_HAKMILIK =
                                                                     $P!{id_hakmilik})) =
                                                                             1
                           THEN ' dan keputusanya adalah diluluskan.'
                        WHEN (SELECT C.STATUS_KEPUTUSAN
                                FROM TBLPPTMMK A, TBLPPTMMKKEPUTUSAN C
                               WHERE C.ID_MMK(+) = A.ID_MMK
                                 AND A.ID_PERMOHONAN IN (
                                                 SELECT ID_PERMOHONAN
                                                   FROM TBLPPTHAKMILIK
                                                  WHERE ID_HAKMILIK =
                                                                     $P!{id_hakmilik})) =
                                                                             2
                           THEN ' dan keputusanya adalah ditolak.'
                        WHEN (SELECT C.STATUS_KEPUTUSAN
                                FROM TBLPPTMMK A, TBLPPTMMKKEPUTUSAN C
                               WHERE C.ID_MMK(+) = A.ID_MMK
                                 AND A.ID_PERMOHONAN IN (
                                                 SELECT ID_PERMOHONAN
                                                   FROM TBLPPTHAKMILIK
                                                  WHERE ID_HAKMILIK =
                                                                     $P!{id_hakmilik})) =
                                                                             3
                           THEN ' dan keputusanya adalah ditangguh.'
                        ELSE '.'
                     END
                    ) AS KRONOLOGI,
                 TO_NUMBER ('12') AS TURUTAN,
                 (SELECT TO_DATE (TO_CHAR (A.TARIKH_MMK, 'DD/MM/YYYY'),
                                  'DD/MM/YYYY'
                                 ) AS TARIKH_MMK
                    FROM TBLPPTMMK A, TBLPPTMMKKEPUTUSAN C
                   WHERE C.ID_MMK(+) = A.ID_MMK
                     AND A.ID_PERMOHONAN IN (SELECT ID_PERMOHONAN
                                               FROM TBLPPTHAKMILIK
                                              WHERE ID_HAKMILIK = $P!{id_hakmilik}))
                                                                    AS TARIKH
            FROM DUAL
        UNION
        SELECT      (CASE
                        WHEN (SELECT DISTINCT TARIKH_WARTA
                                         FROM TBLPPTWARTA
                                        WHERE ID_PERMOHONAN IN (
                                                 SELECT ID_PERMOHONAN
                                                   FROM TBLPPTHAKMILIK
                                                  WHERE ID_HAKMILIK =
                                                                     $P!{id_hakmilik})
                                          AND TARIKH_WARTA =
                                                 (SELECT MAX (TARIKH_WARTA)
                                                    FROM TBLPPTWARTA
                                                   WHERE ID_PERMOHONAN IN (
                                                            SELECT ID_PERMOHONAN
                                                              FROM TBLPPTHAKMILIK
                                                             WHERE ID_HAKMILIK =
                                                                      $P!{id_hakmilik}))
                                          AND TARIKH_WARTA IS NOT NULL
                                          AND ROWNUM = 1) IS NOT NULL
                           THEN 'Warta dikeluarkan. '
                        ELSE ''
                     END
                    )
                 || (CASE
                        WHEN (SELECT DISTINCT NO_WARTA
                                         FROM TBLPPTWARTA
                                        WHERE ID_PERMOHONAN IN (
                                                 SELECT ID_PERMOHONAN
                                                   FROM TBLPPTHAKMILIK
                                                  WHERE ID_HAKMILIK =
                                                                     $P!{id_hakmilik})
                                          AND TARIKH_WARTA =
                                                 (SELECT MAX (TARIKH_WARTA)
                                                    FROM TBLPPTWARTA
                                                   WHERE ID_PERMOHONAN IN (
                                                            SELECT ID_PERMOHONAN
                                                              FROM TBLPPTHAKMILIK
                                                             WHERE ID_HAKMILIK =
                                                                      $P!{id_hakmilik}))
                                          AND TARIKH_WARTA IS NOT NULL
                                          AND ROWNUM = 1) IS NOT NULL
                           THEN    'No Warta adalah '
                                || (SELECT DISTINCT NO_WARTA
                                               FROM TBLPPTWARTA
                                              WHERE ID_PERMOHONAN IN (
                                                       SELECT ID_PERMOHONAN
                                                         FROM TBLPPTHAKMILIK
                                                        WHERE ID_HAKMILIK =
                                                                     $P!{id_hakmilik})
                                                AND TARIKH_WARTA =
                                                       (SELECT MAX
                                                                  (TARIKH_WARTA
                                                                  )
                                                          FROM TBLPPTWARTA
                                                         WHERE ID_PERMOHONAN IN (
                                                                  SELECT ID_PERMOHONAN
                                                                    FROM TBLPPTHAKMILIK
                                                                   WHERE ID_HAKMILIK =
                                                                            $P!{id_hakmilik}))
                                                AND TARIKH_WARTA IS NOT NULL
                                                AND ROWNUM = 1)
                                || '. '
                        ELSE ''
                     END
                    ) AS KRONOLOGI,
                 TO_NUMBER ('13') AS TURUTAN,
                 (SELECT DISTINCT TO_DATE
                                     (TO_CHAR (TARIKH_WARTA, 'DD/MM/YYYY'),
                                      'DD/MM/YYYY'
                                     ) AS TARIKH_WARTA
                             FROM TBLPPTWARTA
                            WHERE ID_PERMOHONAN IN (
                                      SELECT ID_PERMOHONAN
                                        FROM TBLPPTHAKMILIK
                                       WHERE ID_HAKMILIK =
                                                          $P!{id_hakmilik})
                              AND TARIKH_WARTA =
                                     (SELECT MAX (TARIKH_WARTA)
                                        FROM TBLPPTWARTA
                                       WHERE ID_PERMOHONAN IN (
                                                 SELECT ID_PERMOHONAN
                                                   FROM TBLPPTHAKMILIK
                                                  WHERE ID_HAKMILIK =
                                                                     $P!{id_hakmilik}))
                              AND TARIKH_WARTA IS NOT NULL
                              AND ROWNUM = 1) AS TARIKH
            FROM DUAL
        UNION
        SELECT      (CASE
                        WHEN (SELECT DISTINCT B.TARIKH_BORANGE
                                         FROM TBLPPTBORANGEHAKMILIK A,
                                              TBLPPTBORANGE B,
                                              TBLPPTHAKMILIK C
                                        WHERE A.ID_BORANGE = B.ID_BORANGE
                                          AND A.ID_HAKMILIK = C.ID_HAKMILIK
                                          AND C.ID_HAKMILIK = $P!{id_hakmilik}) IS NOT NULL
                           THEN 'Borang E dikeluarkan. '
                        ELSE ''
                     END
                    )
                 || (CASE
                        WHEN (SELECT DISTINCT B.TARIKH_AKHIR_TAMPAL
                                         FROM TBLPPTBORANGEHAKMILIK A,
                                              TBLPPTBORANGE B,
                                              TBLPPTHAKMILIK C
                                        WHERE A.ID_BORANGE = B.ID_BORANGE
                                          AND A.ID_HAKMILIK = C.ID_HAKMILIK
                                          AND C.ID_HAKMILIK = $P!{id_hakmilik}) IS NOT NULL
                           THEN    'Tarikh akhir tampal adalah pada '
                                || (SELECT DISTINCT TO_CHAR
                                                       (B.TARIKH_AKHIR_TAMPAL,
                                                        'DD/MM/YYYY'
                                                       )
                                                       AS TARIKH_AKHIR_TAMPAL
                                               FROM TBLPPTBORANGEHAKMILIK A,
                                                    TBLPPTBORANGE B,
                                                    TBLPPTHAKMILIK C
                                              WHERE A.ID_BORANGE =
                                                                  B.ID_BORANGE
                                                AND A.ID_HAKMILIK =
                                                                 C.ID_HAKMILIK
                                                AND C.ID_HAKMILIK = $P!{id_hakmilik})
                                || '. '
                        ELSE ''
                     END
                    )
                 || (CASE
                        WHEN (SELECT DISTINCT B.TARIKH_SIASATAN
                                         FROM TBLPPTBORANGEHAKMILIK A,
                                              TBLPPTBORANGE B,
                                              TBLPPTHAKMILIK C
                                        WHERE A.ID_BORANGE = B.ID_BORANGE
                                          AND A.ID_HAKMILIK = C.ID_HAKMILIK
                                          AND C.ID_HAKMILIK = $P!{id_hakmilik}) IS NOT NULL
                           THEN    'Tarikh ditetapkan pada '
                                || (SELECT DISTINCT TO_CHAR
                                                       (B.TARIKH_SIASATAN,
                                                        'DD/MM/YYYY'
                                                       ) AS TARIKH_SIASATAN
                                               FROM TBLPPTBORANGEHAKMILIK A,
                                                    TBLPPTBORANGE B,
                                                    TBLPPTHAKMILIK C
                                              WHERE A.ID_BORANGE =
                                                                  B.ID_BORANGE
                                                AND A.ID_HAKMILIK =
                                                                 C.ID_HAKMILIK
                                                AND C.ID_HAKMILIK = $P!{id_hakmilik})
                                || '. '
                        ELSE ''
                     END
                    ) AS KRONOLOGI,
                 TO_NUMBER ('14') AS TURUTAN,
                 (SELECT DISTINCT TO_DATE
                                     (TO_CHAR (B.TARIKH_BORANGE, 'DD/MM/YYYY'),
                                      'DD/MM/YYYY'
                                     ) AS TARIKH_BORANGE
                             FROM TBLPPTBORANGEHAKMILIK A,
                                  TBLPPTBORANGE B,
                                  TBLPPTHAKMILIK C
                            WHERE A.ID_BORANGE = B.ID_BORANGE
                              AND A.ID_HAKMILIK = C.ID_HAKMILIK
                              AND C.ID_HAKMILIK = $P!{id_hakmilik}) AS TARIKH
            FROM DUAL
        UNION
        SELECT   (CASE
                     WHEN (SELECT DISTINCT B.TARIKH_BORANGF
                                      FROM TBLPPTBORANGEHAKMILIK A,
                                           TBLPPTBORANGE B,
                                           TBLPPTHAKMILIK C
                                     WHERE A.ID_BORANGE = B.ID_BORANGE
                                       AND A.ID_HAKMILIK = C.ID_HAKMILIK
                                       AND C.ID_HAKMILIK = $P!{id_hakmilik}) IS NOT NULL
                        THEN 'Borang F dikeluarkan. '
                     ELSE ''
                  END
                 ) AS KRONOLOGI,
                 TO_NUMBER ('15') AS TURUTAN,
                 (SELECT DISTINCT TO_DATE
                                     (TO_CHAR (B.TARIKH_BORANGE, 'DD/MM/YYYY'),
                                      'DD/MM/YYYY'
                                     ) AS TARIKH_BORANGE
                             FROM TBLPPTBORANGEHAKMILIK A,
                                  TBLPPTBORANGE B,
                                  TBLPPTHAKMILIK C
                            WHERE A.ID_BORANGE = B.ID_BORANGE
                              AND A.ID_HAKMILIK = C.ID_HAKMILIK
                              AND C.ID_HAKMILIK = $P!{id_hakmilik}) AS TARIKH
            FROM DUAL
        UNION
        SELECT   KRONOLOGI, TURUTAN, TARIKH_TAMPAL AS TARIKH
            FROM (SELECT    (CASE
                                WHEN B.JENIS_TEMPAT_TAMPAL IS NOT NULL
                                   THEN    'Notis Awan telah ditampal di '
                                        || (CASE
                                               WHEN B.JENIS_TEMPAT_TAMPAL =
                                                                           '1'
                                                  THEN 'PTD / PTG.'
                                               WHEN B.JENIS_TEMPAT_TAMPAL =
                                                                           '2'
                                                  THEN 'PAPAN KENYATAAN AWAM DI DALAM MUKIM / BANDAR.'
                                               WHEN B.JENIS_TEMPAT_TAMPAL =
                                                                           '3'
                                                  THEN 'TEMPAT LAIN DI ATAS / BERHAMPIRAN TANAH.'
                                               ELSE ''
                                            END
                                           )
                                ELSE ''
                             END
                            )
                         || (CASE
                                WHEN TEMPAT IS NOT NULL
                                   THEN ' (' || TEMPAT || ')'
                                ELSE ''
                             END
                            ) AS KRONOLOGI,
                         TO_NUMBER ('16') AS TURUTAN,
                         TO_DATE (TO_CHAR (B.TARIKH_TAMPAL, 'DD/MM/YYYY'),
                                  'DD/MM/YYYY'
                                 ) AS TARIKH_TAMPAL
                    FROM TBLPPTNOTISAWAMHAKMILIK A,
                         TBLPPTNOTISAWAM B,
                         TBLPPTHAKMILIK C
                   WHERE A.ID_NOTISAWAM = B.ID_NOTISAWAM
                     AND A.ID_HAKMILIK = C.ID_HAKMILIK
                     AND C.ID_HAKMILIK = $P!{id_hakmilik}
                     AND B.TARIKH_TAMPAL IS NOT NULL)
        UNION
        SELECT      (CASE
                        WHEN (SELECT TARIKH_LAWAT
                                FROM TBLPPTTANDAKAWASAN
                               WHERE ID_PERMOHONAN IN (
                                                 SELECT ID_PERMOHONAN
                                                   FROM TBLPPTHAKMILIK
                                                  WHERE ID_HAKMILIK =
                                                                     $P!{id_hakmilik})) IS NOT NULL
                           THEN 'Penandaan Kawasan telah dilakukan. '
                        ELSE ''
                     END
                    )
                 || (CASE
                        WHEN (SELECT TARIKH_MULA
                                FROM TBLPPTTANDAKAWASAN
                               WHERE ID_PERMOHONAN IN (
                                                 SELECT ID_PERMOHONAN
                                                   FROM TBLPPTHAKMILIK
                                                  WHERE ID_HAKMILIK =
                                                                     $P!{id_hakmilik})) IS NOT NULL
                        AND (SELECT TARIKH_AKHIR
                               FROM TBLPPTTANDAKAWASAN
                              WHERE ID_PERMOHONAN IN (
                                                 SELECT ID_PERMOHONAN
                                                   FROM TBLPPTHAKMILIK
                                                  WHERE ID_HAKMILIK =
                                                                     $P!{id_hakmilik})) IS NOT NULL
                           THEN    'Proses penandaan bermula dari '
                                || (SELECT TO_CHAR
                                                (TARIKH_MULA,
                                                 'DD/MM/YYYY'
                                                ) AS TARIKH_LAWAT
                                      FROM TBLPPTTANDAKAWASAN
                                     WHERE ID_PERMOHONAN IN (
                                                 SELECT ID_PERMOHONAN
                                                   FROM TBLPPTHAKMILIK
                                                  WHERE ID_HAKMILIK =
                                                                     $P!{id_hakmilik}))
                                || ' sehingga '
                                || (SELECT TO_CHAR
                                               (TARIKH_AKHIR,
                                                'DD/MM/YYYY'
                                               ) AS TARIKH_LAWAT
                                      FROM TBLPPTTANDAKAWASAN
                                     WHERE ID_PERMOHONAN IN (
                                                 SELECT ID_PERMOHONAN
                                                   FROM TBLPPTHAKMILIK
                                                  WHERE ID_HAKMILIK =
                                                                     $P!{id_hakmilik}))
                                || '. '
                        ELSE ''
                     END
                    ) AS KRONOLOGI,
                 TO_NUMBER ('17') AS TURUTAN,
                 (SELECT DISTINCT TO_DATE
                                      (TO_CHAR (TARIKH_MULA_LAWAT,
                                                'DD/MM/YYYY'
                                               ),
                                       'DD/MM/YYYY'
                                      )
                             FROM TBLPPTTANAH
                            WHERE ID_HAKMILIK = $P!{id_hakmilik}) AS TARIKH
            FROM DUAL
        UNION
        SELECT   KRONOLOGI, TURUTAN, TARIKH_SIASATAN AS TARIKH
            FROM (SELECT    (CASE
                                WHEN S.TARIKH_SIASATAN IS NOT NULL
                                   THEN    'Urusan siasatan ('
                                        || (CASE
                                               WHEN S.NO_KES IS NOT NULL
                                                  THEN    'No. Kes : '
                                                       || S.NO_KES
                                                       || ', '
                                               ELSE ''
                                            END
                                           )
                                        || (CASE
                                               WHEN S.BIL_SIASATAN IS NOT NULL
                                                  THEN    'Bil. Siasatan : '
                                                       || S.BIL_SIASATAN
                                                       || ''
                                               ELSE ''
                                            END
                                           )
                                        || ') telah dilakukan. '
                                ELSE ''
                             END
                            )
                         || (CASE
                                WHEN S.TEMPAT IS NOT NULL
                                   THEN 'di ' || TEMPAT || ' '
                                ELSE ''
                             END
                            )
                         || (CASE
                                WHEN S.STATUS_SIASATAN IS NOT NULL
                                   THEN    'Status semasa siasatan adalah '
                                        || CASE
                                              WHEN S.STATUS_SIASATAN = '1'
                                                 THEN 'Siasatan Permulaan. '
                                              WHEN S.STATUS_SIASATAN = '2'
                                                 THEN 'Ditunda. '
                                              WHEN S.STATUS_SIASATAN = '3'
                                                 THEN 'Dibatalkan. '
                                              WHEN S.STATUS_SIASATAN = '4'
                                                 THEN 'Siasatan Ulangan. '
                                              WHEN S.STATUS_SIASATAN = '5'
                                                 THEN 'Sambung Siasatan. '
                                              WHEN S.STATUS_SIASATAN = '6'
                                                 THEN 'Selesai. '
                                              WHEN S.STATUS_SIASATAN = '7'
                                                 THEN 'Tangguh. '
                                              ELSE ''
                                           END
                                ELSE ''
                             END
                            )
                         || CASE
                               WHEN (SELECT NVL (SUM (BAYAR_PAMPASAN), 0)
                                       FROM TBLPPTAWARD
                                      WHERE ID_SIASATAN =
                                               (SELECT ID_SIASATAN
                                                  FROM TBLPPTSIASATAN
                                                 WHERE ID_HAKMILIK = $P!{id_hakmilik}
                                                   AND STATUS_SIASATAN = '6'
                                                   AND ID_PENARIKANBALIK IS NULL)) >
                                                                             0
                                  THEN    'Sejumlah pampasan sebanyak RM '
                                       || (SELECT TRIM
                                                     (TO_CHAR
                                                         (SUM (BAYAR_PAMPASAN),
                                                          '999,999,999,990.99'
                                                         )
                                                     ) AS BAYAR_PAMPASAN
                                             FROM TBLPPTAWARD
                                            WHERE ID_SIASATAN =
                                                     (SELECT ID_SIASATAN
                                                        FROM TBLPPTSIASATAN
                                                       WHERE ID_HAKMILIK =
                                                                     $P!{id_hakmilik}
                                                         AND STATUS_SIASATAN =
                                                                           '6'
                                                         AND ID_PENARIKANBALIK IS NULL))
                               ELSE ''
                            END
                         || ' '
                         || 'telah diawardkan kepada pihak-pihak perkepentingan yang terlibat.'
                                                                 AS KRONOLOGI,
                         TO_NUMBER ('18') AS TURUTAN,
                         TO_DATE
                             (TO_CHAR (S.TARIKH_SIASATAN, 'DD/MM/YYYY'),
                              'DD/MM/YYYY'
                             ) AS TARIKH_SIASATAN
                    FROM TBLPPTSIASATAN S
                   WHERE ID_HAKMILIK = $P!{id_hakmilik}
                     AND ID_PENARIKANBALIK IS NULL
                     AND S.TARIKH_SIASATAN IS NOT NULL)
        UNION
        SELECT   (CASE
                     WHEN (SELECT G.TARIKH_BORANGG
                             FROM TBLPPTBORANGG G
                            WHERE G.ID_SIASATAN IN (
                                     SELECT ID_SIASATAN
                                       FROM TBLPPTSIASATAN
                                      WHERE ID_HAKMILIK = $P!{id_hakmilik}
                                        AND STATUS_SIASATAN = '6')) IS NOT NULL
                        THEN 'Borang G telah dikeluarkan. '
                     ELSE ''
                  END
                 ) AS KRONOLOGI,
                 TO_NUMBER ('19') AS TURUTAN,
                 (SELECT TO_DATE
                               (TO_CHAR (G.TARIKH_BORANGG, 'DD/MM/YYYY'),
                                'DD/MM/YYYY'
                               ) AS TARIKH_BORANGG
                    FROM TBLPPTBORANGG G
                   WHERE G.ID_SIASATAN IN (
                            SELECT ID_SIASATAN
                              FROM TBLPPTSIASATAN
                             WHERE ID_HAKMILIK = $P!{id_hakmilik}
                               AND STATUS_SIASATAN = '6')) AS TARIKH
            FROM DUAL
        UNION
        SELECT   (CASE
                     WHEN (SELECT G.TARIKH_BORANGH
                             FROM TBLPPTBORANGG G
                            WHERE G.ID_SIASATAN IN (
                                     SELECT ID_SIASATAN
                                       FROM TBLPPTSIASATAN
                                      WHERE ID_HAKMILIK = $P!{id_hakmilik}
                                        AND STATUS_SIASATAN = '6')) IS NOT NULL
                        THEN 'Borang H telah dikeluarkan. '
                     ELSE ''
                  END
                 ) AS KRONOLOGI,
                 TO_NUMBER ('20') AS TURUTAN,
                 (SELECT TO_DATE
                               (TO_CHAR (G.TARIKH_BORANGH, 'DD/MM/YYYY'),
                                'DD/MM/YYYY'
                               ) AS TARIKH_BORANGH
                    FROM TBLPPTBORANGG G
                   WHERE G.ID_SIASATAN IN (
                            SELECT ID_SIASATAN
                              FROM TBLPPTSIASATAN
                             WHERE ID_HAKMILIK = $P!{id_hakmilik}
                               AND STATUS_SIASATAN = '6')) AS TARIKH
            FROM DUAL
        UNION
        SELECT   (CASE
                     WHEN (SELECT K.TARIKH_BORANGK
                             FROM TBLPPTENDOSANBORANGK H,
                                  TBLPPTBORANGK K,
                                  TBLPPTHAKMILIKBORANGK HK
                            WHERE H.ID_BORANGK = K.ID_BORANGK
                              AND HK.ID_BORANGK = K.ID_BORANGK
                              AND HK.ID_HAKMILIK = $P!{id_hakmilik}) IS NOT NULL
                        THEN 'Borang K telah dikeluarkan. '
                     ELSE ''
                  END
                 ) AS KRONOLOGI,
                 TO_NUMBER ('21') AS TURUTAN,
                 (SELECT TO_DATE
                               (TO_CHAR (K.TARIKH_BORANGK, 'DD/MM/YYYY'),
                                'DD/MM/YYYY'
                               ) AS TARIKH_BORANGK
                    FROM TBLPPTENDOSANBORANGK H,
                         TBLPPTBORANGK K,
                         TBLPPTHAKMILIKBORANGK HK
                   WHERE H.ID_BORANGK = K.ID_BORANGK
                     AND HK.ID_BORANGK = K.ID_BORANGK
                     AND HK.ID_HAKMILIK = $P!{id_hakmilik}) AS TARIKH
            FROM DUAL
        UNION
        SELECT   (CASE
                     WHEN (SELECT TARIKH_BORANGL
                             FROM TBLPPTBORANGL
                            WHERE ID_HAKMILIK = $P!{id_hakmilik}) IS NOT NULL
                        THEN 'Borang L telah dikeluarkan. '
                     ELSE ''
                  END
                 ) AS KRONOLOGI,
                 TO_NUMBER ('22') AS TURUTAN,
                 (SELECT TO_DATE (TO_CHAR (TARIKH_BORANGL, 'DD/MM/YYYY'),
                                  'DD/MM/YYYY'
                                 ) AS TARIKH_BORANGL
                    FROM TBLPPTBORANGL
                   WHERE ID_HAKMILIK = $P!{id_hakmilik}) AS TARIKH
            FROM DUAL
        UNION
        SELECT   (CASE
                     WHEN (SELECT H.TARIKH_CATATAN
                             FROM TBLPPTENDOSANBORANGK H,
                                  TBLPPTBORANGK K,
                                  TBLPPTHAKMILIKBORANGK HK
                            WHERE H.ID_BORANGK = K.ID_BORANGK
                              AND HK.ID_BORANGK = K.ID_BORANGK
                              AND HK.ID_HAKMILIK = $P!{id_hakmilik}) IS NOT NULL
                        THEN 'Maklumat Endorsan Borang K dihantar. '
                     ELSE ''
                  END
                 ) AS KRONOLOGI,
                 TO_NUMBER ('23') AS TURUTAN,
                 (SELECT TO_DATE
                               (TO_CHAR (H.TARIKH_CATATAN, 'DD/MM/YYYY'),
                                'DD/MM/YYYY'
                               ) AS TARIKH_CATATAN
                    FROM TBLPPTENDOSANBORANGK H,
                         TBLPPTBORANGK K,
                         TBLPPTHAKMILIKBORANGK HK
                   WHERE H.ID_BORANGK = K.ID_BORANGK
                     AND HK.ID_BORANGK = K.ID_BORANGK
                     AND HK.ID_HAKMILIK = $P!{id_hakmilik}) AS TARIKH
            FROM DUAL
        UNION
        SELECT   (CASE
                     WHEN (SELECT H.TARIKH_TERIMA
                             FROM TBLPPTENDOSANBORANGK H,
                                  TBLPPTBORANGK K,
                                  TBLPPTHAKMILIKBORANGK HK
                            WHERE H.ID_BORANGK = K.ID_BORANGK
                              AND HK.ID_BORANGK = K.ID_BORANGK
                              AND HK.ID_HAKMILIK = $P!{id_hakmilik}) IS NOT NULL
                        THEN 'Endorsan Borang K diterima. '
                     ELSE ''
                  END
                 ) AS KRONOLOGI,
                 TO_NUMBER ('24') AS TURUTAN,
                 (SELECT TO_DATE (TO_CHAR (H.TARIKH_TERIMA, 'DD/MM/YYYY'),
                                  'DD/MM/YYYY'
                                 ) AS TARIKH_TERIMA
                    FROM TBLPPTENDOSANBORANGK H,
                         TBLPPTBORANGK K,
                         TBLPPTHAKMILIKBORANGK HK
                   WHERE H.ID_BORANGK = K.ID_BORANGK
                     AND HK.ID_BORANGK = K.ID_BORANGK
                     AND HK.ID_HAKMILIK = $P!{id_hakmilik}) AS TARIKH
            FROM DUAL
        UNION
        SELECT   (CASE
                     WHEN (   ((SELECT DISTINCT P.FLAG_SEGERA
                                           FROM TBLPPTHAKMILIK H,
                                                TBLPPTPERMOHONAN P
                                          WHERE H.ID_HAKMILIK = $P!{id_hakmilik}
                                            AND H.ID_PERMOHONAN =
                                                               P.ID_PERMOHONAN) =
                                                                           '1'
                              )
                           OR ((SELECT H.FLAG_SEGERA_SEBAHAGIAN
                                  FROM TBLPPTHAKMILIK H, TBLPPTPERMOHONAN P
                                 WHERE H.ID_HAKMILIK = $P!{id_hakmilik}
                                   AND H.ID_PERMOHONAN = P.ID_PERMOHONAN) =
                                                                           'Y'
                              )
                          )
                     AND (SELECT DISTINCT A.TARIKH_BORANGI
                                     FROM TBLPPTBORANGI A, TBLPPTPERMOHONAN C
                                    WHERE A.ID_PERMOHONAN = C.ID_PERMOHONAN
                                      AND C.ID_PERMOHONAN IN (
                                                 SELECT ID_PERMOHONAN
                                                   FROM TBLPPTHAKMILIK
                                                  WHERE ID_HAKMILIK =
                                                                     $P!{id_hakmilik})) IS NOT NULL
                        THEN 'Borang I telah dikeluarkan. '
                     ELSE ''
                  END
                 ) AS KRONOLOGI,
                 TO_NUMBER ('25') AS TURUTAN,
                 (SELECT TO_DATE (TO_CHAR (TARIKH_BORANGI, 'DD/MM/YYYY'),
                                  'DD/MM/YYYY'
                                 )
                    FROM TBLPPTBORANGI A, TBLPPTPERMOHONAN C
                   WHERE A.ID_PERMOHONAN = C.ID_PERMOHONAN
                     AND C.ID_PERMOHONAN IN (SELECT ID_PERMOHONAN
                                               FROM TBLPPTHAKMILIK
                                              WHERE ID_HAKMILIK = $P!{id_hakmilik}))
                                                                    AS TARIKH
            FROM DUAL
        UNION
        SELECT      (CASE
                        WHEN (SELECT DISTINCT B.TARIKH_PU
                                         FROM TBLPPTHAKMILIK A,
                                              TBLPPTPERMINTAANUKUR B
                                        WHERE B.ID_HAKMILIK = A.ID_HAKMILIK
                                          AND B.ID_HAKMILIK = $P!{id_hakmilik}) IS NOT NULL
                           THEN    'Permohonan Permintaan Ukur '
                                || (SELECT DISTINCT    '(No. PU: '
                                                    || B.NO_PU
                                                    || ')'
                                               FROM TBLPPTHAKMILIK A,
                                                    TBLPPTPERMINTAANUKUR B
                                              WHERE B.ID_HAKMILIK =
                                                                 A.ID_HAKMILIK
                                                AND B.ID_HAKMILIK = $P!{id_hakmilik}
                                                AND B.NO_PU IS NOT NULL)
                                || ' telah dilakukan. '
                        ELSE ''
                     END
                    )
                 || (CASE
                        WHEN (SELECT DISTINCT B.LUAS_PU
                                         FROM TBLPPTHAKMILIK A,
                                              TBLPPTPERMINTAANUKUR B
                                        WHERE B.ID_HAKMILIK = A.ID_HAKMILIK
                                          AND B.ID_HAKMILIK = $P!{id_hakmilik}) IS NOT NULL
                           THEN    'Luas Pelan Akui adalah '
                                || (SELECT DISTINCT    TRIM
                                                          (TO_CHAR
                                                              (B.LUAS_PU,
                                                               '999999999990.9999'
                                                              )
                                                          )
                                                    || ' Hektar' AS LUAS_PU
                                               FROM TBLPPTHAKMILIK A,
                                                    TBLPPTPERMINTAANUKUR B
                                              WHERE B.ID_HAKMILIK =
                                                                 A.ID_HAKMILIK
                                                AND B.ID_HAKMILIK = $P!{id_hakmilik})
                                || '. '
                        ELSE ''
                     END
                    )
                 || (CASE
                        WHEN (SELECT DISTINCT B.BEZA_LUAS
                                         FROM TBLPPTHAKMILIK A,
                                              TBLPPTPERMINTAANUKUR B
                                        WHERE B.ID_HAKMILIK = A.ID_HAKMILIK
                                          AND B.ID_HAKMILIK = $P!{id_hakmilik}) IS NOT NULL
                           THEN    'Perbezaan luas adalah '
                                || (SELECT DISTINCT    TRIM
                                                          (TO_CHAR
                                                              (B.BEZA_LUAS,
                                                               '999999999990.9999'
                                                              )
                                                          )
                                                    || ' Hektar' AS LUAS_PU
                                               FROM TBLPPTHAKMILIK A,
                                                    TBLPPTPERMINTAANUKUR B
                                              WHERE B.ID_HAKMILIK =
                                                                 A.ID_HAKMILIK
                                                AND B.ID_HAKMILIK = $P!{id_hakmilik})
                                || '. '
                        ELSE ''
                     END
                    ) AS KRONOLOGI,
                 TO_NUMBER ('26') AS TURUTAN,
                 (SELECT DISTINCT TO_DATE
                                         (TO_CHAR (B.TARIKH_PU, 'DD/MM/YYYY'),
                                          'DD/MM/YYYY'
                                         ) AS TARIKH_PU
                             FROM TBLPPTHAKMILIK A,
                                  TBLPPTPERMINTAANUKUR B
                            WHERE B.ID_HAKMILIK = A.ID_HAKMILIK
                              AND B.ID_HAKMILIK = $P!{id_hakmilik}) AS TARIKH
            FROM DUAL
        UNION
        SELECT      (CASE
                        WHEN (SELECT PB.TARIKH_SURAT
                                FROM TBLPPTPENARIKANHAKMILIK PH,
                                     TBLPPTPENARIKANBALIK PB
                               WHERE PH.ID_PENARIKANBALIK =
                                                          PB.ID_PENARIKANBALIK
                                 AND PH.ID_HAKMILIK = $P!{id_hakmilik}) IS NOT NULL
                           THEN 'Permohonan untuk Penarikan Balik bagi hakmilik ini dibuat. '
                        ELSE ''
                     END
                    )
                 || (CASE
                        WHEN (SELECT PB.NO_RUJUKAN_SURAT
                                FROM TBLPPTPENARIKANHAKMILIK PH,
                                     TBLPPTPENARIKANBALIK PB
                               WHERE PH.ID_PENARIKANBALIK =
                                                          PB.ID_PENARIKANBALIK
                                 AND PH.ID_HAKMILIK = $P!{id_hakmilik}) IS NOT NULL
                           THEN    'No. Rujukan Surat permohonan penarikan balik adalah '
                                || (SELECT PB.NO_RUJUKAN_SURAT
                                      FROM TBLPPTPENARIKANHAKMILIK PH,
                                           TBLPPTPENARIKANBALIK PB
                                     WHERE PH.ID_PENARIKANBALIK =
                                                          PB.ID_PENARIKANBALIK
                                       AND PH.ID_HAKMILIK = $P!{id_hakmilik})
                                || '. '
                        ELSE ''
                     END
                    ) AS KRONOLOGI,
                 TO_NUMBER ('27') AS TURUTAN,
                 (SELECT TO_DATE (TO_CHAR (PB.TARIKH_SURAT, 'DD/MM/YYYY'),
                                  'DD/MM/YYYY'
                                 )
                    FROM TBLPPTPENARIKANHAKMILIK PH, TBLPPTPENARIKANBALIK PB
                   WHERE PH.ID_PENARIKANBALIK = PB.ID_PENARIKANBALIK
                     AND PH.ID_HAKMILIK = $P!{id_hakmilik}) AS TARIKH
            FROM DUAL
        UNION
        SELECT   (CASE
                     WHEN (SELECT TARIKH_PEMERIKSAAN
                             FROM TBLPPTTANAHUMUM T
                            WHERE T.ID_HAKMILIK = $P!{id_hakmilik}) IS NOT NULL
                        THEN 'Lawatan tapak dilakukan bagi pemeriksaan hakmilik yang ditarik balik. '
                     ELSE ''
                  END
                 ) AS KRONOLOGI,
                 TO_NUMBER ('28') AS TURUTAN,
                 (SELECT TO_DATE (TO_CHAR (PB.TARIKH_SURAT, 'DD/MM/YYYY'),
                                  'DD/MM/YYYY'
                                 )
                    FROM TBLPPTPENARIKANHAKMILIK PH, TBLPPTPENARIKANBALIK PB
                   WHERE PH.ID_PENARIKANBALIK = PB.ID_PENARIKANBALIK
                     AND PH.ID_HAKMILIK = $P!{id_hakmilik}) AS TARIKH
            FROM DUAL
        UNION
        SELECT   (CASE
                     WHEN (SELECT C.TARIKH_HANTAR
                             FROM TBLPPTMMK A, TBLPPTMMKKEPUTUSAN C
                            WHERE C.ID_MMK(+) = A.ID_MMK
                              AND A.ID_PENARIKANBALIK IN (
                                     SELECT PB.ID_PENARIKANBALIK
                                       FROM TBLPPTPENARIKANHAKMILIK PH,
                                            TBLPPTPENARIKANBALIK PB
                                      WHERE PH.ID_PENARIKANBALIK =
                                                          PB.ID_PENARIKANBALIK
                                        AND PH.ID_HAKMILIK = $P!{id_hakmilik})) IS NOT NULL
                        THEN 'Kertas MMK/MB/KM/LC bagi urusan penarikan balik telah disediakan untuk mendapat kelulusan PBN. '
                     ELSE ''
                  END
                 ) AS KRONOLOGI,
                 TO_NUMBER ('29') AS TURUTAN,
                 (SELECT TO_DATE (TO_CHAR (C.TARIKH_HANTAR, 'DD/MM/YYYY'),
                                  'DD/MM/YYYY'
                                 ) AS TARIKH_HANTAR
                    FROM TBLPPTMMK A, TBLPPTMMKKEPUTUSAN C
                   WHERE C.ID_MMK(+) = A.ID_MMK
                     AND A.ID_PENARIKANBALIK IN (
                            SELECT PB.ID_PENARIKANBALIK
                              FROM TBLPPTPENARIKANHAKMILIK PH,
                                   TBLPPTPENARIKANBALIK PB
                             WHERE PH.ID_PENARIKANBALIK = PB.ID_PENARIKANBALIK
                               AND PH.ID_HAKMILIK = $P!{id_hakmilik})) AS TARIKH
            FROM DUAL
        UNION
        SELECT      (CASE
                        WHEN (SELECT C.TARIKH_TERIMA
                                FROM TBLPPTMMK A, TBLPPTMMKKEPUTUSAN C
                               WHERE C.ID_MMK(+) = A.ID_MMK
                                 AND A.ID_PENARIKANBALIK IN (
                                        SELECT PB.ID_PENARIKANBALIK
                                          FROM TBLPPTPENARIKANHAKMILIK PH,
                                               TBLPPTPENARIKANBALIK PB
                                         WHERE PH.ID_PENARIKANBALIK =
                                                          PB.ID_PENARIKANBALIK
                                           AND PH.ID_HAKMILIK = $P!{id_hakmilik})) IS NOT NULL
                           THEN 'Menerima keputusan dari PBN bagi urusan Penarikan Balik'
                        ELSE ''
                     END
                    )
                 || (CASE
                        WHEN (SELECT C.STATUS_KEPUTUSAN
                                FROM TBLPPTMMK A, TBLPPTMMKKEPUTUSAN C
                               WHERE C.ID_MMK(+) = A.ID_MMK
                                 AND A.ID_PENARIKANBALIK IN (
                                        SELECT PB.ID_PENARIKANBALIK
                                          FROM TBLPPTPENARIKANHAKMILIK PH,
                                               TBLPPTPENARIKANBALIK PB
                                         WHERE PH.ID_PENARIKANBALIK =
                                                          PB.ID_PENARIKANBALIK
                                           AND PH.ID_HAKMILIK = $P!{id_hakmilik})) =
                                                                             1
                           THEN ' dan keputusanya adalah diluluskan.'
                        WHEN (SELECT C.STATUS_KEPUTUSAN
                                FROM TBLPPTMMK A, TBLPPTMMKKEPUTUSAN C
                               WHERE C.ID_MMK(+) = A.ID_MMK
                                 AND A.ID_PENARIKANBALIK IN (
                                        SELECT PB.ID_PENARIKANBALIK
                                          FROM TBLPPTPENARIKANHAKMILIK PH,
                                               TBLPPTPENARIKANBALIK PB
                                         WHERE PH.ID_PENARIKANBALIK =
                                                          PB.ID_PENARIKANBALIK
                                           AND PH.ID_HAKMILIK = $P!{id_hakmilik})) =
                                                                             2
                           THEN ' dan keputusanya adalah ditolak.'
                        WHEN (SELECT C.STATUS_KEPUTUSAN
                                FROM TBLPPTMMK A, TBLPPTMMKKEPUTUSAN C
                               WHERE C.ID_MMK(+) = A.ID_MMK
                                 AND A.ID_PENARIKANBALIK IN (
                                        SELECT PB.ID_PENARIKANBALIK
                                          FROM TBLPPTPENARIKANHAKMILIK PH,
                                               TBLPPTPENARIKANBALIK PB
                                         WHERE PH.ID_PENARIKANBALIK =
                                                          PB.ID_PENARIKANBALIK
                                           AND PH.ID_HAKMILIK = $P!{id_hakmilik})) =
                                                                             3
                           THEN ' dan keputusanya adalah ditangguh.'
                        ELSE '.'
                     END
                    ) AS KRONOLOGI,
                 TO_NUMBER ('30') AS TURUTAN,
                 (SELECT TO_DATE (TO_CHAR (C.TARIKH_TERIMA, 'DD/MM/YYYY'),
                                  'DD/MM/YYYY'
                                 ) AS TARIKH_MMK
                    FROM TBLPPTMMK A, TBLPPTMMKKEPUTUSAN C
                   WHERE C.ID_MMK(+) = A.ID_MMK
                     AND A.ID_PENARIKANBALIK IN (
                            SELECT PB.ID_PENARIKANBALIK
                              FROM TBLPPTPENARIKANHAKMILIK PH,
                                   TBLPPTPENARIKANBALIK PB
                             WHERE PH.ID_PENARIKANBALIK = PB.ID_PENARIKANBALIK
                               AND PH.ID_HAKMILIK = $P!{id_hakmilik})) AS TARIKH
            FROM DUAL
        UNION
        SELECT      (CASE
                        WHEN (SELECT DISTINCT TARIKH_WARTA
                                         FROM TBLPPTWARTA
                                        WHERE ID_PENARIKANBALIK IN (
                                                 SELECT PB.ID_PENARIKANBALIK
                                                   FROM TBLPPTPENARIKANHAKMILIK PH,
                                                        TBLPPTPENARIKANBALIK PB
                                                  WHERE PH.ID_PENARIKANBALIK =
                                                           PB.ID_PENARIKANBALIK
                                                    AND PH.ID_HAKMILIK =
                                                                     $P!{id_hakmilik})
                                          AND TARIKH_WARTA =
                                                 (SELECT MAX (TARIKH_WARTA)
                                                    FROM TBLPPTWARTA
                                                   WHERE ID_PENARIKANBALIK IN (
                                                            SELECT PB.ID_PENARIKANBALIK
                                                              FROM TBLPPTPENARIKANHAKMILIK PH,
                                                                   TBLPPTPENARIKANBALIK PB
                                                             WHERE PH.ID_PENARIKANBALIK =
                                                                      PB.ID_PENARIKANBALIK
                                                               AND PH.ID_HAKMILIK =
                                                                      $P!{id_hakmilik}))
                                          AND TARIKH_WARTA IS NOT NULL
                                          AND ROWNUM = 1) IS NOT NULL
                           THEN 'Warta untuk permohonan penarikan balik dikeluarkan. '
                        ELSE ''
                     END
                    )
                 || (CASE
                        WHEN (SELECT DISTINCT NO_WARTA
                                         FROM TBLPPTWARTA
                                        WHERE ID_PENARIKANBALIK IN (
                                                 SELECT PB.ID_PENARIKANBALIK
                                                   FROM TBLPPTPENARIKANHAKMILIK PH,
                                                        TBLPPTPENARIKANBALIK PB
                                                  WHERE PH.ID_PENARIKANBALIK =
                                                           PB.ID_PENARIKANBALIK
                                                    AND PH.ID_HAKMILIK =
                                                                     $P!{id_hakmilik})
                                          AND TARIKH_WARTA =
                                                 (SELECT MAX (TARIKH_WARTA)
                                                    FROM TBLPPTWARTA
                                                   WHERE ID_PENARIKANBALIK IN (
                                                            SELECT PB.ID_PENARIKANBALIK
                                                              FROM TBLPPTPENARIKANHAKMILIK PH,
                                                                   TBLPPTPENARIKANBALIK PB
                                                             WHERE PH.ID_PENARIKANBALIK =
                                                                      PB.ID_PENARIKANBALIK
                                                               AND PH.ID_HAKMILIK =
                                                                      $P!{id_hakmilik}))
                                          AND TARIKH_WARTA IS NOT NULL
                                          AND ROWNUM = 1) IS NOT NULL
                           THEN    'No Warta adalah '
                                || (SELECT DISTINCT NO_WARTA
                                               FROM TBLPPTWARTA
                                              WHERE ID_PENARIKANBALIK IN (
                                                       SELECT PB.ID_PENARIKANBALIK
                                                         FROM TBLPPTPENARIKANHAKMILIK PH,
                                                              TBLPPTPENARIKANBALIK PB
                                                        WHERE PH.ID_PENARIKANBALIK =
                                                                 PB.ID_PENARIKANBALIK
                                                          AND PH.ID_HAKMILIK =
                                                                     $P!{id_hakmilik})
                                                AND TARIKH_WARTA =
                                                       (SELECT MAX
                                                                  (TARIKH_WARTA
                                                                  )
                                                          FROM TBLPPTWARTA
                                                         WHERE ID_PENARIKANBALIK IN (
                                                                  SELECT PB.ID_PENARIKANBALIK
                                                                    FROM TBLPPTPENARIKANHAKMILIK PH,
                                                                         TBLPPTPENARIKANBALIK PB
                                                                   WHERE PH.ID_PENARIKANBALIK =
                                                                            PB.ID_PENARIKANBALIK
                                                                     AND PH.ID_HAKMILIK =
                                                                            $P!{id_hakmilik}))
                                                AND TARIKH_WARTA IS NOT NULL
                                                AND ROWNUM = 1)
                                || '. '
                        ELSE ''
                     END
                    ) AS KRONOLOGI,
                 TO_NUMBER ('31') AS TURUTAN,
                 (SELECT DISTINCT TO_DATE
                                     (TO_CHAR (TARIKH_WARTA, 'DD/MM/YYYY'),
                                      'DD/MM/YYYY'
                                     ) AS TARIKH_WARTA
                             FROM TBLPPTWARTA
                            WHERE ID_PENARIKANBALIK IN (
                                     SELECT PB.ID_PENARIKANBALIK
                                       FROM TBLPPTPENARIKANHAKMILIK PH,
                                            TBLPPTPENARIKANBALIK PB
                                      WHERE PH.ID_PENARIKANBALIK =
                                                          PB.ID_PENARIKANBALIK
                                        AND PH.ID_HAKMILIK = $P!{id_hakmilik})
                              AND TARIKH_WARTA =
                                     (SELECT MAX (TARIKH_WARTA)
                                        FROM TBLPPTWARTA
                                       WHERE ID_PENARIKANBALIK IN (
                                                SELECT PB.ID_PENARIKANBALIK
                                                  FROM TBLPPTPENARIKANHAKMILIK PH,
                                                       TBLPPTPENARIKANBALIK PB
                                                 WHERE PH.ID_PENARIKANBALIK =
                                                          PB.ID_PENARIKANBALIK
                                                   AND PH.ID_HAKMILIK =
                                                                     $P!{id_hakmilik}))
                              AND TARIKH_WARTA IS NOT NULL
                              AND ROWNUM = 1) AS TARIKH
            FROM DUAL
        UNION
        SELECT   KRONOLOGI, TURUTAN, TARIKH_SIASATAN AS TARIKH
            FROM (SELECT    (CASE
                                WHEN S.TARIKH_SIASATAN IS NOT NULL
                                   THEN    'Urusan siasatan bagi hakmilik yang ditarik balik ('
                                        || (CASE
                                               WHEN S.NO_KES IS NOT NULL
                                                  THEN    'No. Kes : '
                                                       || S.NO_KES
                                                       || ', '
                                               ELSE ''
                                            END
                                           )
                                        || (CASE
                                               WHEN S.BIL_SIASATAN IS NOT NULL
                                                  THEN    'Bil. Siasatan : '
                                                       || S.BIL_SIASATAN
                                                       || ''
                                               ELSE ''
                                            END
                                           )
                                        || ') telah dilakukan. '
                                ELSE ''
                             END
                            )
                         || (CASE
                                WHEN S.TEMPAT IS NOT NULL
                                   THEN 'di ' || TEMPAT || ' '
                                ELSE ''
                             END
                            )
                         || (CASE
                                WHEN S.STATUS_SIASATAN IS NOT NULL
                                   THEN    'Status semasa siasatan adalah '
                                        || CASE
                                              WHEN S.STATUS_SIASATAN = '1'
                                                 THEN 'Siasatan Permulaan. '
                                              WHEN S.STATUS_SIASATAN = '2'
                                                 THEN 'Ditunda. '
                                              WHEN S.STATUS_SIASATAN = '3'
                                                 THEN 'Dibatalkan. '
                                              WHEN S.STATUS_SIASATAN = '4'
                                                 THEN 'Siasatan Ulangan. '
                                              WHEN S.STATUS_SIASATAN = '5'
                                                 THEN 'Sambung Siasatan. '
                                              WHEN S.STATUS_SIASATAN = '6'
                                                 THEN 'Selesai. '
                                              WHEN S.STATUS_SIASATAN = '7'
                                                 THEN 'Tangguh. '
                                              ELSE ''
                                           END
                                ELSE ''
                             END
                            )
                         || CASE
                               WHEN (SELECT NVL (SUM (BAYAR_PAMPASAN), 0)
                                       FROM TBLPPTAWARD
                                      WHERE ID_SIASATAN =
                                               (SELECT ID_SIASATAN
                                                  FROM TBLPPTSIASATAN
                                                 WHERE ID_HAKMILIK = $P!{id_hakmilik}
                                                   AND STATUS_SIASATAN = '6'
                                                   AND ID_PENARIKANBALIK IN (
                                                          SELECT PB.ID_PENARIKANBALIK
                                                            FROM TBLPPTPENARIKANHAKMILIK PH,
                                                                 TBLPPTPENARIKANBALIK PB
                                                           WHERE PH.ID_PENARIKANBALIK =
                                                                    PB.ID_PENARIKANBALIK
                                                             AND PH.ID_HAKMILIK =
                                                                     $P!{id_hakmilik}))) >
                                                                             0
                                  THEN    'Sejumlah pampasan sebanyak RM '
                                       || (SELECT TRIM
                                                     (TO_CHAR
                                                         (SUM (BAYAR_PAMPASAN),
                                                          '999,999,999,990.99'
                                                         )
                                                     ) AS BAYAR_PAMPASAN
                                             FROM TBLPPTAWARD
                                            WHERE ID_SIASATAN =
                                                     (SELECT ID_SIASATAN
                                                        FROM TBLPPTSIASATAN
                                                       WHERE ID_HAKMILIK =
                                                                     $P!{id_hakmilik}
                                                         AND STATUS_SIASATAN =
                                                                           '6'
                                                         AND ID_PENARIKANBALIK IN (
                                                                SELECT PB.ID_PENARIKANBALIK
                                                                  FROM TBLPPTPENARIKANHAKMILIK PH,
                                                                       TBLPPTPENARIKANBALIK PB
                                                                 WHERE PH.ID_PENARIKANBALIK =
                                                                          PB.ID_PENARIKANBALIK
                                                                   AND PH.ID_HAKMILIK =
                                                                          $P!{id_hakmilik})))
                               ELSE ''
                            END
                         || ' '
                         || 'telah diawardkan kepada pihak-pihak perkepentingan yang terlibat.'
                                                                 AS KRONOLOGI,
                         TO_NUMBER ('32') AS TURUTAN,
                         TO_DATE
                             (TO_CHAR (S.TARIKH_SIASATAN, 'DD/MM/YYYY'),
                              'DD/MM/YYYY'
                             ) AS TARIKH_SIASATAN
                    FROM TBLPPTSIASATAN S
                   WHERE ID_HAKMILIK = $P!{id_hakmilik}
                     AND ID_PENARIKANBALIK IN (
                            SELECT PB.ID_PENARIKANBALIK
                              FROM TBLPPTPENARIKANHAKMILIK PH,
                                   TBLPPTPENARIKANBALIK PB
                             WHERE PH.ID_PENARIKANBALIK = PB.ID_PENARIKANBALIK
                               AND PH.ID_HAKMILIK = $P!{id_hakmilik})
                     AND S.TARIKH_SIASATAN IS NOT NULL)
        UNION
        SELECT   (CASE
                     WHEN (SELECT TARIKH_PEMBATALAN
                             FROM TBLPPTPEMBATALANHAKMILIK PH,
                                  TBLPPTPEMBATALAN PB
                            WHERE PH.ID_PEMBATALAN = PB.ID_PEMBATALAN
                              AND PH.ID_HAKMILIK = $P!{id_hakmilik}) IS NOT NULL
                        THEN 'Permohonan untuk Pembatalan bagi hakmilik ini telah dilakukan. '
                     ELSE ''
                  END
                 ) AS KRONOLOGI,
                 TO_NUMBER ('33') AS TURUTAN,
                 (SELECT TO_DATE (TO_CHAR (TARIKH_PEMBATALAN, 'DD/MM/YYYY'),
                                  'DD/MM/YYYY'
                                 )
                    FROM TBLPPTPEMBATALANHAKMILIK PH, TBLPPTPEMBATALAN PB
                   WHERE PH.ID_PEMBATALAN = PB.ID_PEMBATALAN
                     AND PH.ID_HAKMILIK = $P!{id_hakmilik}) AS TARIKH
            FROM DUAL
        ORDER BY TURUTAN, TARIKH)
 WHERE KRONOLOGI IS NOT NULL AND TARIKH IS NOT NULL]]></queryString>

	<field name="RN" class="java.math.BigDecimal"/>
	<field name="TURUTAN" class="java.lang.String"/>
	<field name="PEKARA" class="java.lang.String"/>
	<field name="TARIKH" class="java.lang.String"/>

		<background>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</background>
		<title>
			<band height="15"  isSplitAllowed="true" >
				<staticText>
					<reportElement
						mode="Opaque"
						x="99"
						y="-1"
						width="410"
						height="16"
						backcolor="#CCCCFF"
						key="staticText-8"
						stretchType="RelativeToBandHeight"
						positionType="Float"
						isPrintWhenDetailOverflows="true"/>
					<box>					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5" lineStyle="Solid"/>
					<leftPen lineWidth="0.5" lineStyle="Solid"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid"/>
					<rightPen lineWidth="0.5" lineStyle="Solid"/>
</box>
					<textElement>
						<font fontName="Arial" size="8"/>
					</textElement>
				<text><![CDATA[]]></text>
				</staticText>
				<staticText>
					<reportElement
						mode="Opaque"
						x="38"
						y="-1"
						width="61"
						height="16"
						backcolor="#CCCCFF"
						key="staticText-9"
						stretchType="RelativeToBandHeight"
						positionType="Float"
						isPrintWhenDetailOverflows="true"/>
					<box>					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5" lineStyle="Solid"/>
					<leftPen lineWidth="0.5" lineStyle="Solid"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid"/>
					<rightPen lineWidth="0.5" lineStyle="Solid"/>
</box>
					<textElement>
						<font fontName="Arial" size="8"/>
					</textElement>
				<text><![CDATA[]]></text>
				</staticText>
				<staticText>
					<reportElement
						mode="Opaque"
						x="0"
						y="-1"
						width="38"
						height="16"
						backcolor="#CCCCFF"
						key="staticText-10"
						stretchType="RelativeToBandHeight"
						positionType="Float"
						isPrintWhenDetailOverflows="true"/>
					<box>					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5" lineStyle="Solid"/>
					<leftPen lineWidth="0.5" lineStyle="Solid"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid"/>
					<rightPen lineWidth="0.5" lineStyle="Solid"/>
</box>
					<textElement>
						<font fontName="Arial" size="8"/>
					</textElement>
				<text><![CDATA[]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						mode="Opaque"
						x="4"
						y="3"
						width="29"
						height="10"
						backcolor="#CCCCFF"
						key="textField-8"
						stretchType="RelativeToBandHeight"
						positionType="Float"
						isPrintWhenDetailOverflows="true"/>
					<box></box>
					<textElement textAlignment="Center">
						<font fontName="Arial" pdfFontName="Helvetica-Bold" size="8" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA["NO."]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						mode="Opaque"
						x="41"
						y="3"
						width="56"
						height="10"
						backcolor="#CCCCFF"
						key="textField-9"
						stretchType="RelativeToBandHeight"
						positionType="Float"
						isPrintWhenDetailOverflows="true"/>
					<box></box>
					<textElement textAlignment="Center">
						<font fontName="Arial" pdfFontName="Helvetica-Bold" size="8" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA["TARIKH"]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						mode="Opaque"
						x="101"
						y="3"
						width="406"
						height="10"
						backcolor="#CCCCFF"
						key="textField-10"
						stretchType="RelativeToBandHeight"
						positionType="Float"
						isPrintWhenDetailOverflows="true"/>
					<box></box>
					<textElement textAlignment="Left">
						<font fontName="Arial" pdfFontName="Helvetica-Bold" size="8" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA["PEKARA"]]></textFieldExpression>
				</textField>
			</band>
		</title>
		<pageHeader>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</pageHeader>
		<columnHeader>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</columnHeader>
		<detail>
			<band height="14"  isSplitAllowed="false" >
				<staticText>
					<reportElement
						x="0"
						y="0"
						width="38"
						height="14"
						key="staticText-1"
						stretchType="RelativeToBandHeight"
						positionType="Float"
						isPrintWhenDetailOverflows="true">
							<printWhenExpression><![CDATA[new Boolean(($F{RN}.intValue()%2) == 1)]]></printWhenExpression>
						</reportElement>
					<box>					<topPen lineWidth="0.5" lineStyle="Solid"/>
					<leftPen lineWidth="0.5" lineStyle="Solid"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid"/>
					<rightPen lineWidth="0.5" lineStyle="Solid"/>
</box>
					<textElement>
						<font fontName="Arial" size="8"/>
					</textElement>
				<text><![CDATA[]]></text>
				</staticText>
				<staticText>
					<reportElement
						x="38"
						y="0"
						width="61"
						height="14"
						key="staticText-2"
						stretchType="RelativeToBandHeight"
						positionType="Float"
						isPrintWhenDetailOverflows="true">
							<printWhenExpression><![CDATA[new Boolean(($F{RN}.intValue()%2) == 1)]]></printWhenExpression>
						</reportElement>
					<box>					<topPen lineWidth="0.5" lineStyle="Solid"/>
					<leftPen lineWidth="0.5" lineStyle="Solid"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid"/>
					<rightPen lineWidth="0.5" lineStyle="Solid"/>
</box>
					<textElement>
						<font fontName="Arial" size="8"/>
					</textElement>
				<text><![CDATA[]]></text>
				</staticText>
				<staticText>
					<reportElement
						x="99"
						y="0"
						width="410"
						height="14"
						key="staticText-3"
						stretchType="RelativeToBandHeight"
						positionType="Float"
						isPrintWhenDetailOverflows="true">
							<printWhenExpression><![CDATA[new Boolean(($F{RN}.intValue()%2) == 1)]]></printWhenExpression>
						</reportElement>
					<box>					<topPen lineWidth="0.5" lineStyle="Solid"/>
					<leftPen lineWidth="0.5" lineStyle="Solid"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid"/>
					<rightPen lineWidth="0.5" lineStyle="Solid"/>
</box>
					<textElement>
						<font fontName="Arial" size="8"/>
					</textElement>
				<text><![CDATA[]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="2"
						y="2"
						width="34"
						height="10"
						key="textField-1"
						stretchType="RelativeToBandHeight"
						positionType="Float"
						isPrintWhenDetailOverflows="true">
							<printWhenExpression><![CDATA[new Boolean(($F{RN}.intValue()%2) == 1)]]></printWhenExpression>
						</reportElement>
					<box></box>
					<textElement textAlignment="Center">
						<font fontName="Arial" pdfFontName="Helvetica" size="8" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[($F{TURUTAN} != null ? $F{TURUTAN}:"")]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="42"
						y="2"
						width="53"
						height="10"
						key="textField-2"
						stretchType="RelativeToBandHeight"
						positionType="Float"
						isPrintWhenDetailOverflows="true">
							<printWhenExpression><![CDATA[new Boolean(($F{RN}.intValue()%2) == 1)]]></printWhenExpression>
						</reportElement>
					<box></box>
					<textElement textAlignment="Center">
						<font fontName="Arial" pdfFontName="Helvetica" size="8" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[($F{TARIKH} != null ? $F{TARIKH}:"")]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="101"
						y="2"
						width="406"
						height="10"
						key="textField-3"
						stretchType="RelativeToBandHeight"
						positionType="Float"
						isPrintWhenDetailOverflows="true">
							<printWhenExpression><![CDATA[new Boolean(($F{RN}.intValue()%2) == 1)]]></printWhenExpression>
						</reportElement>
					<box></box>
					<textElement textAlignment="Justified">
						<font fontName="Arial" pdfFontName="Helvetica" size="8" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[($F{PEKARA} != null ? $F{PEKARA}:"")]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement
						mode="Opaque"
						x="0"
						y="0"
						width="38"
						height="14"
						backcolor="#CCCCCC"
						key="staticText-5"
						stretchType="RelativeToBandHeight"
						positionType="Float"
						isPrintWhenDetailOverflows="true">
							<printWhenExpression><![CDATA[new Boolean(($F{RN}.intValue()%2) == 0)]]></printWhenExpression>
						</reportElement>
					<box>					<topPen lineWidth="0.5" lineStyle="Solid"/>
					<leftPen lineWidth="0.5" lineStyle="Solid"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid"/>
					<rightPen lineWidth="0.5" lineStyle="Solid"/>
</box>
					<textElement>
						<font fontName="Arial" size="8"/>
					</textElement>
				<text><![CDATA[]]></text>
				</staticText>
				<staticText>
					<reportElement
						mode="Opaque"
						x="38"
						y="0"
						width="61"
						height="14"
						backcolor="#CCCCCC"
						key="staticText-6"
						stretchType="RelativeToBandHeight"
						positionType="Float"
						isPrintWhenDetailOverflows="true">
							<printWhenExpression><![CDATA[new Boolean(($F{RN}.intValue()%2) == 0)]]></printWhenExpression>
						</reportElement>
					<box>					<topPen lineWidth="0.5" lineStyle="Solid"/>
					<leftPen lineWidth="0.5" lineStyle="Solid"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid"/>
					<rightPen lineWidth="0.5" lineStyle="Solid"/>
</box>
					<textElement>
						<font fontName="Arial" size="8"/>
					</textElement>
				<text><![CDATA[]]></text>
				</staticText>
				<staticText>
					<reportElement
						mode="Opaque"
						x="99"
						y="0"
						width="410"
						height="14"
						backcolor="#CCCCCC"
						key="staticText-7"
						stretchType="RelativeToBandHeight"
						positionType="Float"
						isPrintWhenDetailOverflows="true">
							<printWhenExpression><![CDATA[new Boolean(($F{RN}.intValue()%2) == 0)]]></printWhenExpression>
						</reportElement>
					<box>					<topPen lineWidth="0.5" lineStyle="Solid"/>
					<leftPen lineWidth="0.5" lineStyle="Solid"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid"/>
					<rightPen lineWidth="0.5" lineStyle="Solid"/>
</box>
					<textElement>
						<font fontName="Arial" size="8"/>
					</textElement>
				<text><![CDATA[]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						mode="Opaque"
						x="2"
						y="2"
						width="34"
						height="10"
						backcolor="#CCCCCC"
						key="textField-5"
						stretchType="RelativeToBandHeight"
						positionType="Float"
						isPrintWhenDetailOverflows="true">
							<printWhenExpression><![CDATA[new Boolean(($F{RN}.intValue()%2) == 0)]]></printWhenExpression>
						</reportElement>
					<box></box>
					<textElement textAlignment="Center">
						<font fontName="Arial" pdfFontName="Helvetica" size="8" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[($F{TURUTAN} != null ? $F{TURUTAN}:"")]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						mode="Opaque"
						x="42"
						y="2"
						width="53"
						height="10"
						backcolor="#CCCCCC"
						key="textField-6"
						stretchType="RelativeToBandHeight"
						positionType="Float"
						isPrintWhenDetailOverflows="true">
							<printWhenExpression><![CDATA[new Boolean(($F{RN}.intValue()%2) == 0)]]></printWhenExpression>
						</reportElement>
					<box></box>
					<textElement textAlignment="Center">
						<font fontName="Arial" pdfFontName="Helvetica" size="8" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[($F{TARIKH} != null ? $F{TARIKH}:"")]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						mode="Opaque"
						x="101"
						y="2"
						width="406"
						height="10"
						backcolor="#CCCCCC"
						key="textField-7"
						stretchType="RelativeToBandHeight"
						positionType="Float"
						isPrintWhenDetailOverflows="true">
							<printWhenExpression><![CDATA[new Boolean(($F{RN}.intValue()%2) == 0)]]></printWhenExpression>
						</reportElement>
					<box></box>
					<textElement textAlignment="Justified">
						<font fontName="Arial" pdfFontName="Helvetica" size="8" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[($F{PEKARA} != null ? $F{PEKARA}:"")]]></textFieldExpression>
				</textField>
			</band>
		</detail>
		<columnFooter>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</columnFooter>
		<pageFooter>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</pageFooter>
		<summary>
			<band height="0"  isSplitAllowed="false" >
			</band>
		</summary>
		<noData>
			<band height="14"  isSplitAllowed="true" >
				<staticText>
					<reportElement
						x="0"
						y="0"
						width="509"
						height="14"
						key="staticText-4"
						stretchType="RelativeToBandHeight"
						positionType="Float"
						isPrintWhenDetailOverflows="true"/>
					<box>					<topPen lineWidth="0.5" lineStyle="Solid"/>
					<leftPen lineWidth="0.5" lineStyle="Solid"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid"/>
					<rightPen lineWidth="0.5" lineStyle="Solid"/>
</box>
					<textElement>
						<font fontName="Arial" size="8"/>
					</textElement>
				<text><![CDATA[]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="194"
						y="2"
						width="96"
						height="10"
						key="textField-4"
						stretchType="RelativeToBandHeight"
						positionType="Float"
						isPrintWhenDetailOverflows="true"/>
					<box></box>
					<textElement textAlignment="Center">
						<font fontName="Arial" pdfFontName="Helvetica" size="6" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA["Tiada Rekod"]]></textFieldExpression>
				</textField>
			</band>
		</noData>
</jasperReport>
